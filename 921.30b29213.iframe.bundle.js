/*! For license information please see 921.30b29213.iframe.bundle.js.LICENSE.txt */
(self.webpackChunknextjs_template=self.webpackChunknextjs_template||[]).push([[921],{"./node_modules/@mui/material/Box/Box.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Box_Box});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),styled_engine=__webpack_require__("./node_modules/@mui/styled-engine/index.js"),styleFunctionSx=__webpack_require__("./node_modules/@mui/system/esm/styleFunctionSx/styleFunctionSx.js"),extendSxProp=__webpack_require__("./node_modules/@mui/system/esm/styleFunctionSx/extendSxProp.js"),useTheme=__webpack_require__("./node_modules/@mui/system/esm/useTheme.js"),jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");const _excluded=["className","component"];var ClassNameGenerator=__webpack_require__("./node_modules/@mui/utils/esm/ClassNameGenerator/ClassNameGenerator.js"),createTheme=__webpack_require__("./node_modules/@mui/material/styles/createTheme.js"),identifier=__webpack_require__("./node_modules/@mui/material/styles/identifier.js");const Box_boxClasses=(0,__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js").A)("MuiBox",["root"]),defaultTheme=(0,createTheme.A)(),Box=function createBox(options={}){const{themeId,defaultTheme,defaultClassName="MuiBox-root",generateClassName}=options,BoxRoot=(0,styled_engine.default)("div",{shouldForwardProp:prop=>"theme"!==prop&&"sx"!==prop&&"as"!==prop})(styleFunctionSx.A);return react.forwardRef((function Box(inProps,ref){const theme=(0,useTheme.A)(defaultTheme),_extendSxProp=(0,extendSxProp.A)(inProps),{className,component="div"}=_extendSxProp,other=(0,objectWithoutPropertiesLoose.A)(_extendSxProp,_excluded);return(0,jsx_runtime.jsx)(BoxRoot,(0,esm_extends.A)({as:component,ref,className:(0,clsx.A)(className,generateClassName?generateClassName(defaultClassName):defaultClassName),theme:themeId&&theme[themeId]||theme},other))}))}({themeId:identifier.A,defaultTheme,defaultClassName:Box_boxClasses.root,generateClassName:ClassNameGenerator.A.generate}),Box_Box=Box},"./node_modules/@mui/material/Stack/Stack.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Stack_Stack});var objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),deepmerge=__webpack_require__("./node_modules/@mui/utils/esm/deepmerge/deepmerge.js"),generateUtilityClass=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js"),composeClasses=__webpack_require__("./node_modules/@mui/utils/esm/composeClasses/composeClasses.js"),styled_engine=__webpack_require__("./node_modules/@mui/styled-engine/index.js"),createTheme=__webpack_require__("./node_modules/@mui/system/esm/createTheme/createTheme.js"),styleFunctionSx=__webpack_require__("./node_modules/@mui/system/esm/styleFunctionSx/styleFunctionSx.js");const _excluded=["ownerState"],_excluded2=["variants"],_excluded3=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function shouldForwardProp(prop){return"ownerState"!==prop&&"theme"!==prop&&"sx"!==prop&&"as"!==prop}const systemDefaultTheme=(0,createTheme.A)(),lowercaseFirstLetter=string=>string?string.charAt(0).toLowerCase()+string.slice(1):string;function resolveTheme({defaultTheme,theme,themeId}){return function isEmpty(obj){return 0===Object.keys(obj).length}(theme)?defaultTheme:theme[themeId]||theme}function defaultOverridesResolver(slot){return slot?(props,styles)=>styles[slot]:null}function processStyleArg(callableStyle,_ref){let{ownerState}=_ref,props=(0,objectWithoutPropertiesLoose.A)(_ref,_excluded);const resolvedStylesArg="function"==typeof callableStyle?callableStyle((0,esm_extends.A)({ownerState},props)):callableStyle;if(Array.isArray(resolvedStylesArg))return resolvedStylesArg.flatMap((resolvedStyle=>processStyleArg(resolvedStyle,(0,esm_extends.A)({ownerState},props))));if(resolvedStylesArg&&"object"==typeof resolvedStylesArg&&Array.isArray(resolvedStylesArg.variants)){const{variants=[]}=resolvedStylesArg;let result=(0,objectWithoutPropertiesLoose.A)(resolvedStylesArg,_excluded2);return variants.forEach((variant=>{let isMatch=!0;"function"==typeof variant.props?isMatch=variant.props((0,esm_extends.A)({ownerState},props,ownerState)):Object.keys(variant.props).forEach((key=>{(null==ownerState?void 0:ownerState[key])!==variant.props[key]&&props[key]!==variant.props[key]&&(isMatch=!1)})),isMatch&&(Array.isArray(result)||(result=[result]),result.push("function"==typeof variant.style?variant.style((0,esm_extends.A)({ownerState},props,ownerState)):variant.style))})),result}return resolvedStylesArg}const styled=function createStyled(input={}){const{themeId,defaultTheme=systemDefaultTheme,rootShouldForwardProp=shouldForwardProp,slotShouldForwardProp=shouldForwardProp}=input,systemSx=props=>(0,styleFunctionSx.A)((0,esm_extends.A)({},props,{theme:resolveTheme((0,esm_extends.A)({},props,{defaultTheme,themeId}))}));return systemSx.__mui_systemSx=!0,(tag,inputOptions={})=>{(0,styled_engine.internal_processStyles)(tag,(styles=>styles.filter((style=>!(null!=style&&style.__mui_systemSx)))));const{name:componentName,slot:componentSlot,skipVariantsResolver:inputSkipVariantsResolver,skipSx:inputSkipSx,overridesResolver=defaultOverridesResolver(lowercaseFirstLetter(componentSlot))}=inputOptions,options=(0,objectWithoutPropertiesLoose.A)(inputOptions,_excluded3),skipVariantsResolver=void 0!==inputSkipVariantsResolver?inputSkipVariantsResolver:componentSlot&&"Root"!==componentSlot&&"root"!==componentSlot||!1,skipSx=inputSkipSx||!1;let shouldForwardPropOption=shouldForwardProp;"Root"===componentSlot||"root"===componentSlot?shouldForwardPropOption=rootShouldForwardProp:componentSlot?shouldForwardPropOption=slotShouldForwardProp:function isStringTag(tag){return"string"==typeof tag&&tag.charCodeAt(0)>96}(tag)&&(shouldForwardPropOption=void 0);const defaultStyledResolver=(0,styled_engine.default)(tag,(0,esm_extends.A)({shouldForwardProp:shouldForwardPropOption,label:undefined},options)),transformStyleArg=stylesArg=>"function"==typeof stylesArg&&stylesArg.__emotion_real!==stylesArg||(0,deepmerge.Q)(stylesArg)?props=>processStyleArg(stylesArg,(0,esm_extends.A)({},props,{theme:resolveTheme({theme:props.theme,defaultTheme,themeId})})):stylesArg,muiStyledResolver=(styleArg,...expressions)=>{let transformedStyleArg=transformStyleArg(styleArg);const expressionsWithDefaultTheme=expressions?expressions.map(transformStyleArg):[];componentName&&overridesResolver&&expressionsWithDefaultTheme.push((props=>{const theme=resolveTheme((0,esm_extends.A)({},props,{defaultTheme,themeId}));if(!theme.components||!theme.components[componentName]||!theme.components[componentName].styleOverrides)return null;const styleOverrides=theme.components[componentName].styleOverrides,resolvedStyleOverrides={};return Object.entries(styleOverrides).forEach((([slotKey,slotStyle])=>{resolvedStyleOverrides[slotKey]=processStyleArg(slotStyle,(0,esm_extends.A)({},props,{theme}))})),overridesResolver(props,resolvedStyleOverrides)})),componentName&&!skipVariantsResolver&&expressionsWithDefaultTheme.push((props=>{var _theme$components;const theme=resolveTheme((0,esm_extends.A)({},props,{defaultTheme,themeId}));return processStyleArg({variants:null==theme||null==(_theme$components=theme.components)||null==(_theme$components=_theme$components[componentName])?void 0:_theme$components.variants},(0,esm_extends.A)({},props,{theme}))})),skipSx||expressionsWithDefaultTheme.push(systemSx);const numOfCustomFnsApplied=expressionsWithDefaultTheme.length-expressions.length;if(Array.isArray(styleArg)&&numOfCustomFnsApplied>0){const placeholders=new Array(numOfCustomFnsApplied).fill("");transformedStyleArg=[...styleArg,...placeholders],transformedStyleArg.raw=[...styleArg.raw,...placeholders]}const Component=defaultStyledResolver(transformedStyleArg,...expressionsWithDefaultTheme);return tag.muiName&&(Component.muiName=tag.muiName),Component};return defaultStyledResolver.withConfig&&(muiStyledResolver.withConfig=defaultStyledResolver.withConfig),muiStyledResolver}}(),esm_styled=styled;var resolveProps=__webpack_require__("./node_modules/@mui/utils/esm/resolveProps/resolveProps.js");var useTheme=__webpack_require__("./node_modules/@mui/system/esm/useTheme.js");function useThemeProps({props,name,defaultTheme,themeId}){let theme=(0,useTheme.A)(defaultTheme);themeId&&(theme=theme[themeId]||theme);const mergedProps=function getThemeProps(params){const{theme,name,props}=params;return theme&&theme.components&&theme.components[name]&&theme.components[name].defaultProps?(0,resolveProps.A)(theme.components[name].defaultProps,props):props}({theme,name,props});return mergedProps}var extendSxProp=__webpack_require__("./node_modules/@mui/system/esm/styleFunctionSx/extendSxProp.js"),breakpoints=__webpack_require__("./node_modules/@mui/system/esm/breakpoints.js"),spacing=__webpack_require__("./node_modules/@mui/system/esm/spacing.js"),jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");const createStack_excluded=["component","direction","spacing","divider","children","className","useFlexGap"],defaultTheme=(0,createTheme.A)(),defaultCreateStyledComponent=esm_styled("div",{name:"MuiStack",slot:"Root",overridesResolver:(props,styles)=>styles.root});function useThemePropsDefault(props){return useThemeProps({props,name:"MuiStack",defaultTheme})}function joinChildren(children,separator){const childrenArray=react.Children.toArray(children).filter(Boolean);return childrenArray.reduce(((output,child,index)=>(output.push(child),index<childrenArray.length-1&&output.push(react.cloneElement(separator,{key:`separator-${index}`})),output)),[])}const style=({ownerState,theme})=>{let styles=(0,esm_extends.A)({display:"flex",flexDirection:"column"},(0,breakpoints.NI)({theme},(0,breakpoints.kW)({values:ownerState.direction,breakpoints:theme.breakpoints.values}),(propValue=>({flexDirection:propValue}))));if(ownerState.spacing){const transformer=(0,spacing.LX)(theme),base=Object.keys(theme.breakpoints.values).reduce(((acc,breakpoint)=>(("object"==typeof ownerState.spacing&&null!=ownerState.spacing[breakpoint]||"object"==typeof ownerState.direction&&null!=ownerState.direction[breakpoint])&&(acc[breakpoint]=!0),acc)),{}),directionValues=(0,breakpoints.kW)({values:ownerState.direction,base}),spacingValues=(0,breakpoints.kW)({values:ownerState.spacing,base});"object"==typeof directionValues&&Object.keys(directionValues).forEach(((breakpoint,index,breakpoints)=>{if(!directionValues[breakpoint]){const previousDirectionValue=index>0?directionValues[breakpoints[index-1]]:"column";directionValues[breakpoint]=previousDirectionValue}}));const styleFromPropValue=(propValue,breakpoint)=>{return ownerState.useFlexGap?{gap:(0,spacing._W)(transformer,propValue)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${direction=breakpoint?directionValues[breakpoint]:ownerState.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[direction]}`]:(0,spacing._W)(transformer,propValue)}};var direction};styles=(0,deepmerge.A)(styles,(0,breakpoints.NI)({theme},spacingValues,styleFromPropValue))}return styles=(0,breakpoints.iZ)(theme.breakpoints,styles),styles};var styles_styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),DefaultPropsProvider=__webpack_require__("./node_modules/@mui/material/DefaultPropsProvider/DefaultPropsProvider.js");const Stack=function createStack(options={}){const{createStyledComponent=defaultCreateStyledComponent,useThemeProps=useThemePropsDefault,componentName="MuiStack"}=options,StackRoot=createStyledComponent(style),Stack=react.forwardRef((function Grid(inProps,ref){const themeProps=useThemeProps(inProps),props=(0,extendSxProp.A)(themeProps),{component="div",direction="column",spacing=0,divider,children,className,useFlexGap=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,createStack_excluded),ownerState={direction,spacing,useFlexGap},classes=(0,composeClasses.A)({root:["root"]},(slot=>(0,generateUtilityClass.Ay)(componentName,slot)),{});return(0,jsx_runtime.jsx)(StackRoot,(0,esm_extends.A)({as:component,ownerState,ref,className:(0,clsx.A)(classes.root,className)},other,{children:divider?joinChildren(children,divider):children}))}));return Stack}({createStyledComponent:(0,styles_styled.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(props,styles)=>styles.root}),useThemeProps:inProps=>(0,DefaultPropsProvider.b)({props:inProps,name:"MuiStack"})}),Stack_Stack=Stack},"./node_modules/@storybook/nextjs/dist/images/next-image.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>next_image_default});var chunk_ETFXNGLC_defaultLoader=({src,width,quality=75})=>{let missingValues=[];if(src||missingValues.push("src"),width||missingValues.push("width"),missingValues.length>0)throw new Error(`Next Image Optimization requires ${missingValues.join(", ")} to be provided. Make sure you pass them as props to the \`next/image\` component. Received: ${JSON.stringify({src,width,quality})}`);let url=new URL(src,window.location.href);return!url.searchParams.has("w")&&!url.searchParams.has("q")&&(url.searchParams.set("w",width.toString()),url.searchParams.set("q",quality.toString())),src.startsWith("http://")||src.startsWith("https://")?url.toString():url.toString().slice(url.origin.length)},react=(__webpack_require__("./node_modules/@storybook/nextjs/dist/chunk-42AJV46F.mjs"),__webpack_require__("./node_modules/next/dist/compiled/react/index.js")),image_context=__webpack_require__("./node_modules/@storybook/nextjs/dist/image-context.mjs"),next_image=__webpack_require__("./node_modules/next/image.js"),OriginalNextImage=__webpack_require__.n(next_image)(),{getImageProps:originalGetImageProps}=next_image,ImageContext=image_context.Z,MockedNextImage=react.forwardRef((({loader,...props},ref)=>{let imageParameters=react.useContext(ImageContext);return react.createElement(OriginalNextImage,{ref,...imageParameters,...props,loader:loader??chunk_ETFXNGLC_defaultLoader})}));MockedNextImage.displayName="NextImage";var next_image_default=MockedNextImage},"./node_modules/konva/lib/Animation.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Animation=void 0;const Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),now=Global_1.glob.performance&&Global_1.glob.performance.now?function(){return Global_1.glob.performance.now()}:function(){return(new Date).getTime()};class Animation{constructor(func,layers){this.id=Animation.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:now(),frameRate:0},this.func=func,this.setLayers(layers)}setLayers(layers){let lays=[];return layers&&(lays=Array.isArray(layers)?layers:[layers]),this.layers=lays,this}getLayers(){return this.layers}addLayer(layer){const layers=this.layers,len=layers.length;for(let n=0;n<len;n++)if(layers[n]._id===layer._id)return!1;return this.layers.push(layer),!0}isRunning(){const animations=Animation.animations,len=animations.length;for(let n=0;n<len;n++)if(animations[n].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=now(),Animation._addAnimation(this),this}stop(){return Animation._removeAnimation(this),this}_updateFrameObject(time){this.frame.timeDiff=time-this.frame.lastTime,this.frame.lastTime=time,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(anim){this.animations.push(anim),this._handleAnimation()}static _removeAnimation(anim){const id=anim.id,animations=this.animations,len=animations.length;for(let n=0;n<len;n++)if(animations[n].id===id){this.animations.splice(n,1);break}}static _runFrames(){const layerHash={},animations=this.animations;for(let n=0;n<animations.length;n++){const anim=animations[n],layers=anim.layers,func=anim.func;anim._updateFrameObject(now());const layersLen=layers.length;let needRedraw;if(needRedraw=!func||!1!==func.call(anim,anim.frame),needRedraw)for(let i=0;i<layersLen;i++){const layer=layers[i];void 0!==layer._id&&(layerHash[layer._id]=layer)}}for(const key in layerHash)layerHash.hasOwnProperty(key)&&layerHash[key].batchDraw()}static _animationLoop(){const Anim=Animation;Anim.animations.length?(Anim._runFrames(),Util_1.Util.requestAnimFrame(Anim._animationLoop)):Anim.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Util_1.Util.requestAnimFrame(this._animationLoop))}}exports.Animation=Animation,Animation.animations=[],Animation.animIdCounter=0,Animation.animRunning=!1},"./node_modules/konva/lib/BezierFunctions.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.t2length=exports.getQuadraticArcLength=exports.getCubicArcLength=exports.binomialCoefficients=exports.cValues=exports.tValues=void 0,exports.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],exports.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],exports.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];exports.getCubicArcLength=(xs,ys,t)=>{let sum,correctedT;const z=t/2;sum=0;for(let i=0;i<20;i++)correctedT=z*exports.tValues[20][i]+z,sum+=exports.cValues[20][i]*BFunc(xs,ys,correctedT);return z*sum};function BFunc(xs,ys,t){const xbase=getDerivative(1,t,xs),ybase=getDerivative(1,t,ys),combined=xbase*xbase+ybase*ybase;return Math.sqrt(combined)}exports.getQuadraticArcLength=(xs,ys,t)=>{void 0===t&&(t=1);const ax=xs[0]-2*xs[1]+xs[2],ay=ys[0]-2*ys[1]+ys[2],bx=2*xs[1]-2*xs[0],by=2*ys[1]-2*ys[0],A=4*(ax*ax+ay*ay),B=4*(ax*bx+ay*by),C=bx*bx+by*by;if(0===A)return t*Math.sqrt(Math.pow(xs[2]-xs[0],2)+Math.pow(ys[2]-ys[0],2));const b=B/(2*A),u=t+b,k=C/A-b*b,uuk=u*u+k>0?Math.sqrt(u*u+k):0,bbk=b*b+k>0?Math.sqrt(b*b+k):0,term=b+Math.sqrt(b*b+k)!==0?k*Math.log(Math.abs((u+uuk)/(b+bbk))):0;return Math.sqrt(A)/2*(u*uuk-b*bbk+term)};const getDerivative=(derivative,t,vs)=>{const n=vs.length-1;let _vs,value;if(0===n)return 0;if(0===derivative){value=0;for(let k=0;k<=n;k++)value+=exports.binomialCoefficients[n][k]*Math.pow(1-t,n-k)*Math.pow(t,k)*vs[k];return value}_vs=new Array(n);for(let k=0;k<n;k++)_vs[k]=n*(vs[k+1]-vs[k]);return getDerivative(derivative-1,t,_vs)};exports.t2length=(length,totalLength,func)=>{let error=1,t=length/totalLength,step=(length-func(t))/totalLength,numIterations=0;for(;error>.001;){const increasedTLength=func(t+step),increasedTError=Math.abs(length-increasedTLength)/totalLength;if(increasedTError<error)error=increasedTError,t+=step;else{const decreasedTLength=func(t-step),decreasedTError=Math.abs(length-decreasedTLength)/totalLength;decreasedTError<error?(error=decreasedTError,t-=step):step/=2}if(numIterations++,numIterations>500)break}return t}},"./node_modules/konva/lib/Canvas.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HitCanvas=exports.SceneCanvas=exports.Canvas=void 0;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Context_1=__webpack_require__("./node_modules/konva/lib/Context.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");let _pixelRatio;class Canvas{constructor(config){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const pixelRatio=(config||{}).pixelRatio||Global_1.Konva.pixelRatio||function getDevicePixelRatio(){if(_pixelRatio)return _pixelRatio;const canvas=Util_1.Util.createCanvasElement(),context=canvas.getContext("2d");return _pixelRatio=(Global_1.Konva._global.devicePixelRatio||1)/(context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1),Util_1.Util.releaseCanvas(canvas),_pixelRatio}();this.pixelRatio=pixelRatio,this._canvas=Util_1.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(pixelRatio){const previousRatio=this.pixelRatio;this.pixelRatio=pixelRatio,this.setSize(this.getWidth()/previousRatio,this.getHeight()/previousRatio)}setWidth(width){this.width=this._canvas.width=width*this.pixelRatio,this._canvas.style.width=width+"px";const pixelRatio=this.pixelRatio;this.getContext()._context.scale(pixelRatio,pixelRatio)}setHeight(height){this.height=this._canvas.height=height*this.pixelRatio,this._canvas.style.height=height+"px";const pixelRatio=this.pixelRatio;this.getContext()._context.scale(pixelRatio,pixelRatio)}getWidth(){return this.width}getHeight(){return this.height}setSize(width,height){this.setWidth(width||0),this.setHeight(height||0)}toDataURL(mimeType,quality){try{return this._canvas.toDataURL(mimeType,quality)}catch(e){try{return this._canvas.toDataURL()}catch(err){return Util_1.Util.error("Unable to get data URL. "+err.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}exports.Canvas=Canvas,Factory_1.Factory.addGetterSetter(Canvas,"pixelRatio",void 0,(0,Validators_1.getNumberValidator)());exports.SceneCanvas=class SceneCanvas extends Canvas{constructor(config={width:0,height:0,willReadFrequently:!1}){super(config),this.context=new Context_1.SceneContext(this,{willReadFrequently:config.willReadFrequently}),this.setSize(config.width,config.height)}};exports.HitCanvas=class HitCanvas extends Canvas{constructor(config={width:0,height:0}){super(config),this.hitCanvas=!0,this.context=new Context_1.HitContext(this),this.setSize(config.width,config.height)}}},"./node_modules/konva/lib/Container.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Container=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");class Container extends Node_1.Node{constructor(){super(...arguments),this.children=[]}getChildren(filterFunc){if(!filterFunc)return this.children||[];const children=this.children||[],results=[];return children.forEach((function(child){filterFunc(child)&&results.push(child)})),results}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((child=>{child.parent=null,child.index=0,child.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((child=>{child.parent=null,child.index=0,child.destroy()})),this.children=[],this._requestDraw(),this}add(...children){if(0===children.length)return this;if(children.length>1){for(let i=0;i<children.length;i++)this.add(children[i]);return this}const child=children[0];return child.getParent()?(child.moveTo(this),this):(this._validateAdd(child),child.index=this.getChildren().length,child.parent=this,child._clearCaches(),this.getChildren().push(child),this._fire("add",{child}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(selector){return this._generalFind(selector,!1)}findOne(selector){const result=this._generalFind(selector,!0);return result.length>0?result[0]:void 0}_generalFind(selector,findOne){const retArr=[];return this._descendants((node=>{const valid=node._isMatch(selector);return valid&&retArr.push(node),!(!valid||!findOne)})),retArr}_descendants(fn){let shouldStop=!1;const children=this.getChildren();for(const child of children){if(shouldStop=fn(child),shouldStop)return!0;if(child.hasChildren()&&(shouldStop=child._descendants(fn),shouldStop))return!0}return!1}toObject(){const obj=Node_1.Node.prototype.toObject.call(this);return obj.children=[],this.getChildren().forEach((child=>{obj.children.push(child.toObject())})),obj}isAncestorOf(node){let parent=node.getParent();for(;parent;){if(parent._id===this._id)return!0;parent=parent.getParent()}return!1}clone(obj){const node=Node_1.Node.prototype.clone.call(this,obj);return this.getChildren().forEach((function(no){node.add(no.clone())})),node}getAllIntersections(pos){const arr=[];return this.find("Shape").forEach((shape=>{shape.isVisible()&&shape.intersects(pos)&&arr.push(shape)})),arr}_clearSelfAndDescendantCache(attr){var _a;super._clearSelfAndDescendantCache(attr),this.isCached()||null===(_a=this.children)||void 0===_a||_a.forEach((function(node){node._clearSelfAndDescendantCache(attr)}))}_setChildrenIndices(){var _a;null===(_a=this.children)||void 0===_a||_a.forEach((function(child,n){child.index=n})),this._requestDraw()}drawScene(can,top,bufferCanvas){const layer=this.getLayer(),canvas=can||layer&&layer.getCanvas(),context=canvas&&canvas.getContext(),cachedCanvas=this._getCanvasCache(),cachedSceneCanvas=cachedCanvas&&cachedCanvas.scene,caching=canvas&&canvas.isCache;if(!this.isVisible()&&!caching)return this;if(cachedSceneCanvas){context.save();const m=this.getAbsoluteTransform(top).getMatrix();context.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(context),context.restore()}else this._drawChildren("drawScene",canvas,top,bufferCanvas);return this}drawHit(can,top){if(!this.shouldDrawHit(top))return this;const layer=this.getLayer(),canvas=can||layer&&layer.hitCanvas,context=canvas&&canvas.getContext(),cachedCanvas=this._getCanvasCache();if(cachedCanvas&&cachedCanvas.hit){context.save();const m=this.getAbsoluteTransform(top).getMatrix();context.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedHitCanvas(context),context.restore()}else this._drawChildren("drawHit",canvas,top);return this}_drawChildren(drawMethod,canvas,top,bufferCanvas){var _a;const context=canvas&&canvas.getContext(),clipWidth=this.clipWidth(),clipHeight=this.clipHeight(),clipFunc=this.clipFunc(),hasClip="number"==typeof clipWidth&&"number"==typeof clipHeight||clipFunc,selfCache=top===this;if(hasClip){context.save();const transform=this.getAbsoluteTransform(top);let clipArgs,m=transform.getMatrix();if(context.transform(m[0],m[1],m[2],m[3],m[4],m[5]),context.beginPath(),clipFunc)clipArgs=clipFunc.call(this,context,this);else{const clipX=this.clipX(),clipY=this.clipY();context.rect(clipX||0,clipY||0,clipWidth,clipHeight)}context.clip.apply(context,clipArgs),m=transform.copy().invert().getMatrix(),context.transform(m[0],m[1],m[2],m[3],m[4],m[5])}const hasComposition=!selfCache&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===drawMethod;hasComposition&&(context.save(),context._applyGlobalCompositeOperation(this)),null===(_a=this.children)||void 0===_a||_a.forEach((function(child){child[drawMethod](canvas,top,bufferCanvas)})),hasComposition&&context.restore(),hasClip&&context.restore()}getClientRect(config={}){var _a;const skipTransform=config.skipTransform,relativeTo=config.relativeTo;let minX,minY,maxX,maxY,selfRect={x:1/0,y:1/0,width:0,height:0};const that=this;null===(_a=this.children)||void 0===_a||_a.forEach((function(child){if(!child.visible())return;const rect=child.getClientRect({relativeTo:that,skipShadow:config.skipShadow,skipStroke:config.skipStroke});0===rect.width&&0===rect.height||(void 0===minX?(minX=rect.x,minY=rect.y,maxX=rect.x+rect.width,maxY=rect.y+rect.height):(minX=Math.min(minX,rect.x),minY=Math.min(minY,rect.y),maxX=Math.max(maxX,rect.x+rect.width),maxY=Math.max(maxY,rect.y+rect.height)))}));const shapes=this.find("Shape");let hasVisible=!1;for(let i=0;i<shapes.length;i++){if(shapes[i]._isVisible(this)){hasVisible=!0;break}}return selfRect=hasVisible&&void 0!==minX?{x:minX,y:minY,width:maxX-minX,height:maxY-minY}:{x:0,y:0,width:0,height:0},skipTransform?selfRect:this._transformedRect(selfRect,relativeTo)}}exports.Container=Container,Factory_1.Factory.addComponentsGetterSetter(Container,"clip",["x","y","width","height"]),Factory_1.Factory.addGetterSetter(Container,"clipX",void 0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Container,"clipY",void 0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Container,"clipWidth",void 0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Container,"clipHeight",void 0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Container,"clipFunc")},"./node_modules/konva/lib/Context.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HitContext=exports.SceneContext=exports.Context=void 0;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js");const CONTEXT_METHODS=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class Context{constructor(canvas){this.canvas=canvas,Global_1.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(shape){shape.fillEnabled()&&this._fill(shape)}_fill(shape){}strokeShape(shape){shape.hasStroke()&&this._stroke(shape)}_stroke(shape){}fillStrokeShape(shape){shape.attrs.fillAfterStrokeEnabled?(this.strokeShape(shape),this.fillShape(shape)):(this.fillShape(shape),this.strokeShape(shape))}getTrace(relaxed,rounded){let n,trace,method,args,traceArr=this.traceArr,len=traceArr.length,str="";for(n=0;n<len;n++)trace=traceArr[n],method=trace.method,method?(args=trace.args,str+=method,relaxed?str+="()":Util_1.Util._isArray(args[0])?str+="(["+args.join(",")+"])":(rounded&&(args=args.map((a=>"number"==typeof a?Math.floor(a):a))),str+="("+args.join(",")+")")):(str+=trace.property,relaxed||(str+="="+trace.val)),str+=";";return str}clearTrace(){this.traceArr=[]}_trace(str){let len,traceArr=this.traceArr;traceArr.push(str),len=traceArr.length,len>=100&&traceArr.shift()}reset(){const pixelRatio=this.getCanvas().getPixelRatio();this.setTransform(1*pixelRatio,0,0,1*pixelRatio,0,0)}getCanvas(){return this.canvas}clear(bounds){const canvas=this.getCanvas();bounds?this.clearRect(bounds.x||0,bounds.y||0,bounds.width||0,bounds.height||0):this.clearRect(0,0,canvas.getWidth()/canvas.pixelRatio,canvas.getHeight()/canvas.pixelRatio)}_applyLineCap(shape){const lineCap=shape.attrs.lineCap;lineCap&&this.setAttr("lineCap",lineCap)}_applyOpacity(shape){const absOpacity=shape.getAbsoluteOpacity();1!==absOpacity&&this.setAttr("globalAlpha",absOpacity)}_applyLineJoin(shape){const lineJoin=shape.attrs.lineJoin;lineJoin&&this.setAttr("lineJoin",lineJoin)}setAttr(attr,val){this._context[attr]=val}arc(x,y,radius,startAngle,endAngle,counterClockwise){this._context.arc(x,y,radius,startAngle,endAngle,counterClockwise)}arcTo(x1,y1,x2,y2,radius){this._context.arcTo(x1,y1,x2,y2,radius)}beginPath(){this._context.beginPath()}bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y){this._context.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y)}clearRect(x,y,width,height){this._context.clearRect(x,y,width,height)}clip(...args){this._context.clip.apply(this._context,args)}closePath(){this._context.closePath()}createImageData(width,height){const a=arguments;return 2===a.length?this._context.createImageData(width,height):1===a.length?this._context.createImageData(width):void 0}createLinearGradient(x0,y0,x1,y1){return this._context.createLinearGradient(x0,y0,x1,y1)}createPattern(image,repetition){return this._context.createPattern(image,repetition)}createRadialGradient(x0,y0,r0,x1,y1,r1){return this._context.createRadialGradient(x0,y0,r0,x1,y1,r1)}drawImage(image,sx,sy,sWidth,sHeight,dx,dy,dWidth,dHeight){const a=arguments,_context=this._context;3===a.length?_context.drawImage(image,sx,sy):5===a.length?_context.drawImage(image,sx,sy,sWidth,sHeight):9===a.length&&_context.drawImage(image,sx,sy,sWidth,sHeight,dx,dy,dWidth,dHeight)}ellipse(x,y,radiusX,radiusY,rotation,startAngle,endAngle,counterclockwise){this._context.ellipse(x,y,radiusX,radiusY,rotation,startAngle,endAngle,counterclockwise)}isPointInPath(x,y,path,fillRule){return path?this._context.isPointInPath(path,x,y,fillRule):this._context.isPointInPath(x,y,fillRule)}fill(...args){this._context.fill.apply(this._context,args)}fillRect(x,y,width,height){this._context.fillRect(x,y,width,height)}strokeRect(x,y,width,height){this._context.strokeRect(x,y,width,height)}fillText(text,x,y,maxWidth){maxWidth?this._context.fillText(text,x,y,maxWidth):this._context.fillText(text,x,y)}measureText(text){return this._context.measureText(text)}getImageData(sx,sy,sw,sh){return this._context.getImageData(sx,sy,sw,sh)}lineTo(x,y){this._context.lineTo(x,y)}moveTo(x,y){this._context.moveTo(x,y)}rect(x,y,width,height){this._context.rect(x,y,width,height)}roundRect(x,y,width,height,radii){this._context.roundRect(x,y,width,height,radii)}putImageData(imageData,dx,dy){this._context.putImageData(imageData,dx,dy)}quadraticCurveTo(cpx,cpy,x,y){this._context.quadraticCurveTo(cpx,cpy,x,y)}restore(){this._context.restore()}rotate(angle){this._context.rotate(angle)}save(){this._context.save()}scale(x,y){this._context.scale(x,y)}setLineDash(segments){this._context.setLineDash?this._context.setLineDash(segments):"mozDash"in this._context?this._context.mozDash=segments:"webkitLineDash"in this._context&&(this._context.webkitLineDash=segments)}getLineDash(){return this._context.getLineDash()}setTransform(a,b,c,d,e,f){this._context.setTransform(a,b,c,d,e,f)}stroke(path2d){path2d?this._context.stroke(path2d):this._context.stroke()}strokeText(text,x,y,maxWidth){this._context.strokeText(text,x,y,maxWidth)}transform(a,b,c,d,e,f){this._context.transform(a,b,c,d,e,f)}translate(x,y){this._context.translate(x,y)}_enableTrace(){let n,args,that=this,len=CONTEXT_METHODS.length,origSetter=this.setAttr;const func=function(methodName){let ret,origMethod=that[methodName];that[methodName]=function(){return args=function simplifyArray(arr){let n,val,retArr=[],len=arr.length,util=Util_1.Util;for(n=0;n<len;n++)val=arr[n],util._isNumber(val)?val=Math.round(1e3*val)/1e3:util._isString(val)||(val+=""),retArr.push(val);return retArr}(Array.prototype.slice.call(arguments,0)),ret=origMethod.apply(that,arguments),that._trace({method:methodName,args}),ret}};for(n=0;n<len;n++)func(CONTEXT_METHODS[n]);that.setAttr=function(){origSetter.apply(that,arguments);const prop=arguments[0];let val=arguments[1];"shadowOffsetX"!==prop&&"shadowOffsetY"!==prop&&"shadowBlur"!==prop||(val/=this.canvas.getPixelRatio()),that._trace({property:prop,val})}}_applyGlobalCompositeOperation(node){const op=node.attrs.globalCompositeOperation;!op||"source-over"===op||this.setAttr("globalCompositeOperation",op)}}exports.Context=Context,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(prop){Object.defineProperty(Context.prototype,prop,{get(){return this._context[prop]},set(val){this._context[prop]=val}})}));exports.SceneContext=class SceneContext extends Context{constructor(canvas,{willReadFrequently=!1}={}){super(canvas),this._context=canvas._canvas.getContext("2d",{willReadFrequently})}_fillColor(shape){const fill=shape.fill();this.setAttr("fillStyle",fill),shape._fillFunc(this)}_fillPattern(shape){this.setAttr("fillStyle",shape._getFillPattern()),shape._fillFunc(this)}_fillLinearGradient(shape){const grd=shape._getLinearGradient();grd&&(this.setAttr("fillStyle",grd),shape._fillFunc(this))}_fillRadialGradient(shape){const grd=shape._getRadialGradient();grd&&(this.setAttr("fillStyle",grd),shape._fillFunc(this))}_fill(shape){const hasColor=shape.fill(),fillPriority=shape.getFillPriority();if(hasColor&&"color"===fillPriority)return void this._fillColor(shape);const hasPattern=shape.getFillPatternImage();if(hasPattern&&"pattern"===fillPriority)return void this._fillPattern(shape);const hasLinearGradient=shape.getFillLinearGradientColorStops();if(hasLinearGradient&&"linear-gradient"===fillPriority)return void this._fillLinearGradient(shape);const hasRadialGradient=shape.getFillRadialGradientColorStops();hasRadialGradient&&"radial-gradient"===fillPriority?this._fillRadialGradient(shape):hasColor?this._fillColor(shape):hasPattern?this._fillPattern(shape):hasLinearGradient?this._fillLinearGradient(shape):hasRadialGradient&&this._fillRadialGradient(shape)}_strokeLinearGradient(shape){const start=shape.getStrokeLinearGradientStartPoint(),end=shape.getStrokeLinearGradientEndPoint(),colorStops=shape.getStrokeLinearGradientColorStops(),grd=this.createLinearGradient(start.x,start.y,end.x,end.y);if(colorStops){for(let n=0;n<colorStops.length;n+=2)grd.addColorStop(colorStops[n],colorStops[n+1]);this.setAttr("strokeStyle",grd)}}_stroke(shape){const dash=shape.dash(),strokeScaleEnabled=shape.getStrokeScaleEnabled();if(shape.hasStroke()){if(!strokeScaleEnabled){this.save();const pixelRatio=this.getCanvas().getPixelRatio();this.setTransform(pixelRatio,0,0,pixelRatio,0,0)}this._applyLineCap(shape),dash&&shape.dashEnabled()&&(this.setLineDash(dash),this.setAttr("lineDashOffset",shape.dashOffset())),this.setAttr("lineWidth",shape.strokeWidth()),shape.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");shape.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(shape):this.setAttr("strokeStyle",shape.stroke()),shape._strokeFunc(this),strokeScaleEnabled||this.restore()}}_applyShadow(shape){var _a,_b,_c;const color=null!==(_a=shape.getShadowRGBA())&&void 0!==_a?_a:"black",blur=null!==(_b=shape.getShadowBlur())&&void 0!==_b?_b:5,offset=null!==(_c=shape.getShadowOffset())&&void 0!==_c?_c:{x:0,y:0},scale=shape.getAbsoluteScale(),ratio=this.canvas.getPixelRatio(),scaleX=scale.x*ratio,scaleY=scale.y*ratio;this.setAttr("shadowColor",color),this.setAttr("shadowBlur",blur*Math.min(Math.abs(scaleX),Math.abs(scaleY))),this.setAttr("shadowOffsetX",offset.x*scaleX),this.setAttr("shadowOffsetY",offset.y*scaleY)}};exports.HitContext=class HitContext extends Context{constructor(canvas){super(canvas),this._context=canvas._canvas.getContext("2d",{willReadFrequently:!0})}_fill(shape){this.save(),this.setAttr("fillStyle",shape.colorKey),shape._fillFuncHit(this),this.restore()}strokeShape(shape){shape.hasHitStroke()&&this._stroke(shape)}_stroke(shape){if(shape.hasHitStroke()){const strokeScaleEnabled=shape.getStrokeScaleEnabled();if(!strokeScaleEnabled){this.save();const pixelRatio=this.getCanvas().getPixelRatio();this.setTransform(pixelRatio,0,0,pixelRatio,0,0)}this._applyLineCap(shape);const hitStrokeWidth=shape.hitStrokeWidth(),strokeWidth="auto"===hitStrokeWidth?shape.strokeWidth():hitStrokeWidth;this.setAttr("lineWidth",strokeWidth),this.setAttr("strokeStyle",shape.colorKey),shape._strokeFuncHit(this),strokeScaleEnabled||this.restore()}}}},"./node_modules/konva/lib/Core.js":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Konva=void 0;var _CoreInternals_1=__webpack_require__("./node_modules/konva/lib/_CoreInternals.js");Object.defineProperty(exports,"Konva",{enumerable:!0,get:function(){return _CoreInternals_1.Konva}});const _CoreInternals_2=__webpack_require__("./node_modules/konva/lib/_CoreInternals.js");module.exports=_CoreInternals_2.Konva},"./node_modules/konva/lib/DragAndDrop.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DD=void 0;const Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Util_1=__webpack_require__("./node_modules/konva/lib/Util.js");exports.DD={get isDragging(){let flag=!1;return exports.DD._dragElements.forEach((elem=>{"dragging"===elem.dragStatus&&(flag=!0)})),flag},justDragged:!1,get node(){let node;return exports.DD._dragElements.forEach((elem=>{node=elem.node})),node},_dragElements:new Map,_drag(evt){const nodesToFireEvents=[];exports.DD._dragElements.forEach(((elem,key)=>{const{node}=elem,stage=node.getStage();stage.setPointersPositions(evt),void 0===elem.pointerId&&(elem.pointerId=Util_1.Util._getFirstPointerId(evt));const pos=stage._changedPointerPositions.find((pos=>pos.id===elem.pointerId));if(pos){if("dragging"!==elem.dragStatus){const dragDistance=node.dragDistance();if(Math.max(Math.abs(pos.x-elem.startPointerPos.x),Math.abs(pos.y-elem.startPointerPos.y))<dragDistance)return;if(node.startDrag({evt}),!node.isDragging())return}node._setDragPosition(evt,elem),nodesToFireEvents.push(node)}})),nodesToFireEvents.forEach((node=>{node.fire("dragmove",{type:"dragmove",target:node,evt},!0)}))},_endDragBefore(evt){const drawNodes=[];exports.DD._dragElements.forEach((elem=>{const{node}=elem,stage=node.getStage();evt&&stage.setPointersPositions(evt);if(!stage._changedPointerPositions.find((pos=>pos.id===elem.pointerId)))return;"dragging"!==elem.dragStatus&&"stopped"!==elem.dragStatus||(exports.DD.justDragged=!0,Global_1.Konva._mouseListenClick=!1,Global_1.Konva._touchListenClick=!1,Global_1.Konva._pointerListenClick=!1,elem.dragStatus="stopped");const drawNode=elem.node.getLayer()||elem.node instanceof Global_1.Konva.Stage&&elem.node;drawNode&&-1===drawNodes.indexOf(drawNode)&&drawNodes.push(drawNode)})),drawNodes.forEach((drawNode=>{drawNode.draw()}))},_endDragAfter(evt){exports.DD._dragElements.forEach(((elem,key)=>{"stopped"===elem.dragStatus&&elem.node.fire("dragend",{type:"dragend",target:elem.node,evt},!0),"dragging"!==elem.dragStatus&&exports.DD._dragElements.delete(key)}))}},Global_1.Konva.isBrowser&&(window.addEventListener("mouseup",exports.DD._endDragBefore,!0),window.addEventListener("touchend",exports.DD._endDragBefore,!0),window.addEventListener("touchcancel",exports.DD._endDragBefore,!0),window.addEventListener("mousemove",exports.DD._drag),window.addEventListener("touchmove",exports.DD._drag),window.addEventListener("mouseup",exports.DD._endDragAfter,!1),window.addEventListener("touchend",exports.DD._endDragAfter,!1),window.addEventListener("touchcancel",exports.DD._endDragAfter,!1))},"./node_modules/konva/lib/Factory.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Factory=void 0;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");exports.Factory={addGetterSetter(constructor,attr,def,validator,after){exports.Factory.addGetter(constructor,attr,def),exports.Factory.addSetter(constructor,attr,validator,after),exports.Factory.addOverloadedGetterSetter(constructor,attr)},addGetter(constructor,attr,def){const method="get"+Util_1.Util._capitalize(attr);constructor.prototype[method]=constructor.prototype[method]||function(){const val=this.attrs[attr];return void 0===val?def:val}},addSetter(constructor,attr,validator,after){const method="set"+Util_1.Util._capitalize(attr);constructor.prototype[method]||exports.Factory.overWriteSetter(constructor,attr,validator,after)},overWriteSetter(constructor,attr,validator,after){const method="set"+Util_1.Util._capitalize(attr);constructor.prototype[method]=function(val){return validator&&null!=val&&(val=validator.call(this,val,attr)),this._setAttr(attr,val),after&&after.call(this),this}},addComponentsGetterSetter(constructor,attr,components,validator,after){let n,component,len=components.length,capitalize=Util_1.Util._capitalize,getter="get"+capitalize(attr),setter="set"+capitalize(attr);constructor.prototype[getter]=function(){const ret={};for(n=0;n<len;n++)component=components[n],ret[component]=this.getAttr(attr+capitalize(component));return ret};const basicValidator=(0,Validators_1.getComponentValidator)(components);constructor.prototype[setter]=function(val){let key,oldVal=this.attrs[attr];for(key in validator&&(val=validator.call(this,val)),basicValidator&&basicValidator.call(this,val,attr),val)val.hasOwnProperty(key)&&this._setAttr(attr+capitalize(key),val[key]);return val||components.forEach((component=>{this._setAttr(attr+capitalize(component),void 0)})),this._fireChangeEvent(attr,oldVal,val),after&&after.call(this),this},exports.Factory.addOverloadedGetterSetter(constructor,attr)},addOverloadedGetterSetter(constructor,attr){const capitalizedAttr=Util_1.Util._capitalize(attr),setter="set"+capitalizedAttr,getter="get"+capitalizedAttr;constructor.prototype[attr]=function(){return arguments.length?(this[setter](arguments[0]),this):this[getter]()}},addDeprecatedGetterSetter(constructor,attr,def,validator){Util_1.Util.error("Adding deprecated "+attr);const method="get"+Util_1.Util._capitalize(attr),message=attr+" property is deprecated and will be removed soon. Look at Konva change log for more information.";constructor.prototype[method]=function(){Util_1.Util.error(message);const val=this.attrs[attr];return void 0===val?def:val},exports.Factory.addSetter(constructor,attr,validator,(function(){Util_1.Util.error(message)})),exports.Factory.addOverloadedGetterSetter(constructor,attr)},backCompat(constructor,methods){Util_1.Util.each(methods,(function(oldMethodName,newMethodName){const method=constructor.prototype[newMethodName],oldGetter="get"+Util_1.Util._capitalize(oldMethodName),oldSetter="set"+Util_1.Util._capitalize(oldMethodName);function deprecated(){method.apply(this,arguments),Util_1.Util.error('"'+oldMethodName+'" method is deprecated and will be removed soon. Use ""'+newMethodName+'" instead.')}constructor.prototype[oldMethodName]=deprecated,constructor.prototype[oldGetter]=deprecated,constructor.prototype[oldSetter]=deprecated}))},afterSetFilter(){this._filterUpToDate=!1}}},"./node_modules/konva/lib/FastLayer.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FastLayer=void 0;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Layer_1=__webpack_require__("./node_modules/konva/lib/Layer.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js");class FastLayer extends Layer_1.Layer{constructor(attrs){super(attrs),this.listening(!1),Util_1.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}exports.FastLayer=FastLayer,FastLayer.prototype.nodeType="FastLayer",(0,Global_1._registerNode)(FastLayer)},"./node_modules/konva/lib/Global.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._registerNode=exports.Konva=exports.glob=void 0;const PI_OVER_180=Math.PI/180;exports.glob=void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},exports.Konva={_global:exports.glob,version:"9.3.16",isBrowser:function detectBrowser(){return"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window))}(),isUnminified:/param/.test(function(param){}.toString()),dblClickWindow:400,getAngle:angle=>exports.Konva.angleDeg?angle*PI_OVER_180:angle,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>exports.Konva.DD.isDragging,isTransforming(){var _a;return null===(_a=exports.Konva.Transformer)||void 0===_a?void 0:_a.isTransforming()},isDragReady:()=>!!exports.Konva.DD.node,releaseCanvasOnDestroy:!0,document:exports.glob.document,_injectGlobal(Konva){exports.glob.Konva=Konva}};exports._registerNode=NodeClass=>{exports.Konva[NodeClass.prototype.getClassName()]=NodeClass},exports.Konva._injectGlobal(exports.Konva)},"./node_modules/konva/lib/Group.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Group=void 0;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Container_1=__webpack_require__("./node_modules/konva/lib/Container.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js");class Group extends Container_1.Container{_validateAdd(child){const type=child.getType();"Group"!==type&&"Shape"!==type&&Util_1.Util.throw("You may only add groups and shapes to groups.")}}exports.Group=Group,Group.prototype.nodeType="Group",(0,Global_1._registerNode)(Group)},"./node_modules/konva/lib/Layer.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Layer=void 0;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Container_1=__webpack_require__("./node_modules/konva/lib/Container.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Canvas_1=__webpack_require__("./node_modules/konva/lib/Canvas.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),INTERSECTION_OFFSETS=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],INTERSECTION_OFFSETS_LEN=INTERSECTION_OFFSETS.length;class Layer extends Container_1.Container{constructor(config){super(config),this.canvas=new Canvas_1.SceneCanvas,this.hitCanvas=new Canvas_1.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(bounds){return this.getContext().clear(bounds),this.getHitCanvas().getContext().clear(bounds),this}setZIndex(index){super.setZIndex(index);const stage=this.getStage();return stage&&stage.content&&(stage.content.removeChild(this.getNativeCanvasElement()),index<stage.children.length-1?stage.content.insertBefore(this.getNativeCanvasElement(),stage.children[index+1].getCanvas()._canvas):stage.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Node_1.Node.prototype.moveToTop.call(this);const stage=this.getStage();return stage&&stage.content&&(stage.content.removeChild(this.getNativeCanvasElement()),stage.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Node_1.Node.prototype.moveUp.call(this))return!1;const stage=this.getStage();return!(!stage||!stage.content)&&(stage.content.removeChild(this.getNativeCanvasElement()),this.index<stage.children.length-1?stage.content.insertBefore(this.getNativeCanvasElement(),stage.children[this.index+1].getCanvas()._canvas):stage.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Node_1.Node.prototype.moveDown.call(this)){const stage=this.getStage();if(stage){const children=stage.children;stage.content&&(stage.content.removeChild(this.getNativeCanvasElement()),stage.content.insertBefore(this.getNativeCanvasElement(),children[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Node_1.Node.prototype.moveToBottom.call(this)){const stage=this.getStage();if(stage){const children=stage.children;stage.content&&(stage.content.removeChild(this.getNativeCanvasElement()),stage.content.insertBefore(this.getNativeCanvasElement(),children[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const _canvas=this.getNativeCanvasElement();return Node_1.Node.prototype.remove.call(this),_canvas&&_canvas.parentNode&&Util_1.Util._isInDocument(_canvas)&&_canvas.parentNode.removeChild(_canvas),this}getStage(){return this.parent}setSize({width,height}){return this.canvas.setSize(width,height),this.hitCanvas.setSize(width,height),this._setSmoothEnabled(),this}_validateAdd(child){const type=child.getType();"Group"!==type&&"Shape"!==type&&Util_1.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(config){return(config=config||{}).width=config.width||this.getWidth(),config.height=config.height||this.getHeight(),config.x=void 0!==config.x?config.x:this.x(),config.y=void 0!==config.y?config.y:this.y(),Node_1.Node.prototype._toKonvaCanvas.call(this,config)}_checkVisibility(){const visible=this.visible();this.canvas._canvas.style.display=visible?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Util_1.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Util_1.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Util_1.Util.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(pos){if(!this.isListening()||!this.isVisible())return null;let spiralSearchDistance=1,continueSearch=!1;for(;;){for(let i=0;i<INTERSECTION_OFFSETS_LEN;i++){const intersectionOffset=INTERSECTION_OFFSETS[i],obj=this._getIntersection({x:pos.x+intersectionOffset.x*spiralSearchDistance,y:pos.y+intersectionOffset.y*spiralSearchDistance}),shape=obj.shape;if(shape)return shape;if(continueSearch=!!obj.antialiased,!obj.antialiased)break}if(!continueSearch)return null;spiralSearchDistance+=1}}_getIntersection(pos){const ratio=this.hitCanvas.pixelRatio,p=this.hitCanvas.context.getImageData(Math.round(pos.x*ratio),Math.round(pos.y*ratio),1,1).data,p3=p[3];if(255===p3){const colorKey=Util_1.Util._rgbToHex(p[0],p[1],p[2]),shape=Shape_1.shapes["#"+colorKey];return shape?{shape}:{antialiased:!0}}return p3>0?{antialiased:!0}:{}}drawScene(can,top){const layer=this.getLayer(),canvas=can||layer&&layer.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&canvas.getContext().clear(),Container_1.Container.prototype.drawScene.call(this,canvas,top),this._fire("draw",{node:this}),this}drawHit(can,top){const layer=this.getLayer(),canvas=can||layer&&layer.hitCanvas;return layer&&layer.clearBeforeDraw()&&layer.getHitCanvas().getContext().clear(),Container_1.Container.prototype.drawHit.call(this,canvas,top),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(val){Util_1.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(val)}getHitGraphEnabled(val){return Util_1.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const parent=this.parent;!!this.hitCanvas._canvas.parentNode?parent.content.removeChild(this.hitCanvas._canvas):parent.content.appendChild(this.hitCanvas._canvas)}destroy(){return Util_1.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}exports.Layer=Layer,Layer.prototype.nodeType="Layer",(0,Global_1._registerNode)(Layer),Factory_1.Factory.addGetterSetter(Layer,"imageSmoothingEnabled",!0),Factory_1.Factory.addGetterSetter(Layer,"clearBeforeDraw",!0),Factory_1.Factory.addGetterSetter(Layer,"hitGraphEnabled",!0,(0,Validators_1.getBooleanValidator)())},"./node_modules/konva/lib/Node.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Node=void 0;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Canvas_1=__webpack_require__("./node_modules/konva/lib/Canvas.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),DragAndDrop_1=__webpack_require__("./node_modules/konva/lib/DragAndDrop.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),TRANSFORM_CHANGE_STR=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" ");let idCounter=1;class Node{constructor(config){this._id=idCounter++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(config),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(attr){"transform"!==attr&&"absoluteTransform"!==attr||!this._cache.get(attr)?attr?this._cache.delete(attr):this._cache.clear():this._cache.get(attr).dirty=!0}_getCache(attr,privateGetter){let cache=this._cache.get(attr);return(void 0===cache||("transform"===attr||"absoluteTransform"===attr)&&!0===cache.dirty)&&(cache=privateGetter.call(this),this._cache.set(attr,cache)),cache}_calculate(name,deps,getter){if(!this._attachedDepsListeners.get(name)){const depsString=deps.map((dep=>dep+"Change.konva")).join(" ");this.on(depsString,(()=>{this._clearCache(name)})),this._attachedDepsListeners.set(name,!0)}return this._getCache(name,getter)}_getCanvasCache(){return this._cache.get("canvas")}_clearSelfAndDescendantCache(attr){this._clearCache(attr),"absoluteTransform"===attr&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has("canvas")){const{scene,filter,hit}=this._cache.get("canvas");Util_1.Util.releaseCanvas(scene,filter,hit),this._cache.delete("canvas")}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(config){const conf=config||{};let rect={};void 0!==conf.x&&void 0!==conf.y&&void 0!==conf.width&&void 0!==conf.height||(rect=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let width=Math.ceil(conf.width||rect.width),height=Math.ceil(conf.height||rect.height),pixelRatio=conf.pixelRatio,x=void 0===conf.x?Math.floor(rect.x):conf.x,y=void 0===conf.y?Math.floor(rect.y):conf.y,offset=conf.offset||0,drawBorder=conf.drawBorder||!1,hitCanvasPixelRatio=conf.hitCanvasPixelRatio||1;if(!width||!height)return void Util_1.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");width+=2*offset+(Math.abs(Math.round(rect.x)-x)>.5?1:0),height+=2*offset+(Math.abs(Math.round(rect.y)-y)>.5?1:0),x-=offset,y-=offset;const cachedSceneCanvas=new Canvas_1.SceneCanvas({pixelRatio,width,height}),cachedFilterCanvas=new Canvas_1.SceneCanvas({pixelRatio,width:0,height:0,willReadFrequently:!0}),cachedHitCanvas=new Canvas_1.HitCanvas({pixelRatio:hitCanvasPixelRatio,width,height}),sceneContext=cachedSceneCanvas.getContext(),hitContext=cachedHitCanvas.getContext();return cachedHitCanvas.isCache=!0,cachedSceneCanvas.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===conf.imageSmoothingEnabled&&(cachedSceneCanvas.getContext()._context.imageSmoothingEnabled=!1,cachedFilterCanvas.getContext()._context.imageSmoothingEnabled=!1),sceneContext.save(),hitContext.save(),sceneContext.translate(-x,-y),hitContext.translate(-x,-y),this._isUnderCache=!0,this._clearSelfAndDescendantCache("absoluteOpacity"),this._clearSelfAndDescendantCache("absoluteScale"),this.drawScene(cachedSceneCanvas,this),this.drawHit(cachedHitCanvas,this),this._isUnderCache=!1,sceneContext.restore(),hitContext.restore(),drawBorder&&(sceneContext.save(),sceneContext.beginPath(),sceneContext.rect(0,0,width,height),sceneContext.closePath(),sceneContext.setAttr("strokeStyle","red"),sceneContext.setAttr("lineWidth",5),sceneContext.stroke(),sceneContext.restore()),this._cache.set("canvas",{scene:cachedSceneCanvas,filter:cachedFilterCanvas,hit:cachedHitCanvas,x,y}),this._requestDraw(),this}isCached(){return this._cache.has("canvas")}getClientRect(config){throw new Error('abstract "getClientRect" method call')}_transformedRect(rect,top){const points=[{x:rect.x,y:rect.y},{x:rect.x+rect.width,y:rect.y},{x:rect.x+rect.width,y:rect.y+rect.height},{x:rect.x,y:rect.y+rect.height}];let minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0;const trans=this.getAbsoluteTransform(top);return points.forEach((function(point){const transformed=trans.point(point);void 0===minX&&(minX=maxX=transformed.x,minY=maxY=transformed.y),minX=Math.min(minX,transformed.x),minY=Math.min(minY,transformed.y),maxX=Math.max(maxX,transformed.x),maxY=Math.max(maxY,transformed.y)})),{x:minX,y:minY,width:maxX-minX,height:maxY-minY}}_drawCachedSceneCanvas(context){context.save(),context._applyOpacity(this),context._applyGlobalCompositeOperation(this);const canvasCache=this._getCanvasCache();context.translate(canvasCache.x,canvasCache.y);const cacheCanvas=this._getCachedSceneCanvas(),ratio=cacheCanvas.pixelRatio;context.drawImage(cacheCanvas._canvas,0,0,cacheCanvas.width/ratio,cacheCanvas.height/ratio),context.restore()}_drawCachedHitCanvas(context){const canvasCache=this._getCanvasCache(),hitCanvas=canvasCache.hit;context.save(),context.translate(canvasCache.x,canvasCache.y),context.drawImage(hitCanvas._canvas,0,0,hitCanvas.width/hitCanvas.pixelRatio,hitCanvas.height/hitCanvas.pixelRatio),context.restore()}_getCachedSceneCanvas(){let len,imageData,n,filter,filters=this.filters(),cachedCanvas=this._getCanvasCache(),sceneCanvas=cachedCanvas.scene,filterCanvas=cachedCanvas.filter,filterContext=filterCanvas.getContext();if(filters){if(!this._filterUpToDate){const ratio=sceneCanvas.pixelRatio;filterCanvas.setSize(sceneCanvas.width/sceneCanvas.pixelRatio,sceneCanvas.height/sceneCanvas.pixelRatio);try{for(len=filters.length,filterContext.clear(),filterContext.drawImage(sceneCanvas._canvas,0,0,sceneCanvas.getWidth()/ratio,sceneCanvas.getHeight()/ratio),imageData=filterContext.getImageData(0,0,filterCanvas.getWidth(),filterCanvas.getHeight()),n=0;n<len;n++)filter=filters[n],"function"==typeof filter?(filter.call(this,imageData),filterContext.putImageData(imageData,0,0)):Util_1.Util.error("Filter should be type of function, but got "+typeof filter+" instead. Please check correct filters")}catch(e){Util_1.Util.error("Unable to apply filter. "+e.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return filterCanvas}return sceneCanvas}on(evtStr,handler){if(this._cache&&this._cache.delete("allEventListeners"),3===arguments.length)return this._delegate.apply(this,arguments);let n,event,parts,baseEvent,name,events=evtStr.split(" "),len=events.length;for(n=0;n<len;n++)event=events[n],parts=event.split("."),baseEvent=parts[0],name=parts[1]||"",this.eventListeners[baseEvent]||(this.eventListeners[baseEvent]=[]),this.eventListeners[baseEvent].push({name,handler});return this}off(evtStr,callback){let n,t,event,parts,baseEvent,name,events=(evtStr||"").split(" "),len=events.length;if(this._cache&&this._cache.delete("allEventListeners"),!evtStr)for(t in this.eventListeners)this._off(t);for(n=0;n<len;n++)if(event=events[n],parts=event.split("."),baseEvent=parts[0],name=parts[1],baseEvent)this.eventListeners[baseEvent]&&this._off(baseEvent,name,callback);else for(t in this.eventListeners)this._off(t,name,callback);return this}dispatchEvent(evt){const e={target:this,type:evt.type,evt};return this.fire(evt.type,e),this}addEventListener(type,handler){return this.on(type,(function(evt){handler.call(this,evt.evt)})),this}removeEventListener(type){return this.off(type),this}_delegate(event,selector,handler){const stopNode=this;this.on(event,(function(evt){const targets=evt.target.findAncestors(selector,!0,stopNode);for(let i=0;i<targets.length;i++)(evt=Util_1.Util.cloneObject(evt)).currentTarget=targets[i],handler.call(targets[i],evt)}))}remove(){return this.isDragging()&&this.stopDrag(),DragAndDrop_1.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache("absoluteTransform"),this._clearSelfAndDescendantCache("absoluteOpacity"),this._clearSelfAndDescendantCache("absoluteScale"),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache("visible"),this._clearSelfAndDescendantCache("listening")}_remove(){this._clearCaches();const parent=this.getParent();parent&&parent.children&&(parent.children.splice(this.index,1),parent._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(attr){const method="get"+Util_1.Util._capitalize(attr);return Util_1.Util._isFunction(this[method])?this[method]():this.attrs[attr]}getAncestors(){let parent=this.getParent(),ancestors=[];for(;parent;)ancestors.push(parent),parent=parent.getParent();return ancestors}getAttrs(){return this.attrs||{}}setAttrs(config){return this._batchTransformChanges((()=>{let key,method;if(!config)return this;for(key in config)"children"!==key&&(method="set"+Util_1.Util._capitalize(key),Util_1.Util._isFunction(this[method])?this[method](config[key]):this._setAttr(key,config[key]))})),this}isListening(){return this._getCache("listening",this._isListening)}_isListening(relativeTo){if(!this.listening())return!1;const parent=this.getParent();return!parent||parent===relativeTo||this===relativeTo||parent._isListening(relativeTo)}isVisible(){return this._getCache("visible",this._isVisible)}_isVisible(relativeTo){if(!this.visible())return!1;const parent=this.getParent();return!parent||parent===relativeTo||this===relativeTo||parent._isVisible(relativeTo)}shouldDrawHit(top,skipDragCheck=!1){if(top)return this._isVisible(top)&&this._isListening(top);const layer=this.getLayer();let layerUnderDrag=!1;DragAndDrop_1.DD._dragElements.forEach((elem=>{"dragging"===elem.dragStatus&&("Stage"===elem.node.nodeType||elem.node.getLayer()===layer)&&(layerUnderDrag=!0)}));const dragSkip=!skipDragCheck&&!Global_1.Konva.hitOnDragEnabled&&(layerUnderDrag||Global_1.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!dragSkip}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let nodes,len,n,child,depth=this.getDepth(),that=this,index=0;const stage=this.getStage();return"Stage"!==that.nodeType&&stage&&function addChildren(children){for(nodes=[],len=children.length,n=0;n<len;n++)child=children[n],index++,"Shape"!==child.nodeType&&(nodes=nodes.concat(child.getChildren().slice())),child._id===that._id&&(n=len);nodes.length>0&&nodes[0].getDepth()<=depth&&addChildren(nodes)}(stage.getChildren()),index}getDepth(){let depth=0,parent=this.parent;for(;parent;)depth++,parent=parent.parent;return depth}_batchTransformChanges(func){this._batchingTransformChange=!0,func(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")),this._needClearTransformCache=!1}setPosition(pos){return this._batchTransformChanges((()=>{this.x(pos.x),this.y(pos.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const stage=this.getStage();if(!stage)return null;const pos=stage.getPointerPosition();if(!pos)return null;const transform=this.getAbsoluteTransform().copy();return transform.invert(),transform.point(pos)}getAbsolutePosition(top){let haveCachedParent=!1,parent=this.parent;for(;parent;){if(parent.isCached()){haveCachedParent=!0;break}parent=parent.parent}haveCachedParent&&!top&&(top=!0);const absoluteMatrix=this.getAbsoluteTransform(top).getMatrix(),absoluteTransform=new Util_1.Transform,offset=this.offset();return absoluteTransform.m=absoluteMatrix.slice(),absoluteTransform.translate(offset.x,offset.y),absoluteTransform.getTranslation()}setAbsolutePosition(pos){const{x,y,...origTrans}=this._clearTransform();this.attrs.x=x,this.attrs.y=y,this._clearCache("transform");const it=this._getAbsoluteTransform().copy();return it.invert(),it.translate(pos.x,pos.y),pos={x:this.attrs.x+it.getTranslation().x,y:this.attrs.y+it.getTranslation().y},this._setTransform(origTrans),this.setPosition({x:pos.x,y:pos.y}),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform"),this}_setTransform(trans){let key;for(key in trans)this.attrs[key]=trans[key]}_clearTransform(){const trans={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,trans}move(change){let changeX=change.x,changeY=change.y,x=this.x(),y=this.y();return void 0!==changeX&&(x+=changeX),void 0!==changeY&&(y+=changeY),this.setPosition({x,y}),this}_eachAncestorReverse(func,top){let len,n,family=[],parent=this.getParent();if(!top||top._id!==this._id){for(family.unshift(this);parent&&(!top||parent._id!==top._id);)family.unshift(parent),parent=parent.parent;for(len=family.length,n=0;n<len;n++)func(family[n])}}rotate(theta){return this.rotation(this.rotation()+theta),this}moveToTop(){if(!this.parent)return Util_1.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const index=this.index;return index<this.parent.getChildren().length-1&&(this.parent.children.splice(index,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return Util_1.Util.warn("Node has no parent. moveUp function is ignored."),!1;const index=this.index;return index<this.parent.getChildren().length-1&&(this.parent.children.splice(index,1),this.parent.children.splice(index+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return Util_1.Util.warn("Node has no parent. moveDown function is ignored."),!1;const index=this.index;return index>0&&(this.parent.children.splice(index,1),this.parent.children.splice(index-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return Util_1.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const index=this.index;return index>0&&(this.parent.children.splice(index,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(zIndex){if(!this.parent)return Util_1.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(zIndex<0||zIndex>=this.parent.children.length)&&Util_1.Util.warn("Unexpected value "+zIndex+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const index=this.index;return this.parent.children.splice(index,1),this.parent.children.splice(zIndex,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache("absoluteOpacity",this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let absOpacity=this.opacity();const parent=this.getParent();return parent&&!parent._isUnderCache&&(absOpacity*=parent.getAbsoluteOpacity()),absOpacity}moveTo(newContainer){return this.getParent()!==newContainer&&(this._remove(),newContainer.add(this)),this}toObject(){let key,val,getter,defaultValue,nonPlainObject,attrs=this.getAttrs();const obj={attrs:{},className:this.getClassName()};for(key in attrs)val=attrs[key],nonPlainObject=Util_1.Util.isObject(val)&&!Util_1.Util._isPlainObject(val)&&!Util_1.Util._isArray(val),nonPlainObject||(getter="function"==typeof this[key]&&this[key],delete attrs[key],defaultValue=getter?getter.call(this):null,attrs[key]=val,defaultValue!==val&&(obj.attrs[key]=val));return Util_1.Util._prepareToStringify(obj)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(selector,includeSelf,stopNode){const res=[];includeSelf&&this._isMatch(selector)&&res.push(this);let ancestor=this.parent;for(;ancestor;){if(ancestor===stopNode)return res;ancestor._isMatch(selector)&&res.push(ancestor),ancestor=ancestor.parent}return res}isAncestorOf(node){return!1}findAncestor(selector,includeSelf,stopNode){return this.findAncestors(selector,includeSelf,stopNode)[0]}_isMatch(selector){if(!selector)return!1;if("function"==typeof selector)return selector(this);let n,sel,selectorArr=selector.replace(/ /g,"").split(","),len=selectorArr.length;for(n=0;n<len;n++)if(sel=selectorArr[n],Util_1.Util.isValidSelector(sel)||(Util_1.Util.warn('Selector "'+sel+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Util_1.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Util_1.Util.warn("Konva is awesome, right?")),"#"===sel.charAt(0)){if(this.id()===sel.slice(1))return!0}else if("."===sel.charAt(0)){if(this.hasName(sel.slice(1)))return!0}else if(this.className===sel||this.nodeType===sel)return!0;return!1}getLayer(){const parent=this.getParent();return parent?parent.getLayer():null}getStage(){return this._getCache("stage",this._getStage)}_getStage(){const parent=this.getParent();return parent?parent.getStage():null}fire(eventType,evt={},bubble){return evt.target=evt.target||this,bubble?this._fireAndBubble(eventType,evt):this._fire(eventType,evt),this}getAbsoluteTransform(top){return top?this._getAbsoluteTransform(top):this._getCache("absoluteTransform",this._getAbsoluteTransform)}_getAbsoluteTransform(top){let at;if(top)return at=new Util_1.Transform,this._eachAncestorReverse((function(node){const transformsEnabled=node.transformsEnabled();"all"===transformsEnabled?at.multiply(node.getTransform()):"position"===transformsEnabled&&at.translate(node.x()-node.offsetX(),node.y()-node.offsetY())}),top),at;{at=this._cache.get("absoluteTransform")||new Util_1.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(at):at.reset();const transformsEnabled=this.transformsEnabled();if("all"===transformsEnabled)at.multiply(this.getTransform());else if("position"===transformsEnabled){const x=this.attrs.x||0,y=this.attrs.y||0,offsetX=this.attrs.offsetX||0,offsetY=this.attrs.offsetY||0;at.translate(x-offsetX,y-offsetY)}return at.dirty=!1,at}}getAbsoluteScale(top){let parent=this;for(;parent;)parent._isUnderCache&&(top=parent),parent=parent.getParent();const attrs=this.getAbsoluteTransform(top).decompose();return{x:attrs.scaleX,y:attrs.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache("transform",this._getTransform)}_getTransform(){var _a,_b;const m=this._cache.get("transform")||new Util_1.Transform;m.reset();const x=this.x(),y=this.y(),rotation=Global_1.Konva.getAngle(this.rotation()),scaleX=null!==(_a=this.attrs.scaleX)&&void 0!==_a?_a:1,scaleY=null!==(_b=this.attrs.scaleY)&&void 0!==_b?_b:1,skewX=this.attrs.skewX||0,skewY=this.attrs.skewY||0,offsetX=this.attrs.offsetX||0,offsetY=this.attrs.offsetY||0;return 0===x&&0===y||m.translate(x,y),0!==rotation&&m.rotate(rotation),0===skewX&&0===skewY||m.skew(skewX,skewY),1===scaleX&&1===scaleY||m.scale(scaleX,scaleY),0===offsetX&&0===offsetY||m.translate(-1*offsetX,-1*offsetY),m.dirty=!1,m}clone(obj){let key,allListeners,len,n,listener,attrs=Util_1.Util.cloneObject(this.attrs);for(key in obj)attrs[key]=obj[key];const node=new this.constructor(attrs);for(key in this.eventListeners)for(allListeners=this.eventListeners[key],len=allListeners.length,n=0;n<len;n++)listener=allListeners[n],listener.name.indexOf("konva")<0&&(node.eventListeners[key]||(node.eventListeners[key]=[]),node.eventListeners[key].push(listener));return node}_toKonvaCanvas(config){config=config||{};const box=this.getClientRect(),stage=this.getStage(),x=void 0!==config.x?config.x:Math.floor(box.x),y=void 0!==config.y?config.y:Math.floor(box.y),pixelRatio=config.pixelRatio||1,canvas=new Canvas_1.SceneCanvas({width:config.width||Math.ceil(box.width)||(stage?stage.width():0),height:config.height||Math.ceil(box.height)||(stage?stage.height():0),pixelRatio}),context=canvas.getContext(),bufferCanvas=new Canvas_1.SceneCanvas({width:canvas.width/canvas.pixelRatio+Math.abs(x),height:canvas.height/canvas.pixelRatio+Math.abs(y),pixelRatio:canvas.pixelRatio});return!1===config.imageSmoothingEnabled&&(context._context.imageSmoothingEnabled=!1),context.save(),(x||y)&&context.translate(-1*x,-1*y),this.drawScene(canvas,void 0,bufferCanvas),context.restore(),canvas}toCanvas(config){return this._toKonvaCanvas(config)._canvas}toDataURL(config){const mimeType=(config=config||{}).mimeType||null,quality=config.quality||null,url=this._toKonvaCanvas(config).toDataURL(mimeType,quality);return config.callback&&config.callback(url),url}toImage(config){return new Promise(((resolve,reject)=>{try{const callback=null==config?void 0:config.callback;callback&&delete config.callback,Util_1.Util._urlToImage(this.toDataURL(config),(function(img){resolve(img),null==callback||callback(img)}))}catch(err){reject(err)}}))}toBlob(config){return new Promise(((resolve,reject)=>{try{const callback=null==config?void 0:config.callback;callback&&delete config.callback,this.toCanvas(config).toBlob((blob=>{resolve(blob),null==callback||callback(blob)}),null==config?void 0:config.mimeType,null==config?void 0:config.quality)}catch(err){reject(err)}}))}setSize(size){return this.width(size.width),this.height(size.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Global_1.Konva.dragDistance}_off(type,name,callback){let i,evtName,handler,evtListeners=this.eventListeners[type];for(i=0;i<evtListeners.length;i++)if(evtName=evtListeners[i].name,handler=evtListeners[i].handler,!("konva"===evtName&&"konva"!==name||name&&evtName!==name||callback&&callback!==handler)){if(evtListeners.splice(i,1),0===evtListeners.length){delete this.eventListeners[type];break}i--}}_fireChangeEvent(attr,oldVal,newVal){this._fire(attr+"Change",{oldVal,newVal})}addName(name){if(!this.hasName(name)){const oldName=this.name(),newName=oldName?oldName+" "+name:name;this.name(newName)}return this}hasName(name){if(!name)return!1;const fullName=this.name();if(!fullName)return!1;return-1!==(fullName||"").split(/\s/g).indexOf(name)}removeName(name){const names=(this.name()||"").split(/\s/g),index=names.indexOf(name);return-1!==index&&(names.splice(index,1),this.name(names.join(" "))),this}setAttr(attr,val){const func=this["set"+Util_1.Util._capitalize(attr)];return Util_1.Util._isFunction(func)?func.call(this,val):this._setAttr(attr,val),this}_requestDraw(){if(Global_1.Konva.autoDrawEnabled){const drawNode=this.getLayer()||this.getStage();null==drawNode||drawNode.batchDraw()}}_setAttr(key,val){const oldVal=this.attrs[key];(oldVal!==val||Util_1.Util.isObject(val))&&(null==val?delete this.attrs[key]:this.attrs[key]=val,this._shouldFireChangeEvents&&this._fireChangeEvent(key,oldVal,val),this._requestDraw())}_setComponentAttr(key,component,val){let oldVal;void 0!==val&&(oldVal=this.attrs[key],oldVal||(this.attrs[key]=this.getAttr(key)),this.attrs[key][component]=val,this._fireChangeEvent(key,oldVal,val))}_fireAndBubble(eventType,evt,compareShape){evt&&"Shape"===this.nodeType&&(evt.target=this);if(!(("mouseenter"===eventType||"mouseleave"===eventType)&&(compareShape&&(this===compareShape||this.isAncestorOf&&this.isAncestorOf(compareShape))||"Stage"===this.nodeType&&!compareShape))){this._fire(eventType,evt);const stopBubble=("mouseenter"===eventType||"mouseleave"===eventType)&&compareShape&&compareShape.isAncestorOf&&compareShape.isAncestorOf(this)&&!compareShape.isAncestorOf(this.parent);(evt&&!evt.cancelBubble||!evt)&&this.parent&&this.parent.isListening()&&!stopBubble&&(compareShape&&compareShape.parent?this._fireAndBubble.call(this.parent,eventType,evt,compareShape):this._fireAndBubble.call(this.parent,eventType,evt))}}_getProtoListeners(eventType){var _a,_b,_c;const allListeners=null!==(_a=this._cache.get("allEventListeners"))&&void 0!==_a?_a:{};let events=null==allListeners?void 0:allListeners[eventType];if(void 0===events){events=[];let obj=Object.getPrototypeOf(this);for(;obj;){const hierarchyEvents=null!==(_c=null===(_b=obj.eventListeners)||void 0===_b?void 0:_b[eventType])&&void 0!==_c?_c:[];events.push(...hierarchyEvents),obj=Object.getPrototypeOf(obj)}allListeners[eventType]=events,this._cache.set("allEventListeners",allListeners)}return events}_fire(eventType,evt){(evt=evt||{}).currentTarget=this,evt.type=eventType;const topListeners=this._getProtoListeners(eventType);if(topListeners)for(var i=0;i<topListeners.length;i++)topListeners[i].handler.call(this,evt);const selfListeners=this.eventListeners[eventType];if(selfListeners)for(i=0;i<selfListeners.length;i++)selfListeners[i].handler.call(this,evt)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(evt){const pointerId=evt?evt.pointerId:void 0,stage=this.getStage(),ap=this.getAbsolutePosition();if(!stage)return;const pos=stage._getPointerById(pointerId)||stage._changedPointerPositions[0]||ap;DragAndDrop_1.DD._dragElements.set(this._id,{node:this,startPointerPos:pos,offset:{x:pos.x-ap.x,y:pos.y-ap.y},dragStatus:"ready",pointerId})}startDrag(evt,bubbleEvent=!0){DragAndDrop_1.DD._dragElements.has(this._id)||this._createDragElement(evt);DragAndDrop_1.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:evt&&evt.evt},bubbleEvent)}_setDragPosition(evt,elem){const pos=this.getStage()._getPointerById(elem.pointerId);if(!pos)return;let newNodePos={x:pos.x-elem.offset.x,y:pos.y-elem.offset.y};const dbf=this.dragBoundFunc();if(void 0!==dbf){const bounded=dbf.call(this,newNodePos,evt);bounded?newNodePos=bounded:Util_1.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===newNodePos.x&&this._lastPos.y===newNodePos.y||(this.setAbsolutePosition(newNodePos),this._requestDraw()),this._lastPos=newNodePos}stopDrag(evt){const elem=DragAndDrop_1.DD._dragElements.get(this._id);elem&&(elem.dragStatus="stopped"),DragAndDrop_1.DD._endDragBefore(evt),DragAndDrop_1.DD._endDragAfter(evt)}setDraggable(draggable){this._setAttr("draggable",draggable),this._dragChange()}isDragging(){const elem=DragAndDrop_1.DD._dragElements.get(this._id);return!!elem&&"dragging"===elem.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(evt){if(!(!(void 0!==evt.evt.button)||Global_1.Konva.dragButtons.indexOf(evt.evt.button)>=0))return;if(this.isDragging())return;let hasDraggingChild=!1;DragAndDrop_1.DD._dragElements.forEach((elem=>{this.isAncestorOf(elem.node)&&(hasDraggingChild=!0)})),hasDraggingChild||this._createDragElement(evt)}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();if(!this.getStage())return;const dragElement=DragAndDrop_1.DD._dragElements.get(this._id),isDragging=dragElement&&"dragging"===dragElement.dragStatus,isReady=dragElement&&"ready"===dragElement.dragStatus;isDragging?this.stopDrag():isReady&&DragAndDrop_1.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(margin={x:0,y:0}){const stage=this.getStage();if(!stage)return!1;const screenRect={x:-margin.x,y:-margin.y,width:stage.width()+2*margin.x,height:stage.height()+2*margin.y};return Util_1.Util.haveIntersection(screenRect,this.getClientRect())}static create(data,container){return Util_1.Util._isString(data)&&(data=JSON.parse(data)),this._createNode(data,container)}static _createNode(obj,container){let no,len,n,className=Node.prototype.getClassName.call(obj),children=obj.children;container&&(obj.attrs.container=container),Global_1.Konva[className]||(Util_1.Util.warn('Can not find a node with class name "'+className+'". Fallback to "Shape".'),className="Shape");if(no=new(0,Global_1.Konva[className])(obj.attrs),children)for(len=children.length,n=0;n<len;n++)no.add(Node._createNode(children[n]));return no}}exports.Node=Node,Node.prototype.nodeType="Node",Node.prototype._attrsAffectingSize=[],Node.prototype.eventListeners={},Node.prototype.on.call(Node.prototype,TRANSFORM_CHANGE_STR,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform"))})),Node.prototype.on.call(Node.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache("visible")})),Node.prototype.on.call(Node.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache("listening")})),Node.prototype.on.call(Node.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache("absoluteOpacity")}));const addGetterSetter=Factory_1.Factory.addGetterSetter;addGetterSetter(Node,"zIndex"),addGetterSetter(Node,"absolutePosition"),addGetterSetter(Node,"position"),addGetterSetter(Node,"x",0,(0,Validators_1.getNumberValidator)()),addGetterSetter(Node,"y",0,(0,Validators_1.getNumberValidator)()),addGetterSetter(Node,"globalCompositeOperation","source-over",(0,Validators_1.getStringValidator)()),addGetterSetter(Node,"opacity",1,(0,Validators_1.getNumberValidator)()),addGetterSetter(Node,"name","",(0,Validators_1.getStringValidator)()),addGetterSetter(Node,"id","",(0,Validators_1.getStringValidator)()),addGetterSetter(Node,"rotation",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addComponentsGetterSetter(Node,"scale",["x","y"]),addGetterSetter(Node,"scaleX",1,(0,Validators_1.getNumberValidator)()),addGetterSetter(Node,"scaleY",1,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addComponentsGetterSetter(Node,"skew",["x","y"]),addGetterSetter(Node,"skewX",0,(0,Validators_1.getNumberValidator)()),addGetterSetter(Node,"skewY",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addComponentsGetterSetter(Node,"offset",["x","y"]),addGetterSetter(Node,"offsetX",0,(0,Validators_1.getNumberValidator)()),addGetterSetter(Node,"offsetY",0,(0,Validators_1.getNumberValidator)()),addGetterSetter(Node,"dragDistance",null,(0,Validators_1.getNumberValidator)()),addGetterSetter(Node,"width",0,(0,Validators_1.getNumberValidator)()),addGetterSetter(Node,"height",0,(0,Validators_1.getNumberValidator)()),addGetterSetter(Node,"listening",!0,(0,Validators_1.getBooleanValidator)()),addGetterSetter(Node,"preventDefault",!0,(0,Validators_1.getBooleanValidator)()),addGetterSetter(Node,"filters",null,(function(val){return this._filterUpToDate=!1,val})),addGetterSetter(Node,"visible",!0,(0,Validators_1.getBooleanValidator)()),addGetterSetter(Node,"transformsEnabled","all",(0,Validators_1.getStringValidator)()),addGetterSetter(Node,"size"),addGetterSetter(Node,"dragBoundFunc"),addGetterSetter(Node,"draggable",!1,(0,Validators_1.getBooleanValidator)()),Factory_1.Factory.backCompat(Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})},"./node_modules/konva/lib/PointerEvents.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCapturedShape=function getCapturedShape(pointerId){return Captures.get(pointerId)},exports.createEvent=createEvent,exports.hasPointerCapture=function hasPointerCapture(pointerId,shape){return Captures.get(pointerId)===shape},exports.setPointerCapture=function setPointerCapture(pointerId,shape){releaseCapture(pointerId);if(!shape.getStage())return;Captures.set(pointerId,shape),SUPPORT_POINTER_EVENTS&&shape._fire("gotpointercapture",createEvent(new PointerEvent("gotpointercapture")))},exports.releaseCapture=releaseCapture;const Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Captures=new Map,SUPPORT_POINTER_EVENTS=void 0!==Global_1.Konva._global.PointerEvent;function createEvent(evt){return{evt,pointerId:evt.pointerId}}function releaseCapture(pointerId,target){const shape=Captures.get(pointerId);if(!shape)return;const stage=shape.getStage();stage&&stage.content,Captures.delete(pointerId),SUPPORT_POINTER_EVENTS&&shape._fire("lostpointercapture",createEvent(new PointerEvent("lostpointercapture")))}},"./node_modules/konva/lib/Shape.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Shape=exports.shapes=void 0;const Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_2=__webpack_require__("./node_modules/konva/lib/Global.js"),PointerEvents=__webpack_require__("./node_modules/konva/lib/PointerEvents.js");let dummyContext;function getDummyContext(){return dummyContext||(dummyContext=Util_1.Util.createCanvasElement().getContext("2d"),dummyContext)}exports.shapes={};class Shape extends Node_1.Node{constructor(config){let key;for(super(config);key=Util_1.Util.getRandomColor(),!key||key in exports.shapes;);this.colorKey=key,exports.shapes[key]=this}getContext(){return Util_1.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Util_1.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache("hasShadow",this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache("patternImage",this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const pattern=getDummyContext().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(pattern&&pattern.setTransform){const tr=new Util_1.Transform;tr.translate(this.fillPatternX(),this.fillPatternY()),tr.rotate(Global_1.Konva.getAngle(this.fillPatternRotation())),tr.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),tr.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const m=tr.getMatrix(),matrix="undefined"==typeof DOMMatrix?{a:m[0],b:m[1],c:m[2],d:m[3],e:m[4],f:m[5]}:new DOMMatrix(m);pattern.setTransform(matrix)}return pattern}}_getLinearGradient(){return this._getCache("linearGradient",this.__getLinearGradient)}__getLinearGradient(){const colorStops=this.fillLinearGradientColorStops();if(colorStops){const ctx=getDummyContext(),start=this.fillLinearGradientStartPoint(),end=this.fillLinearGradientEndPoint(),grd=ctx.createLinearGradient(start.x,start.y,end.x,end.y);for(let n=0;n<colorStops.length;n+=2)grd.addColorStop(colorStops[n],colorStops[n+1]);return grd}}_getRadialGradient(){return this._getCache("radialGradient",this.__getRadialGradient)}__getRadialGradient(){const colorStops=this.fillRadialGradientColorStops();if(colorStops){const ctx=getDummyContext(),start=this.fillRadialGradientStartPoint(),end=this.fillRadialGradientEndPoint(),grd=ctx.createRadialGradient(start.x,start.y,this.fillRadialGradientStartRadius(),end.x,end.y,this.fillRadialGradientEndRadius());for(let n=0;n<colorStops.length;n+=2)grd.addColorStop(colorStops[n],colorStops[n+1]);return grd}}getShadowRGBA(){return this._getCache("shadowRGBA",this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const rgba=Util_1.Util.colorToRGBA(this.shadowColor());return rgba?"rgba("+rgba.r+","+rgba.g+","+rgba.b+","+rgba.a*(this.shadowOpacity()||1)+")":void 0}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const width=this.hitStrokeWidth();return"auto"===width?this.hasStroke():this.strokeEnabled()&&!!width}intersects(point){const stage=this.getStage();if(!stage)return!1;const bufferHitCanvas=stage.bufferHitCanvas;bufferHitCanvas.getContext().clear(),this.drawHit(bufferHitCanvas,void 0,!0);return bufferHitCanvas.context.getImageData(Math.round(point.x),Math.round(point.y),1,1).data[3]>0}destroy(){return Node_1.Node.prototype.destroy.call(this),delete exports.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(forceFill){var _a;if(!(null===(_a=this.attrs.perfectDrawEnabled)||void 0===_a||_a))return!1;const hasFill=forceFill||this.hasFill(),hasStroke=this.hasStroke(),isTransparent=1!==this.getAbsoluteOpacity();if(hasFill&&hasStroke&&isTransparent)return!0;const hasShadow=this.hasShadow(),strokeForShadow=this.shadowForStrokeEnabled();return!!(hasFill&&hasStroke&&hasShadow&&strokeForShadow)}setStrokeHitEnabled(val){Util_1.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),val?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){const size=this.size();return{x:this._centroid?-size.width/2:0,y:this._centroid?-size.height/2:0,width:size.width,height:size.height}}getClientRect(config={}){let hasCachedParent=!1,parent=this.getParent();for(;parent;){if(parent.isCached()){hasCachedParent=!0;break}parent=parent.getParent()}const skipTransform=config.skipTransform,relativeTo=config.relativeTo||hasCachedParent&&this.getStage()||void 0,fillRect=this.getSelfRect(),strokeWidth=!config.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,fillAndStrokeWidth=fillRect.width+strokeWidth,fillAndStrokeHeight=fillRect.height+strokeWidth,applyShadow=!config.skipShadow&&this.hasShadow(),shadowOffsetX=applyShadow?this.shadowOffsetX():0,shadowOffsetY=applyShadow?this.shadowOffsetY():0,preWidth=fillAndStrokeWidth+Math.abs(shadowOffsetX),preHeight=fillAndStrokeHeight+Math.abs(shadowOffsetY),blurRadius=applyShadow&&this.shadowBlur()||0,rect={width:preWidth+2*blurRadius,height:preHeight+2*blurRadius,x:-(strokeWidth/2+blurRadius)+Math.min(shadowOffsetX,0)+fillRect.x,y:-(strokeWidth/2+blurRadius)+Math.min(shadowOffsetY,0)+fillRect.y};return skipTransform?rect:this._transformedRect(rect,relativeTo)}drawScene(can,top,bufferCanvas){const layer=this.getLayer();let stage,bufferContext,canvas=can||layer.getCanvas(),context=canvas.getContext(),cachedCanvas=this._getCanvasCache(),drawFunc=this.getSceneFunc(),hasShadow=this.hasShadow();const skipBuffer=canvas.isCache,cachingSelf=top===this;if(!this.isVisible()&&!cachingSelf)return this;if(cachedCanvas){context.save();const m=this.getAbsoluteTransform(top).getMatrix();return context.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(context),context.restore(),this}if(!drawFunc)return this;if(context.save(),this._useBufferCanvas()&&!skipBuffer){stage=this.getStage();const bc=bufferCanvas||stage.bufferCanvas;bufferContext=bc.getContext(),bufferContext.clear(),bufferContext.save(),bufferContext._applyLineJoin(this);var o=this.getAbsoluteTransform(top).getMatrix();bufferContext.transform(o[0],o[1],o[2],o[3],o[4],o[5]),drawFunc.call(this,bufferContext,this),bufferContext.restore();const ratio=bc.pixelRatio;hasShadow&&context._applyShadow(this),context._applyOpacity(this),context._applyGlobalCompositeOperation(this),context.drawImage(bc._canvas,0,0,bc.width/ratio,bc.height/ratio)}else{if(context._applyLineJoin(this),!cachingSelf){o=this.getAbsoluteTransform(top).getMatrix();context.transform(o[0],o[1],o[2],o[3],o[4],o[5]),context._applyOpacity(this),context._applyGlobalCompositeOperation(this)}hasShadow&&context._applyShadow(this),drawFunc.call(this,context,this)}return context.restore(),this}drawHit(can,top,skipDragCheck=!1){if(!this.shouldDrawHit(top,skipDragCheck))return this;const layer=this.getLayer(),canvas=can||layer.hitCanvas,context=canvas&&canvas.getContext(),drawFunc=this.hitFunc()||this.sceneFunc(),cachedCanvas=this._getCanvasCache(),cachedHitCanvas=cachedCanvas&&cachedCanvas.hit;if(this.colorKey||Util_1.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),cachedHitCanvas){context.save();const m=this.getAbsoluteTransform(top).getMatrix();return context.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedHitCanvas(context),context.restore(),this}if(!drawFunc)return this;context.save(),context._applyLineJoin(this);if(!(this===top)){const o=this.getAbsoluteTransform(top).getMatrix();context.transform(o[0],o[1],o[2],o[3],o[4],o[5])}return drawFunc.call(this,context,this),context.restore(),this}drawHitFromCache(alphaThreshold=0){let hitImageData,hitData,len,rgbColorKey,i,alpha,cachedCanvas=this._getCanvasCache(),sceneCanvas=this._getCachedSceneCanvas(),hitCanvas=cachedCanvas.hit,hitContext=hitCanvas.getContext(),hitWidth=hitCanvas.getWidth(),hitHeight=hitCanvas.getHeight();hitContext.clear(),hitContext.drawImage(sceneCanvas._canvas,0,0,hitWidth,hitHeight);try{for(hitImageData=hitContext.getImageData(0,0,hitWidth,hitHeight),hitData=hitImageData.data,len=hitData.length,rgbColorKey=Util_1.Util._hexToRgb(this.colorKey),i=0;i<len;i+=4)alpha=hitData[i+3],alpha>alphaThreshold?(hitData[i]=rgbColorKey.r,hitData[i+1]=rgbColorKey.g,hitData[i+2]=rgbColorKey.b,hitData[i+3]=255):hitData[i+3]=0;hitContext.putImageData(hitImageData,0,0)}catch(e){Util_1.Util.error("Unable to draw hit graph from cached scene canvas. "+e.message)}return this}hasPointerCapture(pointerId){return PointerEvents.hasPointerCapture(pointerId,this)}setPointerCapture(pointerId){PointerEvents.setPointerCapture(pointerId,this)}releaseCapture(pointerId){PointerEvents.releaseCapture(pointerId,this)}}exports.Shape=Shape,Shape.prototype._fillFunc=function _fillFunc(context){const fillRule=this.attrs.fillRule;fillRule?context.fill(fillRule):context.fill()},Shape.prototype._strokeFunc=function _strokeFunc(context){context.stroke()},Shape.prototype._fillFuncHit=function _fillFuncHit(context){const fillRule=this.attrs.fillRule;fillRule?context.fill(fillRule):context.fill()},Shape.prototype._strokeFuncHit=function _strokeFuncHit(context){context.stroke()},Shape.prototype._centroid=!1,Shape.prototype.nodeType="Shape",(0,Global_2._registerNode)(Shape),Shape.prototype.eventListeners={},Shape.prototype.on.call(Shape.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function _clearHasShadowCache(){this._clearCache("hasShadow")})),Shape.prototype.on.call(Shape.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function _clearGetShadowRGBACache(){this._clearCache("shadowRGBA")})),Shape.prototype.on.call(Shape.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function _clearFillPatternCache(){this._clearCache("patternImage")})),Shape.prototype.on.call(Shape.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function _clearLinearGradientCache(){this._clearCache("linearGradient")})),Shape.prototype.on.call(Shape.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function _clearRadialGradientCache(){this._clearCache("radialGradient")})),Factory_1.Factory.addGetterSetter(Shape,"stroke",void 0,(0,Validators_1.getStringOrGradientValidator)()),Factory_1.Factory.addGetterSetter(Shape,"strokeWidth",2,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Shape,"fillAfterStrokeEnabled",!1),Factory_1.Factory.addGetterSetter(Shape,"hitStrokeWidth","auto",(0,Validators_1.getNumberOrAutoValidator)()),Factory_1.Factory.addGetterSetter(Shape,"strokeHitEnabled",!0,(0,Validators_1.getBooleanValidator)()),Factory_1.Factory.addGetterSetter(Shape,"perfectDrawEnabled",!0,(0,Validators_1.getBooleanValidator)()),Factory_1.Factory.addGetterSetter(Shape,"shadowForStrokeEnabled",!0,(0,Validators_1.getBooleanValidator)()),Factory_1.Factory.addGetterSetter(Shape,"lineJoin"),Factory_1.Factory.addGetterSetter(Shape,"lineCap"),Factory_1.Factory.addGetterSetter(Shape,"sceneFunc"),Factory_1.Factory.addGetterSetter(Shape,"hitFunc"),Factory_1.Factory.addGetterSetter(Shape,"dash"),Factory_1.Factory.addGetterSetter(Shape,"dashOffset",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Shape,"shadowColor",void 0,(0,Validators_1.getStringValidator)()),Factory_1.Factory.addGetterSetter(Shape,"shadowBlur",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Shape,"shadowOpacity",1,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addComponentsGetterSetter(Shape,"shadowOffset",["x","y"]),Factory_1.Factory.addGetterSetter(Shape,"shadowOffsetX",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Shape,"shadowOffsetY",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Shape,"fillPatternImage"),Factory_1.Factory.addGetterSetter(Shape,"fill",void 0,(0,Validators_1.getStringOrGradientValidator)()),Factory_1.Factory.addGetterSetter(Shape,"fillPatternX",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Shape,"fillPatternY",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Shape,"fillLinearGradientColorStops"),Factory_1.Factory.addGetterSetter(Shape,"strokeLinearGradientColorStops"),Factory_1.Factory.addGetterSetter(Shape,"fillRadialGradientStartRadius",0),Factory_1.Factory.addGetterSetter(Shape,"fillRadialGradientEndRadius",0),Factory_1.Factory.addGetterSetter(Shape,"fillRadialGradientColorStops"),Factory_1.Factory.addGetterSetter(Shape,"fillPatternRepeat","repeat"),Factory_1.Factory.addGetterSetter(Shape,"fillEnabled",!0),Factory_1.Factory.addGetterSetter(Shape,"strokeEnabled",!0),Factory_1.Factory.addGetterSetter(Shape,"shadowEnabled",!0),Factory_1.Factory.addGetterSetter(Shape,"dashEnabled",!0),Factory_1.Factory.addGetterSetter(Shape,"strokeScaleEnabled",!0),Factory_1.Factory.addGetterSetter(Shape,"fillPriority","color"),Factory_1.Factory.addComponentsGetterSetter(Shape,"fillPatternOffset",["x","y"]),Factory_1.Factory.addGetterSetter(Shape,"fillPatternOffsetX",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Shape,"fillPatternOffsetY",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addComponentsGetterSetter(Shape,"fillPatternScale",["x","y"]),Factory_1.Factory.addGetterSetter(Shape,"fillPatternScaleX",1,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Shape,"fillPatternScaleY",1,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addComponentsGetterSetter(Shape,"fillLinearGradientStartPoint",["x","y"]),Factory_1.Factory.addComponentsGetterSetter(Shape,"strokeLinearGradientStartPoint",["x","y"]),Factory_1.Factory.addGetterSetter(Shape,"fillLinearGradientStartPointX",0),Factory_1.Factory.addGetterSetter(Shape,"strokeLinearGradientStartPointX",0),Factory_1.Factory.addGetterSetter(Shape,"fillLinearGradientStartPointY",0),Factory_1.Factory.addGetterSetter(Shape,"strokeLinearGradientStartPointY",0),Factory_1.Factory.addComponentsGetterSetter(Shape,"fillLinearGradientEndPoint",["x","y"]),Factory_1.Factory.addComponentsGetterSetter(Shape,"strokeLinearGradientEndPoint",["x","y"]),Factory_1.Factory.addGetterSetter(Shape,"fillLinearGradientEndPointX",0),Factory_1.Factory.addGetterSetter(Shape,"strokeLinearGradientEndPointX",0),Factory_1.Factory.addGetterSetter(Shape,"fillLinearGradientEndPointY",0),Factory_1.Factory.addGetterSetter(Shape,"strokeLinearGradientEndPointY",0),Factory_1.Factory.addComponentsGetterSetter(Shape,"fillRadialGradientStartPoint",["x","y"]),Factory_1.Factory.addGetterSetter(Shape,"fillRadialGradientStartPointX",0),Factory_1.Factory.addGetterSetter(Shape,"fillRadialGradientStartPointY",0),Factory_1.Factory.addComponentsGetterSetter(Shape,"fillRadialGradientEndPoint",["x","y"]),Factory_1.Factory.addGetterSetter(Shape,"fillRadialGradientEndPointX",0),Factory_1.Factory.addGetterSetter(Shape,"fillRadialGradientEndPointY",0),Factory_1.Factory.addGetterSetter(Shape,"fillPatternRotation",0),Factory_1.Factory.addGetterSetter(Shape,"fillRule",void 0,(0,Validators_1.getStringValidator)()),Factory_1.Factory.backCompat(Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})},"./node_modules/konva/lib/Stage.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Stage=exports.stages=void 0;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Container_1=__webpack_require__("./node_modules/konva/lib/Container.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Canvas_1=__webpack_require__("./node_modules/konva/lib/Canvas.js"),DragAndDrop_1=__webpack_require__("./node_modules/konva/lib/DragAndDrop.js"),Global_2=__webpack_require__("./node_modules/konva/lib/Global.js"),PointerEvents=__webpack_require__("./node_modules/konva/lib/PointerEvents.js"),POINTERMOVE="pointermove",POINTERDOWN="pointerdown",POINTERUP="pointerup",POINTERCANCEL="pointercancel",POINTEROUT="pointerout",POINTERLEAVE="pointerleave",POINTEROVER="pointerover",POINTERENTER="pointerenter",EVENTS=[["mouseenter","_pointerenter"],["mousedown","_pointerdown"],["mousemove","_pointermove"],["mouseup","_pointerup"],["mouseleave","_pointerleave"],["touchstart","_pointerdown"],["touchmove","_pointermove"],["touchend","_pointerup"],["touchcancel","_pointercancel"],["mouseover","_pointerover"],["wheel","_wheel"],["contextmenu","_contextmenu"],["pointerdown","_pointerdown"],["pointermove","_pointermove"],["pointerup","_pointerup"],["pointercancel","_pointercancel"],["lostpointercapture","_lostpointercapture"]],EVENTS_MAP={mouse:{[POINTEROUT]:"mouseout",[POINTERLEAVE]:"mouseleave",[POINTEROVER]:"mouseover",[POINTERENTER]:"mouseenter",[POINTERMOVE]:"mousemove",[POINTERDOWN]:"mousedown",[POINTERUP]:"mouseup",[POINTERCANCEL]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[POINTEROUT]:"touchout",[POINTERLEAVE]:"touchleave",[POINTEROVER]:"touchover",[POINTERENTER]:"touchenter",[POINTERMOVE]:"touchmove",[POINTERDOWN]:"touchstart",[POINTERUP]:"touchend",[POINTERCANCEL]:"touchcancel",pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[POINTEROUT]:"pointerout",[POINTERLEAVE]:"pointerleave",[POINTEROVER]:"pointerover",[POINTERENTER]:"pointerenter",[POINTERMOVE]:"pointermove",[POINTERDOWN]:"pointerdown",[POINTERUP]:"pointerup",[POINTERCANCEL]:"pointercancel",pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},getEventType=type=>type.indexOf("pointer")>=0?"pointer":type.indexOf("touch")>=0?"touch":"mouse",getEventsMap=eventType=>{const type=getEventType(eventType);return"pointer"===type?Global_1.Konva.pointerEventsEnabled&&EVENTS_MAP.pointer:"touch"===type?EVENTS_MAP.touch:"mouse"===type?EVENTS_MAP.mouse:void 0};function checkNoClip(attrs={}){return(attrs.clipFunc||attrs.clipWidth||attrs.clipHeight)&&Util_1.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),attrs}exports.stages=[];class Stage extends Container_1.Container{constructor(config){super(checkNoClip(config)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),exports.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{checkNoClip(this.attrs)})),this._checkVisibility()}_validateAdd(child){const isLayer="Layer"===child.getType(),isFastLayer="FastLayer"===child.getType();isLayer||isFastLayer||Util_1.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const style=this.visible()?"":"none";this.content.style.display=style}setContainer(container){if("string"==typeof container){if("."===container.charAt(0)){const className=container.slice(1);container=document.getElementsByClassName(className)[0]}else{var id;id="#"!==container.charAt(0)?container:container.slice(1),container=document.getElementById(id)}if(!container)throw"Can not find container in document with id "+id}return this._setAttr("container",container),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),container.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let n,layers=this.children,len=layers.length;for(n=0;n<len;n++)layers[n].clear();return this}clone(obj){return obj||(obj={}),obj.container="undefined"!=typeof document&&document.createElement("div"),Container_1.Container.prototype.clone.call(this,obj)}destroy(){super.destroy();const content=this.content;content&&Util_1.Util._isInDocument(content)&&this.container().removeChild(content);const index=exports.stages.indexOf(this);return index>-1&&exports.stages.splice(index,1),Util_1.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const pos=this._pointerPositions[0]||this._changedPointerPositions[0];return pos?{x:pos.x,y:pos.y}:(Util_1.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(id){return this._pointerPositions.find((p=>p.id===id))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(config){(config=config||{}).x=config.x||0,config.y=config.y||0,config.width=config.width||this.width(),config.height=config.height||this.height();const canvas=new Canvas_1.SceneCanvas({width:config.width,height:config.height,pixelRatio:config.pixelRatio||1}),_context=canvas.getContext()._context,layers=this.children;return(config.x||config.y)&&_context.translate(-1*config.x,-1*config.y),layers.forEach((function(layer){if(!layer.isVisible())return;const layerCanvas=layer._toKonvaCanvas(config);_context.drawImage(layerCanvas._canvas,config.x,config.y,layerCanvas.getWidth()/layerCanvas.getPixelRatio(),layerCanvas.getHeight()/layerCanvas.getPixelRatio())})),canvas}getIntersection(pos){if(!pos)return null;let n,layers=this.children;for(n=layers.length-1;n>=0;n--){const shape=layers[n].getIntersection(pos);if(shape)return shape}return null}_resizeDOM(){const width=this.width(),height=this.height();this.content&&(this.content.style.width=width+"px",this.content.style.height=height+"px"),this.bufferCanvas.setSize(width,height),this.bufferHitCanvas.setSize(width,height),this.children.forEach((layer=>{layer.setSize({width,height}),layer.draw()}))}add(layer,...rest){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(layer);const length=this.children.length;return length>5&&Util_1.Util.warn("The stage has "+length+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),layer.setSize({width:this.width(),height:this.height()}),layer.draw(),Global_1.Konva.isBrowser&&this.content.appendChild(layer.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(pointerId){return PointerEvents.hasPointerCapture(pointerId,this)}setPointerCapture(pointerId){PointerEvents.setPointerCapture(pointerId,this)}releaseCapture(pointerId){PointerEvents.releaseCapture(pointerId,this)}getLayers(){return this.children}_bindContentEvents(){Global_1.Konva.isBrowser&&EVENTS.forEach((([event,methodName])=>{this.content.addEventListener(event,(evt=>{this[methodName](evt)}),{passive:!1})}))}_pointerenter(evt){this.setPointersPositions(evt);const events=getEventsMap(evt.type);events&&this._fire(events.pointerenter,{evt,target:this,currentTarget:this})}_pointerover(evt){this.setPointersPositions(evt);const events=getEventsMap(evt.type);events&&this._fire(events.pointerover,{evt,target:this,currentTarget:this})}_getTargetShape(evenType){let shape=this[evenType+"targetShape"];return shape&&!shape.getStage()&&(shape=null),shape}_pointerleave(evt){const events=getEventsMap(evt.type),eventType=getEventType(evt.type);if(!events)return;this.setPointersPositions(evt);const targetShape=this._getTargetShape(eventType),eventsEnabled=!(Global_1.Konva.isDragging()||Global_1.Konva.isTransforming())||Global_1.Konva.hitOnDragEnabled;targetShape&&eventsEnabled?(targetShape._fireAndBubble(events.pointerout,{evt}),targetShape._fireAndBubble(events.pointerleave,{evt}),this._fire(events.pointerleave,{evt,target:this,currentTarget:this}),this[eventType+"targetShape"]=null):eventsEnabled&&(this._fire(events.pointerleave,{evt,target:this,currentTarget:this}),this._fire(events.pointerout,{evt,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(evt){const events=getEventsMap(evt.type),eventType=getEventType(evt.type);if(!events)return;this.setPointersPositions(evt);let triggeredOnShape=!1;this._changedPointerPositions.forEach((pos=>{const shape=this.getIntersection(pos);if(DragAndDrop_1.DD.justDragged=!1,Global_1.Konva["_"+eventType+"ListenClick"]=!0,!shape||!shape.isListening())return void(this[eventType+"ClickStartShape"]=void 0);Global_1.Konva.capturePointerEventsEnabled&&shape.setPointerCapture(pos.id),this[eventType+"ClickStartShape"]=shape,shape._fireAndBubble(events.pointerdown,{evt,pointerId:pos.id}),triggeredOnShape=!0;const isTouch=evt.type.indexOf("touch")>=0;shape.preventDefault()&&evt.cancelable&&isTouch&&evt.preventDefault()})),triggeredOnShape||this._fire(events.pointerdown,{evt,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(evt){const events=getEventsMap(evt.type),eventType=getEventType(evt.type);if(!events)return;Global_1.Konva.isDragging()&&DragAndDrop_1.DD.node.preventDefault()&&evt.cancelable&&evt.preventDefault(),this.setPointersPositions(evt);if(!(!(Global_1.Konva.isDragging()||Global_1.Konva.isTransforming())||Global_1.Konva.hitOnDragEnabled))return;const processedShapesIds={};let triggeredOnShape=!1;const targetShape=this._getTargetShape(eventType);this._changedPointerPositions.forEach((pos=>{const shape=PointerEvents.getCapturedShape(pos.id)||this.getIntersection(pos),pointerId=pos.id,event={evt,pointerId},differentTarget=targetShape!==shape;if(differentTarget&&targetShape&&(targetShape._fireAndBubble(events.pointerout,{...event},shape),targetShape._fireAndBubble(events.pointerleave,{...event},shape)),shape){if(processedShapesIds[shape._id])return;processedShapesIds[shape._id]=!0}shape&&shape.isListening()?(triggeredOnShape=!0,differentTarget&&(shape._fireAndBubble(events.pointerover,{...event},targetShape),shape._fireAndBubble(events.pointerenter,{...event},targetShape),this[eventType+"targetShape"]=shape),shape._fireAndBubble(events.pointermove,{...event})):targetShape&&(this._fire(events.pointerover,{evt,target:this,currentTarget:this,pointerId}),this[eventType+"targetShape"]=null)})),triggeredOnShape||this._fire(events.pointermove,{evt,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(evt){const events=getEventsMap(evt.type),eventType=getEventType(evt.type);if(!events)return;this.setPointersPositions(evt);const clickStartShape=this[eventType+"ClickStartShape"],clickEndShape=this[eventType+"ClickEndShape"],processedShapesIds={};let triggeredOnShape=!1;this._changedPointerPositions.forEach((pos=>{const shape=PointerEvents.getCapturedShape(pos.id)||this.getIntersection(pos);if(shape){if(shape.releaseCapture(pos.id),processedShapesIds[shape._id])return;processedShapesIds[shape._id]=!0}const pointerId=pos.id,event={evt,pointerId};let fireDblClick=!1;Global_1.Konva["_"+eventType+"InDblClickWindow"]?(fireDblClick=!0,clearTimeout(this[eventType+"DblTimeout"])):DragAndDrop_1.DD.justDragged||(Global_1.Konva["_"+eventType+"InDblClickWindow"]=!0,clearTimeout(this[eventType+"DblTimeout"])),this[eventType+"DblTimeout"]=setTimeout((function(){Global_1.Konva["_"+eventType+"InDblClickWindow"]=!1}),Global_1.Konva.dblClickWindow),shape&&shape.isListening()?(triggeredOnShape=!0,this[eventType+"ClickEndShape"]=shape,shape._fireAndBubble(events.pointerup,{...event}),Global_1.Konva["_"+eventType+"ListenClick"]&&clickStartShape&&clickStartShape===shape&&(shape._fireAndBubble(events.pointerclick,{...event}),fireDblClick&&clickEndShape&&clickEndShape===shape&&shape._fireAndBubble(events.pointerdblclick,{...event}))):(this[eventType+"ClickEndShape"]=null,Global_1.Konva["_"+eventType+"ListenClick"]&&this._fire(events.pointerclick,{evt,target:this,currentTarget:this,pointerId}),fireDblClick&&this._fire(events.pointerdblclick,{evt,target:this,currentTarget:this,pointerId}))})),triggeredOnShape||this._fire(events.pointerup,{evt,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Global_1.Konva["_"+eventType+"ListenClick"]=!1,evt.cancelable&&"touch"!==eventType&&evt.preventDefault()}_contextmenu(evt){this.setPointersPositions(evt);const shape=this.getIntersection(this.getPointerPosition());shape&&shape.isListening()?shape._fireAndBubble("contextmenu",{evt}):this._fire("contextmenu",{evt,target:this,currentTarget:this})}_wheel(evt){this.setPointersPositions(evt);const shape=this.getIntersection(this.getPointerPosition());shape&&shape.isListening()?shape._fireAndBubble("wheel",{evt}):this._fire("wheel",{evt,target:this,currentTarget:this})}_pointercancel(evt){this.setPointersPositions(evt);const shape=PointerEvents.getCapturedShape(evt.pointerId)||this.getIntersection(this.getPointerPosition());shape&&shape._fireAndBubble("pointerup",PointerEvents.createEvent(evt)),PointerEvents.releaseCapture(evt.pointerId)}_lostpointercapture(evt){PointerEvents.releaseCapture(evt.pointerId)}setPointersPositions(evt){let contentPosition=this._getContentPosition(),x=null,y=null;void 0!==(evt=evt||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(evt.touches,(touch=>{this._pointerPositions.push({id:touch.identifier,x:(touch.clientX-contentPosition.left)/contentPosition.scaleX,y:(touch.clientY-contentPosition.top)/contentPosition.scaleY})})),Array.prototype.forEach.call(evt.changedTouches||evt.touches,(touch=>{this._changedPointerPositions.push({id:touch.identifier,x:(touch.clientX-contentPosition.left)/contentPosition.scaleX,y:(touch.clientY-contentPosition.top)/contentPosition.scaleY})}))):(x=(evt.clientX-contentPosition.left)/contentPosition.scaleX,y=(evt.clientY-contentPosition.top)/contentPosition.scaleY,this.pointerPos={x,y},this._pointerPositions=[{x,y,id:Util_1.Util._getFirstPointerId(evt)}],this._changedPointerPositions=[{x,y,id:Util_1.Util._getFirstPointerId(evt)}])}_setPointerPosition(evt){Util_1.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(evt)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const rect=this.content.getBoundingClientRect();return{top:rect.top,left:rect.left,scaleX:rect.width/this.content.clientWidth||1,scaleY:rect.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Canvas_1.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Canvas_1.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!Global_1.Konva.isBrowser)return;const container=this.container();if(!container)throw"Stage has no container. A container is required.";container.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),container.appendChild(this.content),this._resizeDOM()}cache(){return Util_1.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(layer){layer.batchDraw()})),this}}exports.Stage=Stage,Stage.prototype.nodeType="Stage",(0,Global_2._registerNode)(Stage),Factory_1.Factory.addGetterSetter(Stage,"container"),Global_1.Konva.isBrowser&&document.addEventListener("visibilitychange",(()=>{exports.stages.forEach((stage=>{stage.batchDraw()}))}))},"./node_modules/konva/lib/Tween.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Easings=exports.Tween=void 0;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Animation_1=__webpack_require__("./node_modules/konva/lib/Animation.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js");let blacklist={node:1,duration:1,easing:1,onFinish:1,yoyo:1},idCounter=0,colorAttrs=["fill","stroke","shadowColor"];class TweenEngine{constructor(prop,propFunc,func,begin,finish,duration,yoyo){this.prop=prop,this.propFunc=propFunc,this.begin=begin,this._pos=begin,this.duration=duration,this._change=0,this.prevPos=0,this.yoyo=yoyo,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=func,this._change=finish-this.begin,this.pause()}fire(str){const handler=this[str];handler&&handler()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(p){this.prevPos=this._pos,this.propFunc(p),this._pos=p}getPosition(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class Tween{constructor(config){let duration,key,that=this,node=config.node,nodeId=node._id,easing=config.easing||exports.Easings.Linear,yoyo=!!config.yoyo;duration=void 0===config.duration?.3:0===config.duration?.001:config.duration,this.node=node,this._id=idCounter++;const layers=node.getLayer()||(node instanceof Global_1.Konva.Stage?node.getLayers():null);for(key in layers||Util_1.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Animation_1.Animation((function(){that.tween.onEnterFrame()}),layers),this.tween=new TweenEngine(key,(function(i){that._tweenFunc(i)}),easing,0,1,1e3*duration,yoyo),this._addListeners(),Tween.attrs[nodeId]||(Tween.attrs[nodeId]={}),Tween.attrs[nodeId][this._id]||(Tween.attrs[nodeId][this._id]={}),Tween.tweens[nodeId]||(Tween.tweens[nodeId]={}),config)void 0===blacklist[key]&&this._addAttr(key,config[key]);this.reset(),this.onFinish=config.onFinish,this.onReset=config.onReset,this.onUpdate=config.onUpdate}_addAttr(key,end){let start,diff,tweenId,n,len,trueEnd,trueStart,endRGBA,node=this.node,nodeId=node._id;if(tweenId=Tween.tweens[nodeId][key],tweenId&&delete Tween.attrs[nodeId][tweenId][key],start=node.getAttr(key),Util_1.Util._isArray(end))if(diff=[],len=Math.max(end.length,start.length),"points"===key&&end.length!==start.length&&(end.length>start.length?(trueStart=start,start=Util_1.Util._prepareArrayForTween(start,end,node.closed())):(trueEnd=end,end=Util_1.Util._prepareArrayForTween(end,start,node.closed()))),0===key.indexOf("fill"))for(n=0;n<len;n++)if(n%2==0)diff.push(end[n]-start[n]);else{const startRGBA=Util_1.Util.colorToRGBA(start[n]);endRGBA=Util_1.Util.colorToRGBA(end[n]),start[n]=startRGBA,diff.push({r:endRGBA.r-startRGBA.r,g:endRGBA.g-startRGBA.g,b:endRGBA.b-startRGBA.b,a:endRGBA.a-startRGBA.a})}else for(n=0;n<len;n++)diff.push(end[n]-start[n]);else-1!==colorAttrs.indexOf(key)?(start=Util_1.Util.colorToRGBA(start),endRGBA=Util_1.Util.colorToRGBA(end),diff={r:endRGBA.r-start.r,g:endRGBA.g-start.g,b:endRGBA.b-start.b,a:endRGBA.a-start.a}):diff=end-start;Tween.attrs[nodeId][this._id][key]={start,diff,end,trueEnd,trueStart},Tween.tweens[nodeId][key]=this._id}_tweenFunc(i){let key,attr,start,diff,newVal,n,len,end,node=this.node,attrs=Tween.attrs[node._id][this._id];for(key in attrs){if(attr=attrs[key],start=attr.start,diff=attr.diff,end=attr.end,Util_1.Util._isArray(start))if(newVal=[],len=Math.max(start.length,end.length),0===key.indexOf("fill"))for(n=0;n<len;n++)n%2==0?newVal.push((start[n]||0)+diff[n]*i):newVal.push("rgba("+Math.round(start[n].r+diff[n].r*i)+","+Math.round(start[n].g+diff[n].g*i)+","+Math.round(start[n].b+diff[n].b*i)+","+(start[n].a+diff[n].a*i)+")");else for(n=0;n<len;n++)newVal.push((start[n]||0)+diff[n]*i);else newVal=-1!==colorAttrs.indexOf(key)?"rgba("+Math.round(start.r+diff.r*i)+","+Math.round(start.g+diff.g*i)+","+Math.round(start.b+diff.b*i)+","+(start.a+diff.a*i)+")":start+diff*i;node.setAttr(key,newVal)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const node=this.node,attrs=Tween.attrs[node._id][this._id];attrs.points&&attrs.points.trueEnd&&node.setAttr("points",attrs.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const node=this.node,attrs=Tween.attrs[node._id][this._id];attrs.points&&attrs.points.trueStart&&node.points(attrs.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(1e3*t),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let key,nodeId=this.node._id,thisId=this._id,attrs=Tween.tweens[nodeId];for(key in this.pause(),attrs)delete Tween.tweens[nodeId][key];delete Tween.attrs[nodeId][thisId]}}exports.Tween=Tween,Tween.attrs={},Tween.tweens={},Node_1.Node.prototype.to=function(params){const onFinish=params.onFinish;params.node=this,params.onFinish=function(){this.destroy(),onFinish&&onFinish()};new Tween(params).play()},exports.Easings={BackEaseIn(t,b,c,d){const s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b},BackEaseOut(t,b,c,d){const s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},BackEaseInOut(t,b,c,d){let s=1.70158;return(t/=d/2)<1?c/2*(t*t*((1+(s*=1.525))*t-s))+b:c/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+b},ElasticEaseIn(t,b,c,d,a,p){let s=0;return 0===t?b:1==(t/=d)?b+c:(p||(p=.3*d),!a||a<Math.abs(c)?(a=c,s=p/4):s=p/(2*Math.PI)*Math.asin(c/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)+b)},ElasticEaseOut(t,b,c,d,a,p){let s=0;return 0===t?b:1==(t/=d)?b+c:(p||(p=.3*d),!a||a<Math.abs(c)?(a=c,s=p/4):s=p/(2*Math.PI)*Math.asin(c/a),a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b)},ElasticEaseInOut(t,b,c,d,a,p){let s=0;return 0===t?b:2==(t/=d/2)?b+c:(p||(p=d*(.3*1.5)),!a||a<Math.abs(c)?(a=c,s=p/4):s=p/(2*Math.PI)*Math.asin(c/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*-.5+b:a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b)},BounceEaseOut:(t,b,c,d)=>(t/=d)<1/2.75?c*(7.5625*t*t)+b:t<2/2.75?c*(7.5625*(t-=1.5/2.75)*t+.75)+b:t<2.5/2.75?c*(7.5625*(t-=2.25/2.75)*t+.9375)+b:c*(7.5625*(t-=2.625/2.75)*t+.984375)+b,BounceEaseIn:(t,b,c,d)=>c-exports.Easings.BounceEaseOut(d-t,0,c,d)+b,BounceEaseInOut:(t,b,c,d)=>t<d/2?.5*exports.Easings.BounceEaseIn(2*t,0,c,d)+b:.5*exports.Easings.BounceEaseOut(2*t-d,0,c,d)+.5*c+b,EaseIn:(t,b,c,d)=>c*(t/=d)*t+b,EaseOut:(t,b,c,d)=>-c*(t/=d)*(t-2)+b,EaseInOut:(t,b,c,d)=>(t/=d/2)<1?c/2*t*t+b:-c/2*(--t*(t-2)-1)+b,StrongEaseIn:(t,b,c,d)=>c*(t/=d)*t*t*t*t+b,StrongEaseOut:(t,b,c,d)=>c*((t=t/d-1)*t*t*t*t+1)+b,StrongEaseInOut:(t,b,c,d)=>(t/=d/2)<1?c/2*t*t*t*t*t+b:c/2*((t-=2)*t*t*t*t+2)+b,Linear:(t,b,c,d)=>c*t/d+b}},"./node_modules/konva/lib/Util.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__("./node_modules/console-browserify/index.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Util=exports.Transform=void 0;const Global_1=__webpack_require__("./node_modules/konva/lib/Global.js");class Transform{constructor(m=[1,0,0,1,0,0]){this.dirty=!1,this.m=m&&m.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Transform(this.m)}copyInto(tr){tr.m[0]=this.m[0],tr.m[1]=this.m[1],tr.m[2]=this.m[2],tr.m[3]=this.m[3],tr.m[4]=this.m[4],tr.m[5]=this.m[5]}point(point){const m=this.m;return{x:m[0]*point.x+m[2]*point.y+m[4],y:m[1]*point.x+m[3]*point.y+m[5]}}translate(x,y){return this.m[4]+=this.m[0]*x+this.m[2]*y,this.m[5]+=this.m[1]*x+this.m[3]*y,this}scale(sx,sy){return this.m[0]*=sx,this.m[1]*=sx,this.m[2]*=sy,this.m[3]*=sy,this}rotate(rad){const c=Math.cos(rad),s=Math.sin(rad),m11=this.m[0]*c+this.m[2]*s,m12=this.m[1]*c+this.m[3]*s,m21=this.m[0]*-s+this.m[2]*c,m22=this.m[1]*-s+this.m[3]*c;return this.m[0]=m11,this.m[1]=m12,this.m[2]=m21,this.m[3]=m22,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(sx,sy){const m11=this.m[0]+this.m[2]*sy,m12=this.m[1]+this.m[3]*sy,m21=this.m[2]+this.m[0]*sx,m22=this.m[3]+this.m[1]*sx;return this.m[0]=m11,this.m[1]=m12,this.m[2]=m21,this.m[3]=m22,this}multiply(matrix){const m11=this.m[0]*matrix.m[0]+this.m[2]*matrix.m[1],m12=this.m[1]*matrix.m[0]+this.m[3]*matrix.m[1],m21=this.m[0]*matrix.m[2]+this.m[2]*matrix.m[3],m22=this.m[1]*matrix.m[2]+this.m[3]*matrix.m[3],dx=this.m[0]*matrix.m[4]+this.m[2]*matrix.m[5]+this.m[4],dy=this.m[1]*matrix.m[4]+this.m[3]*matrix.m[5]+this.m[5];return this.m[0]=m11,this.m[1]=m12,this.m[2]=m21,this.m[3]=m22,this.m[4]=dx,this.m[5]=dy,this}invert(){const d=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),m0=this.m[3]*d,m1=-this.m[1]*d,m2=-this.m[2]*d,m3=this.m[0]*d,m4=d*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),m5=d*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=m0,this.m[1]=m1,this.m[2]=m2,this.m[3]=m3,this.m[4]=m4,this.m[5]=m5,this}getMatrix(){return this.m}decompose(){const a=this.m[0],b=this.m[1],c=this.m[2],d=this.m[3],delta=a*d-b*c,result={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=a||0!=b){const r=Math.sqrt(a*a+b*b);result.rotation=b>0?Math.acos(a/r):-Math.acos(a/r),result.scaleX=r,result.scaleY=delta/r,result.skewX=(a*c+b*d)/delta,result.skewY=0}else if(0!=c||0!=d){const s=Math.sqrt(c*c+d*d);result.rotation=Math.PI/2-(d>0?Math.acos(-c/s):-Math.acos(c/s)),result.scaleX=delta/s,result.scaleY=s,result.skewX=0,result.skewY=(a*c+b*d)/delta}return result.rotation=exports.Util._getRotation(result.rotation),result}}exports.Transform=Transform;let PI_OVER_DEG180=Math.PI/180,DEG180_OVER_PI=180/Math.PI,COLORS={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},RGB_REGEX=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,animQueue=[];const req="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(f){setTimeout(f,60)};exports.Util={_isElement:obj=>!(!obj||1!=obj.nodeType),_isFunction:obj=>!!(obj&&obj.constructor&&obj.call&&obj.apply),_isPlainObject:obj=>!!obj&&obj.constructor===Object,_isArray:obj=>"[object Array]"===Object.prototype.toString.call(obj),_isNumber:obj=>"[object Number]"===Object.prototype.toString.call(obj)&&!isNaN(obj)&&isFinite(obj),_isString:obj=>"[object String]"===Object.prototype.toString.call(obj),_isBoolean:obj=>"[object Boolean]"===Object.prototype.toString.call(obj),isObject:val=>val instanceof Object,isValidSelector(selector){if("string"!=typeof selector)return!1;const firstChar=selector[0];return"#"===firstChar||"."===firstChar||firstChar===firstChar.toUpperCase()},_sign:number=>0===number||number>0?1:-1,requestAnimFrame(callback){animQueue.push(callback),1===animQueue.length&&req((function(){const queue=animQueue;animQueue=[],queue.forEach((function(cb){cb()}))}))},createCanvasElement(){const canvas=document.createElement("canvas");try{canvas.style=canvas.style||{}}catch(e){}return canvas},createImageElement:()=>document.createElement("img"),_isInDocument(el){for(;el=el.parentNode;)if(el==document)return!0;return!1},_urlToImage(url,callback){const imageObj=exports.Util.createImageElement();imageObj.onload=function(){callback(imageObj)},imageObj.src=url},_rgbToHex:(r,g,b)=>((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1),_hexToRgb(hex){hex=hex.replace("#","");const bigint=parseInt(hex,16);return{r:bigint>>16&255,g:bigint>>8&255,b:255&bigint}},getRandomColor(){let randColor=(16777215*Math.random()|0).toString(16);for(;randColor.length<6;)randColor="0"+randColor;return"#"+randColor},getRGB(color){let rgb;return color in COLORS?(rgb=COLORS[color],{r:rgb[0],g:rgb[1],b:rgb[2]}):"#"===color[0]?this._hexToRgb(color.substring(1)):"rgb("===color.substr(0,4)?(rgb=RGB_REGEX.exec(color.replace(/ /g,"")),{r:parseInt(rgb[1],10),g:parseInt(rgb[2],10),b:parseInt(rgb[3],10)}):{r:0,g:0,b:0}},colorToRGBA:str=>(str=str||"black",exports.Util._namedColorToRBA(str)||exports.Util._hex3ColorToRGBA(str)||exports.Util._hex4ColorToRGBA(str)||exports.Util._hex6ColorToRGBA(str)||exports.Util._hex8ColorToRGBA(str)||exports.Util._rgbColorToRGBA(str)||exports.Util._rgbaColorToRGBA(str)||exports.Util._hslColorToRGBA(str)),_namedColorToRBA(str){const c=COLORS[str.toLowerCase()];return c?{r:c[0],g:c[1],b:c[2],a:1}:null},_rgbColorToRGBA(str){if(0===str.indexOf("rgb(")){const parts=(str=str.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:parts[0],g:parts[1],b:parts[2],a:1}}},_rgbaColorToRGBA(str){if(0===str.indexOf("rgba(")){const parts=(str=str.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(((n,index)=>"%"===n.slice(-1)?3===index?parseInt(n)/100:parseInt(n)/100*255:Number(n)));return{r:parts[0],g:parts[1],b:parts[2],a:parts[3]}}},_hex8ColorToRGBA(str){if("#"===str[0]&&9===str.length)return{r:parseInt(str.slice(1,3),16),g:parseInt(str.slice(3,5),16),b:parseInt(str.slice(5,7),16),a:parseInt(str.slice(7,9),16)/255}},_hex6ColorToRGBA(str){if("#"===str[0]&&7===str.length)return{r:parseInt(str.slice(1,3),16),g:parseInt(str.slice(3,5),16),b:parseInt(str.slice(5,7),16),a:1}},_hex4ColorToRGBA(str){if("#"===str[0]&&5===str.length)return{r:parseInt(str[1]+str[1],16),g:parseInt(str[2]+str[2],16),b:parseInt(str[3]+str[3],16),a:parseInt(str[4]+str[4],16)/255}},_hex3ColorToRGBA(str){if("#"===str[0]&&4===str.length)return{r:parseInt(str[1]+str[1],16),g:parseInt(str[2]+str[2],16),b:parseInt(str[3]+str[3],16),a:1}},_hslColorToRGBA(str){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(str)){const[_,...hsl]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(str),h=Number(hsl[0])/360,s=Number(hsl[1])/100,l=Number(hsl[2])/100;let t2,t3,val;if(0===s)return val=255*l,{r:Math.round(val),g:Math.round(val),b:Math.round(val),a:1};t2=l<.5?l*(1+s):l+s-l*s;const t1=2*l-t2,rgb=[0,0,0];for(let i=0;i<3;i++)t3=h+1/3*-(i-1),t3<0&&t3++,t3>1&&t3--,val=6*t3<1?t1+6*(t2-t1)*t3:2*t3<1?t2:3*t3<2?t1+(t2-t1)*(2/3-t3)*6:t1,rgb[i]=255*val;return{r:Math.round(rgb[0]),g:Math.round(rgb[1]),b:Math.round(rgb[2]),a:1}}},haveIntersection:(r1,r2)=>!(r2.x>r1.x+r1.width||r2.x+r2.width<r1.x||r2.y>r1.y+r1.height||r2.y+r2.height<r1.y),cloneObject(obj){const retObj={};for(const key in obj)this._isPlainObject(obj[key])?retObj[key]=this.cloneObject(obj[key]):this._isArray(obj[key])?retObj[key]=this.cloneArray(obj[key]):retObj[key]=obj[key];return retObj},cloneArray:arr=>arr.slice(0),degToRad:deg=>deg*PI_OVER_DEG180,radToDeg:rad=>rad*DEG180_OVER_PI,_degToRad:deg=>(exports.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),exports.Util.degToRad(deg)),_radToDeg:rad=>(exports.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),exports.Util.radToDeg(rad)),_getRotation:radians=>Global_1.Konva.angleDeg?exports.Util.radToDeg(radians):radians,_capitalize:str=>str.charAt(0).toUpperCase()+str.slice(1),throw(str){throw new Error("Konva error: "+str)},error(str){console.error("Konva error: "+str)},warn(str){Global_1.Konva.showWarnings&&console.warn("Konva warning: "+str)},each(obj,func){for(const key in obj)func(key,obj[key])},_inRange:(val,left,right)=>left<=val&&val<right,_getProjectionToSegment(x1,y1,x2,y2,x3,y3){let x,y,dist;const pd2=(x1-x2)*(x1-x2)+(y1-y2)*(y1-y2);if(0==pd2)x=x1,y=y1,dist=(x3-x2)*(x3-x2)+(y3-y2)*(y3-y2);else{const u=((x3-x1)*(x2-x1)+(y3-y1)*(y2-y1))/pd2;u<0?(x=x1,y=y1,dist=(x1-x3)*(x1-x3)+(y1-y3)*(y1-y3)):u>1?(x=x2,y=y2,dist=(x2-x3)*(x2-x3)+(y2-y3)*(y2-y3)):(x=x1+u*(x2-x1),y=y1+u*(y2-y1),dist=(x-x3)*(x-x3)+(y-y3)*(y-y3))}return[x,y,dist]},_getProjectionToLine(pt,line,isClosed){const pc=exports.Util.cloneObject(pt);let dist=Number.MAX_VALUE;return line.forEach((function(p1,i){if(!isClosed&&i===line.length-1)return;const p2=line[(i+1)%line.length],proj=exports.Util._getProjectionToSegment(p1.x,p1.y,p2.x,p2.y,pt.x,pt.y),px=proj[0],py=proj[1],pdist=proj[2];pdist<dist&&(pc.x=px,pc.y=py,dist=pdist)})),pc},_prepareArrayForTween(startArray,endArray,isClosed){let n,start=[],end=[];if(startArray.length>endArray.length){const temp=endArray;endArray=startArray,startArray=temp}for(n=0;n<startArray.length;n+=2)start.push({x:startArray[n],y:startArray[n+1]});for(n=0;n<endArray.length;n+=2)end.push({x:endArray[n],y:endArray[n+1]});const newStart=[];return end.forEach((function(point){const pr=exports.Util._getProjectionToLine(point,start,isClosed);newStart.push(pr.x),newStart.push(pr.y)})),newStart},_prepareToStringify(obj){let desc;obj.visitedByCircularReferenceRemoval=!0;for(const key in obj)if(obj.hasOwnProperty(key)&&obj[key]&&"object"==typeof obj[key])if(desc=Object.getOwnPropertyDescriptor(obj,key),obj[key].visitedByCircularReferenceRemoval||exports.Util._isElement(obj[key])){if(!desc.configurable)return null;delete obj[key]}else if(null===exports.Util._prepareToStringify(obj[key])){if(!desc.configurable)return null;delete obj[key]}return delete obj.visitedByCircularReferenceRemoval,obj},_assign(target,source){for(const key in source)target[key]=source[key];return target},_getFirstPointerId:evt=>evt.touches?evt.changedTouches[0].identifier:evt.pointerId||999,releaseCanvas(...canvases){Global_1.Konva.releaseCanvasOnDestroy&&canvases.forEach((c=>{c.width=0,c.height=0}))},drawRoundedRectPath(context,width,height,cornerRadius){let topLeft=0,topRight=0,bottomLeft=0,bottomRight=0;"number"==typeof cornerRadius?topLeft=topRight=bottomLeft=bottomRight=Math.min(cornerRadius,width/2,height/2):(topLeft=Math.min(cornerRadius[0]||0,width/2,height/2),topRight=Math.min(cornerRadius[1]||0,width/2,height/2),bottomRight=Math.min(cornerRadius[2]||0,width/2,height/2),bottomLeft=Math.min(cornerRadius[3]||0,width/2,height/2)),context.moveTo(topLeft,0),context.lineTo(width-topRight,0),context.arc(width-topRight,topRight,topRight,3*Math.PI/2,0,!1),context.lineTo(width,height-bottomRight),context.arc(width-bottomRight,height-bottomRight,bottomRight,0,Math.PI/2,!1),context.lineTo(bottomLeft,height),context.arc(bottomLeft,height-bottomLeft,bottomLeft,Math.PI/2,Math.PI,!1),context.lineTo(0,topLeft),context.arc(topLeft,topLeft,topLeft,Math.PI,3*Math.PI/2,!1)}}},"./node_modules/konva/lib/Validators.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RGBComponent=function RGBComponent(val){if(val>255)return 255;if(val<0)return 0;return Math.round(val)},exports.alphaComponent=function alphaComponent(val){if(val>1)return 1;if(val<1e-4)return 1e-4;return val},exports.getNumberValidator=function getNumberValidator(){if(Global_1.Konva.isUnminified)return function(val,attr){return Util_1.Util._isNumber(val)||Util_1.Util.warn(_formatValue(val)+' is a not valid value for "'+attr+'" attribute. The value should be a number.'),val}},exports.getNumberOrArrayOfNumbersValidator=function getNumberOrArrayOfNumbersValidator(noOfElements){if(Global_1.Konva.isUnminified)return function(val,attr){const isNumber=Util_1.Util._isNumber(val),isValidArray=Util_1.Util._isArray(val)&&val.length==noOfElements;return isNumber||isValidArray||Util_1.Util.warn(_formatValue(val)+' is a not valid value for "'+attr+'" attribute. The value should be a number or Array<number>('+noOfElements+")"),val}},exports.getNumberOrAutoValidator=function getNumberOrAutoValidator(){if(Global_1.Konva.isUnminified)return function(val,attr){return Util_1.Util._isNumber(val)||"auto"===val||Util_1.Util.warn(_formatValue(val)+' is a not valid value for "'+attr+'" attribute. The value should be a number or "auto".'),val}},exports.getStringValidator=function getStringValidator(){if(Global_1.Konva.isUnminified)return function(val,attr){return Util_1.Util._isString(val)||Util_1.Util.warn(_formatValue(val)+' is a not valid value for "'+attr+'" attribute. The value should be a string.'),val}},exports.getStringOrGradientValidator=function getStringOrGradientValidator(){if(Global_1.Konva.isUnminified)return function(val,attr){const isString=Util_1.Util._isString(val),isGradient="[object CanvasGradient]"===Object.prototype.toString.call(val)||val&&val.addColorStop;return isString||isGradient||Util_1.Util.warn(_formatValue(val)+' is a not valid value for "'+attr+'" attribute. The value should be a string or a native gradient.'),val}},exports.getFunctionValidator=function getFunctionValidator(){if(Global_1.Konva.isUnminified)return function(val,attr){return Util_1.Util._isFunction(val)||Util_1.Util.warn(_formatValue(val)+' is a not valid value for "'+attr+'" attribute. The value should be a function.'),val}},exports.getNumberArrayValidator=function getNumberArrayValidator(){if(Global_1.Konva.isUnminified)return function(val,attr){const TypedArray=Int8Array?Object.getPrototypeOf(Int8Array):null;return TypedArray&&val instanceof TypedArray||(Util_1.Util._isArray(val)?val.forEach((function(item){Util_1.Util._isNumber(item)||Util_1.Util.warn('"'+attr+'" attribute has non numeric element '+item+". Make sure that all elements are numbers.")})):Util_1.Util.warn(_formatValue(val)+' is a not valid value for "'+attr+'" attribute. The value should be a array of numbers.')),val}},exports.getBooleanValidator=function getBooleanValidator(){if(Global_1.Konva.isUnminified)return function(val,attr){return!0===val||!1===val||Util_1.Util.warn(_formatValue(val)+' is a not valid value for "'+attr+'" attribute. The value should be a boolean.'),val}},exports.getComponentValidator=function getComponentValidator(components){if(Global_1.Konva.isUnminified)return function(val,attr){return null==val||Util_1.Util.isObject(val)||Util_1.Util.warn(_formatValue(val)+' is a not valid value for "'+attr+'" attribute. The value should be an object with properties '+components),val}};const Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Util_1=__webpack_require__("./node_modules/konva/lib/Util.js");function _formatValue(val){return Util_1.Util._isString(val)?'"'+val+'"':"[object Number]"===Object.prototype.toString.call(val)||Util_1.Util._isBoolean(val)?val:Object.prototype.toString.call(val)}},"./node_modules/konva/lib/_CoreInternals.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Konva=void 0;const Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Container_1=__webpack_require__("./node_modules/konva/lib/Container.js"),Stage_1=__webpack_require__("./node_modules/konva/lib/Stage.js"),Layer_1=__webpack_require__("./node_modules/konva/lib/Layer.js"),FastLayer_1=__webpack_require__("./node_modules/konva/lib/FastLayer.js"),Group_1=__webpack_require__("./node_modules/konva/lib/Group.js"),DragAndDrop_1=__webpack_require__("./node_modules/konva/lib/DragAndDrop.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Animation_1=__webpack_require__("./node_modules/konva/lib/Animation.js"),Tween_1=__webpack_require__("./node_modules/konva/lib/Tween.js"),Context_1=__webpack_require__("./node_modules/konva/lib/Context.js"),Canvas_1=__webpack_require__("./node_modules/konva/lib/Canvas.js");exports.Konva=Util_1.Util._assign(Global_1.Konva,{Util:Util_1.Util,Transform:Util_1.Transform,Node:Node_1.Node,Container:Container_1.Container,Stage:Stage_1.Stage,stages:Stage_1.stages,Layer:Layer_1.Layer,FastLayer:FastLayer_1.FastLayer,Group:Group_1.Group,DD:DragAndDrop_1.DD,Shape:Shape_1.Shape,shapes:Shape_1.shapes,Animation:Animation_1.Animation,Tween:Tween_1.Tween,Easings:Tween_1.Easings,Context:Context_1.Context,Canvas:Canvas_1.Canvas}),exports.default=exports.Konva},"./node_modules/konva/lib/_FullInternals.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Konva=void 0;const _CoreInternals_1=__webpack_require__("./node_modules/konva/lib/_CoreInternals.js"),Arc_1=__webpack_require__("./node_modules/konva/lib/shapes/Arc.js"),Arrow_1=__webpack_require__("./node_modules/konva/lib/shapes/Arrow.js"),Circle_1=__webpack_require__("./node_modules/konva/lib/shapes/Circle.js"),Ellipse_1=__webpack_require__("./node_modules/konva/lib/shapes/Ellipse.js"),Image_1=__webpack_require__("./node_modules/konva/lib/shapes/Image.js"),Label_1=__webpack_require__("./node_modules/konva/lib/shapes/Label.js"),Line_1=__webpack_require__("./node_modules/konva/lib/shapes/Line.js"),Path_1=__webpack_require__("./node_modules/konva/lib/shapes/Path.js"),Rect_1=__webpack_require__("./node_modules/konva/lib/shapes/Rect.js"),RegularPolygon_1=__webpack_require__("./node_modules/konva/lib/shapes/RegularPolygon.js"),Ring_1=__webpack_require__("./node_modules/konva/lib/shapes/Ring.js"),Sprite_1=__webpack_require__("./node_modules/konva/lib/shapes/Sprite.js"),Star_1=__webpack_require__("./node_modules/konva/lib/shapes/Star.js"),Text_1=__webpack_require__("./node_modules/konva/lib/shapes/Text.js"),TextPath_1=__webpack_require__("./node_modules/konva/lib/shapes/TextPath.js"),Transformer_1=__webpack_require__("./node_modules/konva/lib/shapes/Transformer.js"),Wedge_1=__webpack_require__("./node_modules/konva/lib/shapes/Wedge.js"),Blur_1=__webpack_require__("./node_modules/konva/lib/filters/Blur.js"),Brighten_1=__webpack_require__("./node_modules/konva/lib/filters/Brighten.js"),Contrast_1=__webpack_require__("./node_modules/konva/lib/filters/Contrast.js"),Emboss_1=__webpack_require__("./node_modules/konva/lib/filters/Emboss.js"),Enhance_1=__webpack_require__("./node_modules/konva/lib/filters/Enhance.js"),Grayscale_1=__webpack_require__("./node_modules/konva/lib/filters/Grayscale.js"),HSL_1=__webpack_require__("./node_modules/konva/lib/filters/HSL.js"),HSV_1=__webpack_require__("./node_modules/konva/lib/filters/HSV.js"),Invert_1=__webpack_require__("./node_modules/konva/lib/filters/Invert.js"),Kaleidoscope_1=__webpack_require__("./node_modules/konva/lib/filters/Kaleidoscope.js"),Mask_1=__webpack_require__("./node_modules/konva/lib/filters/Mask.js"),Noise_1=__webpack_require__("./node_modules/konva/lib/filters/Noise.js"),Pixelate_1=__webpack_require__("./node_modules/konva/lib/filters/Pixelate.js"),Posterize_1=__webpack_require__("./node_modules/konva/lib/filters/Posterize.js"),RGB_1=__webpack_require__("./node_modules/konva/lib/filters/RGB.js"),RGBA_1=__webpack_require__("./node_modules/konva/lib/filters/RGBA.js"),Sepia_1=__webpack_require__("./node_modules/konva/lib/filters/Sepia.js"),Solarize_1=__webpack_require__("./node_modules/konva/lib/filters/Solarize.js"),Threshold_1=__webpack_require__("./node_modules/konva/lib/filters/Threshold.js");exports.Konva=_CoreInternals_1.Konva.Util._assign(_CoreInternals_1.Konva,{Arc:Arc_1.Arc,Arrow:Arrow_1.Arrow,Circle:Circle_1.Circle,Ellipse:Ellipse_1.Ellipse,Image:Image_1.Image,Label:Label_1.Label,Tag:Label_1.Tag,Line:Line_1.Line,Path:Path_1.Path,Rect:Rect_1.Rect,RegularPolygon:RegularPolygon_1.RegularPolygon,Ring:Ring_1.Ring,Sprite:Sprite_1.Sprite,Star:Star_1.Star,Text:Text_1.Text,TextPath:TextPath_1.TextPath,Transformer:Transformer_1.Transformer,Wedge:Wedge_1.Wedge,Filters:{Blur:Blur_1.Blur,Brighten:Brighten_1.Brighten,Contrast:Contrast_1.Contrast,Emboss:Emboss_1.Emboss,Enhance:Enhance_1.Enhance,Grayscale:Grayscale_1.Grayscale,HSL:HSL_1.HSL,HSV:HSV_1.HSV,Invert:Invert_1.Invert,Kaleidoscope:Kaleidoscope_1.Kaleidoscope,Mask:Mask_1.Mask,Noise:Noise_1.Noise,Pixelate:Pixelate_1.Pixelate,Posterize:Posterize_1.Posterize,RGB:RGB_1.RGB,RGBA:RGBA_1.RGBA,Sepia:Sepia_1.Sepia,Solarize:Solarize_1.Solarize,Threshold:Threshold_1.Threshold}})},"./node_modules/konva/lib/filters/Blur.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Blur=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];exports.Blur=function Blur(imageData){const radius=Math.round(this.blurRadius());radius>0&&function filterGaussBlurRGBA(imageData,radius){const pixels=imageData.data,width=imageData.width,height=imageData.height;let x,y,i,p,yp,yi,yw,r_sum,g_sum,b_sum,a_sum,r_out_sum,g_out_sum,b_out_sum,a_out_sum,r_in_sum,g_in_sum,b_in_sum,a_in_sum,pr,pg,pb,pa,rbs,div=radius+radius+1,widthMinus1=width-1,heightMinus1=height-1,radiusPlus1=radius+1,sumFactor=radiusPlus1*(radiusPlus1+1)/2,stackStart=new BlurStack,stackEnd=null,stack=stackStart,stackIn=null,stackOut=null,mul_sum=mul_table[radius],shg_sum=shg_table[radius];for(i=1;i<div;i++)stack=stack.next=new BlurStack,i===radiusPlus1&&(stackEnd=stack);for(stack.next=stackStart,yw=yi=0,y=0;y<height;y++){for(r_in_sum=g_in_sum=b_in_sum=a_in_sum=r_sum=g_sum=b_sum=a_sum=0,r_out_sum=radiusPlus1*(pr=pixels[yi]),g_out_sum=radiusPlus1*(pg=pixels[yi+1]),b_out_sum=radiusPlus1*(pb=pixels[yi+2]),a_out_sum=radiusPlus1*(pa=pixels[yi+3]),r_sum+=sumFactor*pr,g_sum+=sumFactor*pg,b_sum+=sumFactor*pb,a_sum+=sumFactor*pa,stack=stackStart,i=0;i<radiusPlus1;i++)stack.r=pr,stack.g=pg,stack.b=pb,stack.a=pa,stack=stack.next;for(i=1;i<radiusPlus1;i++)p=yi+((widthMinus1<i?widthMinus1:i)<<2),r_sum+=(stack.r=pr=pixels[p])*(rbs=radiusPlus1-i),g_sum+=(stack.g=pg=pixels[p+1])*rbs,b_sum+=(stack.b=pb=pixels[p+2])*rbs,a_sum+=(stack.a=pa=pixels[p+3])*rbs,r_in_sum+=pr,g_in_sum+=pg,b_in_sum+=pb,a_in_sum+=pa,stack=stack.next;for(stackIn=stackStart,stackOut=stackEnd,x=0;x<width;x++)pixels[yi+3]=pa=a_sum*mul_sum>>shg_sum,0!==pa?(pa=255/pa,pixels[yi]=(r_sum*mul_sum>>shg_sum)*pa,pixels[yi+1]=(g_sum*mul_sum>>shg_sum)*pa,pixels[yi+2]=(b_sum*mul_sum>>shg_sum)*pa):pixels[yi]=pixels[yi+1]=pixels[yi+2]=0,r_sum-=r_out_sum,g_sum-=g_out_sum,b_sum-=b_out_sum,a_sum-=a_out_sum,r_out_sum-=stackIn.r,g_out_sum-=stackIn.g,b_out_sum-=stackIn.b,a_out_sum-=stackIn.a,p=yw+((p=x+radius+1)<widthMinus1?p:widthMinus1)<<2,r_in_sum+=stackIn.r=pixels[p],g_in_sum+=stackIn.g=pixels[p+1],b_in_sum+=stackIn.b=pixels[p+2],a_in_sum+=stackIn.a=pixels[p+3],r_sum+=r_in_sum,g_sum+=g_in_sum,b_sum+=b_in_sum,a_sum+=a_in_sum,stackIn=stackIn.next,r_out_sum+=pr=stackOut.r,g_out_sum+=pg=stackOut.g,b_out_sum+=pb=stackOut.b,a_out_sum+=pa=stackOut.a,r_in_sum-=pr,g_in_sum-=pg,b_in_sum-=pb,a_in_sum-=pa,stackOut=stackOut.next,yi+=4;yw+=width}for(x=0;x<width;x++){for(g_in_sum=b_in_sum=a_in_sum=r_in_sum=g_sum=b_sum=a_sum=r_sum=0,yi=x<<2,r_out_sum=radiusPlus1*(pr=pixels[yi]),g_out_sum=radiusPlus1*(pg=pixels[yi+1]),b_out_sum=radiusPlus1*(pb=pixels[yi+2]),a_out_sum=radiusPlus1*(pa=pixels[yi+3]),r_sum+=sumFactor*pr,g_sum+=sumFactor*pg,b_sum+=sumFactor*pb,a_sum+=sumFactor*pa,stack=stackStart,i=0;i<radiusPlus1;i++)stack.r=pr,stack.g=pg,stack.b=pb,stack.a=pa,stack=stack.next;for(yp=width,i=1;i<=radius;i++)yi=yp+x<<2,r_sum+=(stack.r=pr=pixels[yi])*(rbs=radiusPlus1-i),g_sum+=(stack.g=pg=pixels[yi+1])*rbs,b_sum+=(stack.b=pb=pixels[yi+2])*rbs,a_sum+=(stack.a=pa=pixels[yi+3])*rbs,r_in_sum+=pr,g_in_sum+=pg,b_in_sum+=pb,a_in_sum+=pa,stack=stack.next,i<heightMinus1&&(yp+=width);for(yi=x,stackIn=stackStart,stackOut=stackEnd,y=0;y<height;y++)p=yi<<2,pixels[p+3]=pa=a_sum*mul_sum>>shg_sum,pa>0?(pa=255/pa,pixels[p]=(r_sum*mul_sum>>shg_sum)*pa,pixels[p+1]=(g_sum*mul_sum>>shg_sum)*pa,pixels[p+2]=(b_sum*mul_sum>>shg_sum)*pa):pixels[p]=pixels[p+1]=pixels[p+2]=0,r_sum-=r_out_sum,g_sum-=g_out_sum,b_sum-=b_out_sum,a_sum-=a_out_sum,r_out_sum-=stackIn.r,g_out_sum-=stackIn.g,b_out_sum-=stackIn.b,a_out_sum-=stackIn.a,p=x+((p=y+radiusPlus1)<heightMinus1?p:heightMinus1)*width<<2,r_sum+=r_in_sum+=stackIn.r=pixels[p],g_sum+=g_in_sum+=stackIn.g=pixels[p+1],b_sum+=b_in_sum+=stackIn.b=pixels[p+2],a_sum+=a_in_sum+=stackIn.a=pixels[p+3],stackIn=stackIn.next,r_out_sum+=pr=stackOut.r,g_out_sum+=pg=stackOut.g,b_out_sum+=pb=stackOut.b,a_out_sum+=pa=stackOut.a,r_in_sum-=pr,g_in_sum-=pg,b_in_sum-=pb,a_in_sum-=pa,stackOut=stackOut.next,yi+=width}}(imageData,radius)},Factory_1.Factory.addGetterSetter(Node_1.Node,"blurRadius",0,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/filters/Brighten.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Brighten=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");exports.Brighten=function(imageData){let i,brightness=255*this.brightness(),data=imageData.data,len=data.length;for(i=0;i<len;i+=4)data[i]+=brightness,data[i+1]+=brightness,data[i+2]+=brightness},Factory_1.Factory.addGetterSetter(Node_1.Node,"brightness",0,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/filters/Contrast.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Contrast=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");exports.Contrast=function(imageData){const adjust=Math.pow((this.contrast()+100)/100,2);let i,data=imageData.data,nPixels=data.length,red=150,green=150,blue=150;for(i=0;i<nPixels;i+=4)red=data[i],green=data[i+1],blue=data[i+2],red/=255,red-=.5,red*=adjust,red+=.5,red*=255,green/=255,green-=.5,green*=adjust,green+=.5,green*=255,blue/=255,blue-=.5,blue*=adjust,blue+=.5,blue*=255,red=red<0?0:red>255?255:red,green=green<0?0:green>255?255:green,blue=blue<0?0:blue>255?255:blue,data[i]=red,data[i+1]=green,data[i+2]=blue},Factory_1.Factory.addGetterSetter(Node_1.Node,"contrast",0,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/filters/Emboss.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Emboss=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");exports.Emboss=function(imageData){let strength=10*this.embossStrength(),greyLevel=255*this.embossWhiteLevel(),direction=this.embossDirection(),blend=this.embossBlend(),dirY=0,dirX=0,data=imageData.data,w=imageData.width,h=imageData.height,w4=4*w,y=h;switch(direction){case"top-left":dirY=-1,dirX=-1;break;case"top":dirY=-1,dirX=0;break;case"top-right":dirY=-1,dirX=1;break;case"right":dirY=0,dirX=1;break;case"bottom-right":dirY=1,dirX=1;break;case"bottom":dirY=1,dirX=0;break;case"bottom-left":dirY=1,dirX=-1;break;case"left":dirY=0,dirX=-1;break;default:Util_1.Util.error("Unknown emboss direction: "+direction)}do{const offsetY=(y-1)*w4;let otherY=dirY;y+otherY<1&&(otherY=0),y+otherY>h&&(otherY=0);const offsetYOther=(y-1+otherY)*w*4;let x=w;do{const offset=offsetY+4*(x-1);let otherX=dirX;x+otherX<1&&(otherX=0),x+otherX>w&&(otherX=0);const offsetOther=offsetYOther+4*(x-1+otherX),dR=data[offset]-data[offsetOther],dG=data[offset+1]-data[offsetOther+1],dB=data[offset+2]-data[offsetOther+2];let dif=dR;const absDif=dif>0?dif:-dif;if((dG>0?dG:-dG)>absDif&&(dif=dG),(dB>0?dB:-dB)>absDif&&(dif=dB),dif*=strength,blend){const r=data[offset]+dif,g=data[offset+1]+dif,b=data[offset+2]+dif;data[offset]=r>255?255:r<0?0:r,data[offset+1]=g>255?255:g<0?0:g,data[offset+2]=b>255?255:b<0?0:b}else{let grey=greyLevel-dif;grey<0?grey=0:grey>255&&(grey=255),data[offset]=data[offset+1]=data[offset+2]=grey}}while(--x)}while(--y)},Factory_1.Factory.addGetterSetter(Node_1.Node,"embossStrength",.5,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter),Factory_1.Factory.addGetterSetter(Node_1.Node,"embossWhiteLevel",.5,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter),Factory_1.Factory.addGetterSetter(Node_1.Node,"embossDirection","top-left",null,Factory_1.Factory.afterSetFilter),Factory_1.Factory.addGetterSetter(Node_1.Node,"embossBlend",!1,null,Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/filters/Enhance.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Enhance=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");function remap(fromValue,fromMin,fromMax,toMin,toMax){let toValue,fromRange=fromMax-fromMin,toRange=toMax-toMin;return 0===fromRange?toMin+toRange/2:0===toRange?toMin:(toValue=(fromValue-fromMin)/fromRange,toValue=toRange*toValue+toMin,toValue)}exports.Enhance=function(imageData){let r,g,b,i,data=imageData.data,nSubPixels=data.length,rMin=data[0],rMax=rMin,gMin=data[1],gMax=gMin,bMin=data[2],bMax=bMin;const enhanceAmount=this.enhance();if(0===enhanceAmount)return;for(i=0;i<nSubPixels;i+=4)r=data[i+0],r<rMin?rMin=r:r>rMax&&(rMax=r),g=data[i+1],g<gMin?gMin=g:g>gMax&&(gMax=g),b=data[i+2],b<bMin?bMin=b:b>bMax&&(bMax=b);let rMid,rGoalMax,rGoalMin,gMid,gGoalMax,gGoalMin,bMid,bGoalMax,bGoalMin;for(rMax===rMin&&(rMax=255,rMin=0),gMax===gMin&&(gMax=255,gMin=0),bMax===bMin&&(bMax=255,bMin=0),enhanceAmount>0?(rGoalMax=rMax+enhanceAmount*(255-rMax),rGoalMin=rMin-enhanceAmount*(rMin-0),gGoalMax=gMax+enhanceAmount*(255-gMax),gGoalMin=gMin-enhanceAmount*(gMin-0),bGoalMax=bMax+enhanceAmount*(255-bMax),bGoalMin=bMin-enhanceAmount*(bMin-0)):(rMid=.5*(rMax+rMin),rGoalMax=rMax+enhanceAmount*(rMax-rMid),rGoalMin=rMin+enhanceAmount*(rMin-rMid),gMid=.5*(gMax+gMin),gGoalMax=gMax+enhanceAmount*(gMax-gMid),gGoalMin=gMin+enhanceAmount*(gMin-gMid),bMid=.5*(bMax+bMin),bGoalMax=bMax+enhanceAmount*(bMax-bMid),bGoalMin=bMin+enhanceAmount*(bMin-bMid)),i=0;i<nSubPixels;i+=4)data[i+0]=remap(data[i+0],rMin,rMax,rGoalMin,rGoalMax),data[i+1]=remap(data[i+1],gMin,gMax,gGoalMin,gGoalMax),data[i+2]=remap(data[i+2],bMin,bMax,bGoalMin,bGoalMax)},Factory_1.Factory.addGetterSetter(Node_1.Node,"enhance",0,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/filters/Grayscale.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Grayscale=void 0;exports.Grayscale=function(imageData){let i,brightness,data=imageData.data,len=data.length;for(i=0;i<len;i+=4)brightness=.34*data[i]+.5*data[i+1]+.16*data[i+2],data[i]=brightness,data[i+1]=brightness,data[i+2]=brightness}},"./node_modules/konva/lib/filters/HSL.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HSL=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");Factory_1.Factory.addGetterSetter(Node_1.Node,"hue",0,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter),Factory_1.Factory.addGetterSetter(Node_1.Node,"saturation",0,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter),Factory_1.Factory.addGetterSetter(Node_1.Node,"luminance",0,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter);exports.HSL=function(imageData){let i,data=imageData.data,nPixels=data.length,s=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,l=127*this.luminance();const vsu=1*s*Math.cos(h*Math.PI/180),vsw=1*s*Math.sin(h*Math.PI/180),rr=.299+.701*vsu+.167*vsw,rg=.587-.587*vsu+.33*vsw,rb=.114-.114*vsu-.497*vsw,gr=.299-.299*vsu-.328*vsw,gg=.587+.413*vsu+.035*vsw,gb=.114-.114*vsu+.293*vsw,br=.299-.3*vsu+1.25*vsw,bg=.587-.586*vsu-1.05*vsw,bb=.114+.886*vsu-.2*vsw;let r,g,b,a;for(i=0;i<nPixels;i+=4)r=data[i+0],g=data[i+1],b=data[i+2],a=data[i+3],data[i+0]=rr*r+rg*g+rb*b+l,data[i+1]=gr*r+gg*g+gb*b+l,data[i+2]=br*r+bg*g+bb*b+l,data[i+3]=a}},"./node_modules/konva/lib/filters/HSV.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HSV=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");exports.HSV=function(imageData){const data=imageData.data,nPixels=data.length,v=Math.pow(2,this.value()),s=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,vsu=v*s*Math.cos(h*Math.PI/180),vsw=v*s*Math.sin(h*Math.PI/180),rr=.299*v+.701*vsu+.167*vsw,rg=.587*v-.587*vsu+.33*vsw,rb=.114*v-.114*vsu-.497*vsw,gr=.299*v-.299*vsu-.328*vsw,gg=.587*v+.413*vsu+.035*vsw,gb=.114*v-.114*vsu+.293*vsw,br=.299*v-.3*vsu+1.25*vsw,bg=.587*v-.586*vsu-1.05*vsw,bb=.114*v+.886*vsu-.2*vsw;let r,g,b,a;for(let i=0;i<nPixels;i+=4)r=data[i+0],g=data[i+1],b=data[i+2],a=data[i+3],data[i+0]=rr*r+rg*g+rb*b,data[i+1]=gr*r+gg*g+gb*b,data[i+2]=br*r+bg*g+bb*b,data[i+3]=a},Factory_1.Factory.addGetterSetter(Node_1.Node,"hue",0,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter),Factory_1.Factory.addGetterSetter(Node_1.Node,"saturation",0,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter),Factory_1.Factory.addGetterSetter(Node_1.Node,"value",0,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/filters/Invert.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Invert=void 0;exports.Invert=function(imageData){let i,data=imageData.data,len=data.length;for(i=0;i<len;i+=4)data[i]=255-data[i],data[i+1]=255-data[i+1],data[i+2]=255-data[i+2]}},"./node_modules/konva/lib/filters/Kaleidoscope.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Kaleidoscope=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");exports.Kaleidoscope=function(imageData){const xSize=imageData.width,ySize=imageData.height;let x,y,xoff,i,r,g,b,a,srcPos,dstPos,power=Math.round(this.kaleidoscopePower());const angle=Math.round(this.kaleidoscopeAngle()),offset=Math.floor(xSize*(angle%360)/360);if(power<1)return;const tempCanvas=Util_1.Util.createCanvasElement();tempCanvas.width=xSize,tempCanvas.height=ySize;const scratchData=tempCanvas.getContext("2d").getImageData(0,0,xSize,ySize);Util_1.Util.releaseCanvas(tempCanvas),function(src,dst,opt){let i,x,y,rad,srcPixels=src.data,dstPixels=dst.data,xSize=src.width,ySize=src.height,xMid=opt.polarCenterX||xSize/2,yMid=opt.polarCenterY||ySize/2,r=0,g=0,b=0,a=0,rMax=Math.sqrt(xMid*xMid+yMid*yMid);x=xSize-xMid,y=ySize-yMid,rad=Math.sqrt(x*x+y*y),rMax=rad>rMax?rad:rMax;let radius,theta,sin,cos,rSize=ySize,tSize=xSize,conversion=360/tSize*Math.PI/180;for(theta=0;theta<tSize;theta+=1)for(sin=Math.sin(theta*conversion),cos=Math.cos(theta*conversion),radius=0;radius<rSize;radius+=1)x=Math.floor(xMid+rMax*radius/rSize*cos),y=Math.floor(yMid+rMax*radius/rSize*sin),i=4*(y*xSize+x),r=srcPixels[i+0],g=srcPixels[i+1],b=srcPixels[i+2],a=srcPixels[i+3],i=4*(theta+radius*xSize),dstPixels[i+0]=r,dstPixels[i+1]=g,dstPixels[i+2]=b,dstPixels[i+3]=a}(imageData,scratchData,{polarCenterX:xSize/2,polarCenterY:ySize/2});let minSectionSize=xSize/Math.pow(2,power);for(;minSectionSize<=8;)minSectionSize*=2,power-=1;minSectionSize=Math.ceil(minSectionSize);let sectionSize=minSectionSize,xStart=0,xEnd=sectionSize,xDelta=1;for(offset+minSectionSize>xSize&&(xStart=sectionSize,xEnd=0,xDelta=-1),y=0;y<ySize;y+=1)for(x=xStart;x!==xEnd;x+=xDelta)xoff=Math.round(x+offset)%xSize,srcPos=4*(xSize*y+xoff),r=scratchData.data[srcPos+0],g=scratchData.data[srcPos+1],b=scratchData.data[srcPos+2],a=scratchData.data[srcPos+3],dstPos=4*(xSize*y+x),scratchData.data[dstPos+0]=r,scratchData.data[dstPos+1]=g,scratchData.data[dstPos+2]=b,scratchData.data[dstPos+3]=a;for(y=0;y<ySize;y+=1)for(sectionSize=Math.floor(minSectionSize),i=0;i<power;i+=1){for(x=0;x<sectionSize+1;x+=1)srcPos=4*(xSize*y+x),r=scratchData.data[srcPos+0],g=scratchData.data[srcPos+1],b=scratchData.data[srcPos+2],a=scratchData.data[srcPos+3],dstPos=4*(xSize*y+2*sectionSize-x-1),scratchData.data[dstPos+0]=r,scratchData.data[dstPos+1]=g,scratchData.data[dstPos+2]=b,scratchData.data[dstPos+3]=a;sectionSize*=2}!function(src,dst,opt){let i,x,y,dx,dy,rad,srcPixels=src.data,dstPixels=dst.data,xSize=src.width,ySize=src.height,xMid=opt.polarCenterX||xSize/2,yMid=opt.polarCenterY||ySize/2,r=0,g=0,b=0,a=0,rMax=Math.sqrt(xMid*xMid+yMid*yMid);x=xSize-xMid,y=ySize-yMid,rad=Math.sqrt(x*x+y*y),rMax=rad>rMax?rad:rMax;let radius,theta,x1,y1,rSize=ySize,tSize=xSize,phaseShift=opt.polarRotation||0;for(x=0;x<xSize;x+=1)for(y=0;y<ySize;y+=1)dx=x-xMid,dy=y-yMid,radius=Math.sqrt(dx*dx+dy*dy)*rSize/rMax,theta=(180*Math.atan2(dy,dx)/Math.PI+360+phaseShift)%360,theta=theta*tSize/360,x1=Math.floor(theta),y1=Math.floor(radius),i=4*(y1*xSize+x1),r=srcPixels[i+0],g=srcPixels[i+1],b=srcPixels[i+2],a=srcPixels[i+3],i=4*(y*xSize+x),dstPixels[i+0]=r,dstPixels[i+1]=g,dstPixels[i+2]=b,dstPixels[i+3]=a}(scratchData,imageData,{polarRotation:0})},Factory_1.Factory.addGetterSetter(Node_1.Node,"kaleidoscopePower",2,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter),Factory_1.Factory.addGetterSetter(Node_1.Node,"kaleidoscopeAngle",0,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/filters/Mask.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Mask=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");function pixelAt(idata,x,y){let idx=4*(y*idata.width+x);const d=[];return d.push(idata.data[idx++],idata.data[idx++],idata.data[idx++],idata.data[idx++]),d}function rgbDistance(p1,p2){return Math.sqrt(Math.pow(p1[0]-p2[0],2)+Math.pow(p1[1]-p2[1],2)+Math.pow(p1[2]-p2[2],2))}exports.Mask=function(imageData){let mask=function backgroundMask(idata,threshold){const rgbv_no=pixelAt(idata,0,0),rgbv_ne=pixelAt(idata,idata.width-1,0),rgbv_so=pixelAt(idata,0,idata.height-1),rgbv_se=pixelAt(idata,idata.width-1,idata.height-1),thres=threshold||10;if(rgbDistance(rgbv_no,rgbv_ne)<thres&&rgbDistance(rgbv_ne,rgbv_se)<thres&&rgbDistance(rgbv_se,rgbv_so)<thres&&rgbDistance(rgbv_so,rgbv_no)<thres){const mean=function rgbMean(pTab){const m=[0,0,0];for(let i=0;i<pTab.length;i++)m[0]+=pTab[i][0],m[1]+=pTab[i][1],m[2]+=pTab[i][2];return m[0]/=pTab.length,m[1]/=pTab.length,m[2]/=pTab.length,m}([rgbv_ne,rgbv_no,rgbv_se,rgbv_so]),mask=[];for(let i=0;i<idata.width*idata.height;i++){const d=rgbDistance(mean,[idata.data[4*i],idata.data[4*i+1],idata.data[4*i+2]]);mask[i]=d<thres?0:255}return mask}}(imageData,this.threshold());return mask&&(mask=function erodeMask(mask,sw,sh){const weights=[1,1,1,1,0,1,1,1,1],side=Math.round(Math.sqrt(weights.length)),halfSide=Math.floor(side/2),maskResult=[];for(let y=0;y<sh;y++)for(let x=0;x<sw;x++){const so=y*sw+x;let a=0;for(let cy=0;cy<side;cy++)for(let cx=0;cx<side;cx++){const scy=y+cy-halfSide,scx=x+cx-halfSide;if(scy>=0&&scy<sh&&scx>=0&&scx<sw){const wt=weights[cy*side+cx];a+=mask[scy*sw+scx]*wt}}maskResult[so]=2040===a?255:0}return maskResult}(mask,imageData.width,imageData.height),mask=function dilateMask(mask,sw,sh){const weights=[1,1,1,1,1,1,1,1,1],side=Math.round(Math.sqrt(weights.length)),halfSide=Math.floor(side/2),maskResult=[];for(let y=0;y<sh;y++)for(let x=0;x<sw;x++){const so=y*sw+x;let a=0;for(let cy=0;cy<side;cy++)for(let cx=0;cx<side;cx++){const scy=y+cy-halfSide,scx=x+cx-halfSide;if(scy>=0&&scy<sh&&scx>=0&&scx<sw){const wt=weights[cy*side+cx];a+=mask[scy*sw+scx]*wt}}maskResult[so]=a>=1020?255:0}return maskResult}(mask,imageData.width,imageData.height),mask=function smoothEdgeMask(mask,sw,sh){const weights=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],side=Math.round(Math.sqrt(weights.length)),halfSide=Math.floor(side/2),maskResult=[];for(let y=0;y<sh;y++)for(let x=0;x<sw;x++){const so=y*sw+x;let a=0;for(let cy=0;cy<side;cy++)for(let cx=0;cx<side;cx++){const scy=y+cy-halfSide,scx=x+cx-halfSide;if(scy>=0&&scy<sh&&scx>=0&&scx<sw){const wt=weights[cy*side+cx];a+=mask[scy*sw+scx]*wt}}maskResult[so]=a}return maskResult}(mask,imageData.width,imageData.height),function applyMask(idata,mask){for(let i=0;i<idata.width*idata.height;i++)idata.data[4*i+3]=mask[i]}(imageData,mask)),imageData},Factory_1.Factory.addGetterSetter(Node_1.Node,"threshold",0,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/filters/Noise.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Noise=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");exports.Noise=function(imageData){const amount=255*this.noise(),data=imageData.data,nPixels=data.length,half=amount/2;for(let i=0;i<nPixels;i+=4)data[i+0]+=half-2*half*Math.random(),data[i+1]+=half-2*half*Math.random(),data[i+2]+=half-2*half*Math.random()},Factory_1.Factory.addGetterSetter(Node_1.Node,"noise",.2,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/filters/Pixelate.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Pixelate=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");exports.Pixelate=function(imageData){let x,y,i,red,green,blue,alpha,xBinStart,xBinEnd,yBinStart,yBinEnd,xBin,yBin,pixelsInBin,pixelSize=Math.ceil(this.pixelSize()),width=imageData.width,height=imageData.height,nBinsX=Math.ceil(width/pixelSize),nBinsY=Math.ceil(height/pixelSize),data=imageData.data;if(pixelSize<=0)Util_1.Util.error("pixelSize value can not be <= 0");else for(xBin=0;xBin<nBinsX;xBin+=1)for(yBin=0;yBin<nBinsY;yBin+=1){for(red=0,green=0,blue=0,alpha=0,xBinStart=xBin*pixelSize,xBinEnd=xBinStart+pixelSize,yBinStart=yBin*pixelSize,yBinEnd=yBinStart+pixelSize,pixelsInBin=0,x=xBinStart;x<xBinEnd;x+=1)if(!(x>=width))for(y=yBinStart;y<yBinEnd;y+=1)y>=height||(i=4*(width*y+x),red+=data[i+0],green+=data[i+1],blue+=data[i+2],alpha+=data[i+3],pixelsInBin+=1);for(red/=pixelsInBin,green/=pixelsInBin,blue/=pixelsInBin,alpha/=pixelsInBin,x=xBinStart;x<xBinEnd;x+=1)if(!(x>=width))for(y=yBinStart;y<yBinEnd;y+=1)y>=height||(i=4*(width*y+x),data[i+0]=red,data[i+1]=green,data[i+2]=blue,data[i+3]=alpha)}},Factory_1.Factory.addGetterSetter(Node_1.Node,"pixelSize",8,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/filters/Posterize.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Posterize=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");exports.Posterize=function(imageData){let i,levels=Math.round(254*this.levels())+1,data=imageData.data,len=data.length,scale=255/levels;for(i=0;i<len;i+=1)data[i]=Math.floor(data[i]/scale)*scale},Factory_1.Factory.addGetterSetter(Node_1.Node,"levels",.5,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/filters/RGB.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RGB=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");exports.RGB=function(imageData){let i,brightness,data=imageData.data,nPixels=data.length,red=this.red(),green=this.green(),blue=this.blue();for(i=0;i<nPixels;i+=4)brightness=(.34*data[i]+.5*data[i+1]+.16*data[i+2])/255,data[i]=brightness*red,data[i+1]=brightness*green,data[i+2]=brightness*blue,data[i+3]=data[i+3]},Factory_1.Factory.addGetterSetter(Node_1.Node,"red",0,(function(val){return this._filterUpToDate=!1,val>255?255:val<0?0:Math.round(val)})),Factory_1.Factory.addGetterSetter(Node_1.Node,"green",0,(function(val){return this._filterUpToDate=!1,val>255?255:val<0?0:Math.round(val)})),Factory_1.Factory.addGetterSetter(Node_1.Node,"blue",0,Validators_1.RGBComponent,Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/filters/RGBA.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RGBA=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");exports.RGBA=function(imageData){const data=imageData.data,nPixels=data.length,red=this.red(),green=this.green(),blue=this.blue(),alpha=this.alpha();for(let i=0;i<nPixels;i+=4){const ia=1-alpha;data[i]=red*alpha+data[i]*ia,data[i+1]=green*alpha+data[i+1]*ia,data[i+2]=blue*alpha+data[i+2]*ia}},Factory_1.Factory.addGetterSetter(Node_1.Node,"red",0,(function(val){return this._filterUpToDate=!1,val>255?255:val<0?0:Math.round(val)})),Factory_1.Factory.addGetterSetter(Node_1.Node,"green",0,(function(val){return this._filterUpToDate=!1,val>255?255:val<0?0:Math.round(val)})),Factory_1.Factory.addGetterSetter(Node_1.Node,"blue",0,Validators_1.RGBComponent,Factory_1.Factory.afterSetFilter),Factory_1.Factory.addGetterSetter(Node_1.Node,"alpha",1,(function(val){return this._filterUpToDate=!1,val>1?1:val<0?0:val}))},"./node_modules/konva/lib/filters/Sepia.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sepia=void 0;exports.Sepia=function(imageData){let i,r,g,b,data=imageData.data,nPixels=data.length;for(i=0;i<nPixels;i+=4)r=data[i+0],g=data[i+1],b=data[i+2],data[i+0]=Math.min(255,.393*r+.769*g+.189*b),data[i+1]=Math.min(255,.349*r+.686*g+.168*b),data[i+2]=Math.min(255,.272*r+.534*g+.131*b)}},"./node_modules/konva/lib/filters/Solarize.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Solarize=void 0;exports.Solarize=function(imageData){const data=imageData.data,w=imageData.width,w4=4*w;let y=imageData.height;do{const offsetY=(y-1)*w4;let x=w;do{const offset=offsetY+4*(x-1);let r=data[offset],g=data[offset+1],b=data[offset+2];r>127&&(r=255-r),g>127&&(g=255-g),b>127&&(b=255-b),data[offset]=r,data[offset+1]=g,data[offset+2]=b}while(--x)}while(--y)}},"./node_modules/konva/lib/filters/Threshold.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Threshold=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");exports.Threshold=function(imageData){const level=255*this.threshold(),data=imageData.data,len=data.length;for(let i=0;i<len;i+=1)data[i]=data[i]<level?0:255},Factory_1.Factory.addGetterSetter(Node_1.Node,"threshold",.5,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter)},"./node_modules/konva/lib/index.js":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const _FullInternals_1=__webpack_require__("./node_modules/konva/lib/_FullInternals.js");module.exports=_FullInternals_1.Konva},"./node_modules/konva/lib/shapes/Arc.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Arc=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_2=__webpack_require__("./node_modules/konva/lib/Global.js");class Arc extends Shape_1.Shape{_sceneFunc(context){const angle=Global_1.Konva.getAngle(this.angle()),clockwise=this.clockwise();context.beginPath(),context.arc(0,0,this.outerRadius(),0,angle,clockwise),context.arc(0,0,this.innerRadius(),angle,0,!clockwise),context.closePath(),context.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(width){this.outerRadius(width/2)}setHeight(height){this.outerRadius(height/2)}getSelfRect(){const innerRadius=this.innerRadius(),outerRadius=this.outerRadius(),clockwise=this.clockwise(),angle=Global_1.Konva.getAngle(clockwise?360-this.angle():this.angle()),boundLeftRatio=Math.cos(Math.min(angle,Math.PI)),boundTopRatio=Math.sin(Math.min(Math.max(Math.PI,angle),3*Math.PI/2)),boundBottomRatio=Math.sin(Math.min(angle,Math.PI/2)),boundLeft=boundLeftRatio*(boundLeftRatio>0?innerRadius:outerRadius),boundTop=boundTopRatio*(boundTopRatio>0?innerRadius:outerRadius),boundBottom=boundBottomRatio*(boundBottomRatio>0?outerRadius:innerRadius);return{x:boundLeft,y:clockwise?-1*boundBottom:boundTop,width:1*outerRadius-boundLeft,height:boundBottom-boundTop}}}exports.Arc=Arc,Arc.prototype._centroid=!0,Arc.prototype.className="Arc",Arc.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,Global_2._registerNode)(Arc),Factory_1.Factory.addGetterSetter(Arc,"innerRadius",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Arc,"outerRadius",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Arc,"angle",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Arc,"clockwise",!1,(0,Validators_1.getBooleanValidator)())},"./node_modules/konva/lib/shapes/Arrow.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Arrow=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Line_1=__webpack_require__("./node_modules/konva/lib/shapes/Line.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Path_1=__webpack_require__("./node_modules/konva/lib/shapes/Path.js");class Arrow extends Line_1.Line{_sceneFunc(ctx){super._sceneFunc(ctx);const PI2=2*Math.PI,points=this.points();let tp=points;const fromTension=0!==this.tension()&&points.length>4;fromTension&&(tp=this.getTensionPoints());const length=this.pointerLength(),n=points.length;let dx,dy;if(fromTension){const lp=[tp[tp.length-4],tp[tp.length-3],tp[tp.length-2],tp[tp.length-1],points[n-2],points[n-1]],lastLength=Path_1.Path.calcLength(tp[tp.length-4],tp[tp.length-3],"C",lp),previous=Path_1.Path.getPointOnQuadraticBezier(Math.min(1,1-length/lastLength),lp[0],lp[1],lp[2],lp[3],lp[4],lp[5]);dx=points[n-2]-previous.x,dy=points[n-1]-previous.y}else dx=points[n-2]-points[n-4],dy=points[n-1]-points[n-3];const radians=(Math.atan2(dy,dx)+PI2)%PI2,width=this.pointerWidth();this.pointerAtEnding()&&(ctx.save(),ctx.beginPath(),ctx.translate(points[n-2],points[n-1]),ctx.rotate(radians),ctx.moveTo(0,0),ctx.lineTo(-length,width/2),ctx.lineTo(-length,-width/2),ctx.closePath(),ctx.restore(),this.__fillStroke(ctx)),this.pointerAtBeginning()&&(ctx.save(),ctx.beginPath(),ctx.translate(points[0],points[1]),fromTension?(dx=(tp[0]+tp[2])/2-points[0],dy=(tp[1]+tp[3])/2-points[1]):(dx=points[2]-points[0],dy=points[3]-points[1]),ctx.rotate((Math.atan2(-dy,-dx)+PI2)%PI2),ctx.moveTo(0,0),ctx.lineTo(-length,width/2),ctx.lineTo(-length,-width/2),ctx.closePath(),ctx.restore(),this.__fillStroke(ctx))}__fillStroke(ctx){const isDashEnabled=this.dashEnabled();isDashEnabled&&(this.attrs.dashEnabled=!1,ctx.setLineDash([])),ctx.fillStrokeShape(this),isDashEnabled&&(this.attrs.dashEnabled=!0)}getSelfRect(){const lineRect=super.getSelfRect(),offset=this.pointerWidth()/2;return{x:lineRect.x-offset,y:lineRect.y-offset,width:lineRect.width+2*offset,height:lineRect.height+2*offset}}}exports.Arrow=Arrow,Arrow.prototype.className="Arrow",(0,Global_1._registerNode)(Arrow),Factory_1.Factory.addGetterSetter(Arrow,"pointerLength",10,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Arrow,"pointerWidth",10,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Arrow,"pointerAtBeginning",!1),Factory_1.Factory.addGetterSetter(Arrow,"pointerAtEnding",!0)},"./node_modules/konva/lib/shapes/Circle.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Circle=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js");class Circle extends Shape_1.Shape{_sceneFunc(context){context.beginPath(),context.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),context.closePath(),context.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(width){this.radius()!==width/2&&this.radius(width/2)}setHeight(height){this.radius()!==height/2&&this.radius(height/2)}}exports.Circle=Circle,Circle.prototype._centroid=!0,Circle.prototype.className="Circle",Circle.prototype._attrsAffectingSize=["radius"],(0,Global_1._registerNode)(Circle),Factory_1.Factory.addGetterSetter(Circle,"radius",0,(0,Validators_1.getNumberValidator)())},"./node_modules/konva/lib/shapes/Ellipse.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Ellipse=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js");class Ellipse extends Shape_1.Shape{_sceneFunc(context){const rx=this.radiusX(),ry=this.radiusY();context.beginPath(),context.save(),rx!==ry&&context.scale(1,ry/rx),context.arc(0,0,rx,0,2*Math.PI,!1),context.restore(),context.closePath(),context.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(width){this.radiusX(width/2)}setHeight(height){this.radiusY(height/2)}}exports.Ellipse=Ellipse,Ellipse.prototype.className="Ellipse",Ellipse.prototype._centroid=!0,Ellipse.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,Global_1._registerNode)(Ellipse),Factory_1.Factory.addComponentsGetterSetter(Ellipse,"radius",["x","y"]),Factory_1.Factory.addGetterSetter(Ellipse,"radiusX",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Ellipse,"radiusY",0,(0,Validators_1.getNumberValidator)())},"./node_modules/konva/lib/shapes/Image.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Image=void 0;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");class Image extends Shape_1.Shape{constructor(attrs){super(attrs),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const image=this.image();image&&image.complete||image&&4===image.readyState||image&&image.addEventListener&&image.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){const hasCornerRadius=!!this.cornerRadius(),hasShadow=this.hasShadow();return!(!hasCornerRadius||!hasShadow)||super._useBufferCanvas(!0)}_sceneFunc(context){const width=this.getWidth(),height=this.getHeight(),cornerRadius=this.cornerRadius(),image=this.attrs.image;let params;if(image){const cropWidth=this.attrs.cropWidth,cropHeight=this.attrs.cropHeight;params=cropWidth&&cropHeight?[image,this.cropX(),this.cropY(),cropWidth,cropHeight,0,0,width,height]:[image,0,0,width,height]}(this.hasFill()||this.hasStroke()||cornerRadius)&&(context.beginPath(),cornerRadius?Util_1.Util.drawRoundedRectPath(context,width,height,cornerRadius):context.rect(0,0,width,height),context.closePath(),context.fillStrokeShape(this)),image&&(cornerRadius&&context.clip(),context.drawImage.apply(context,params))}_hitFunc(context){const width=this.width(),height=this.height(),cornerRadius=this.cornerRadius();context.beginPath(),cornerRadius?Util_1.Util.drawRoundedRectPath(context,width,height,cornerRadius):context.rect(0,0,width,height),context.closePath(),context.fillStrokeShape(this)}getWidth(){var _a,_b;return null!==(_a=this.attrs.width)&&void 0!==_a?_a:null===(_b=this.image())||void 0===_b?void 0:_b.width}getHeight(){var _a,_b;return null!==(_a=this.attrs.height)&&void 0!==_a?_a:null===(_b=this.image())||void 0===_b?void 0:_b.height}static fromURL(url,callback,onError=null){const img=Util_1.Util.createImageElement();img.onload=function(){const image=new Image({image:img});callback(image)},img.onerror=onError,img.crossOrigin="Anonymous",img.src=url}}exports.Image=Image,Image.prototype.className="Image",(0,Global_1._registerNode)(Image),Factory_1.Factory.addGetterSetter(Image,"cornerRadius",0,(0,Validators_1.getNumberOrArrayOfNumbersValidator)(4)),Factory_1.Factory.addGetterSetter(Image,"image"),Factory_1.Factory.addComponentsGetterSetter(Image,"crop",["x","y","width","height"]),Factory_1.Factory.addGetterSetter(Image,"cropX",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Image,"cropY",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Image,"cropWidth",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Image,"cropHeight",0,(0,Validators_1.getNumberValidator)())},"./node_modules/konva/lib/shapes/Label.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tag=exports.Label=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Group_1=__webpack_require__("./node_modules/konva/lib/Group.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),ATTR_CHANGE_LIST=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],attrChangeListLen=ATTR_CHANGE_LIST.length;class Label extends Group_1.Group{constructor(config){super(config),this.on("add.konva",(function(evt){this._addListeners(evt.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(text){let n,that=this;const func=function(){that._sync()};for(n=0;n<attrChangeListLen;n++)text.on(ATTR_CHANGE_LIST[n]+"Change.konva",func)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let width,height,pointerDirection,pointerWidth,x,y,pointerHeight,text=this.getText(),tag=this.getTag();if(text&&tag){switch(width=text.width(),height=text.height(),pointerDirection=tag.pointerDirection(),pointerWidth=tag.pointerWidth(),pointerHeight=tag.pointerHeight(),x=0,y=0,pointerDirection){case"up":x=width/2,y=-1*pointerHeight;break;case"right":x=width+pointerWidth,y=height/2;break;case"down":x=width/2,y=height+pointerHeight;break;case"left":x=-1*pointerWidth,y=height/2}tag.setAttrs({x:-1*x,y:-1*y,width,height}),text.setAttrs({x:-1*x,y:-1*y})}}}exports.Label=Label,Label.prototype.className="Label",(0,Global_1._registerNode)(Label);class Tag extends Shape_1.Shape{_sceneFunc(context){const width=this.width(),height=this.height(),pointerDirection=this.pointerDirection(),pointerWidth=this.pointerWidth(),pointerHeight=this.pointerHeight(),cornerRadius=this.cornerRadius();let topLeft=0,topRight=0,bottomLeft=0,bottomRight=0;"number"==typeof cornerRadius?topLeft=topRight=bottomLeft=bottomRight=Math.min(cornerRadius,width/2,height/2):(topLeft=Math.min(cornerRadius[0]||0,width/2,height/2),topRight=Math.min(cornerRadius[1]||0,width/2,height/2),bottomRight=Math.min(cornerRadius[2]||0,width/2,height/2),bottomLeft=Math.min(cornerRadius[3]||0,width/2,height/2)),context.beginPath(),context.moveTo(topLeft,0),"up"===pointerDirection&&(context.lineTo((width-pointerWidth)/2,0),context.lineTo(width/2,-1*pointerHeight),context.lineTo((width+pointerWidth)/2,0)),context.lineTo(width-topRight,0),context.arc(width-topRight,topRight,topRight,3*Math.PI/2,0,!1),"right"===pointerDirection&&(context.lineTo(width,(height-pointerHeight)/2),context.lineTo(width+pointerWidth,height/2),context.lineTo(width,(height+pointerHeight)/2)),context.lineTo(width,height-bottomRight),context.arc(width-bottomRight,height-bottomRight,bottomRight,0,Math.PI/2,!1),"down"===pointerDirection&&(context.lineTo((width+pointerWidth)/2,height),context.lineTo(width/2,height+pointerHeight),context.lineTo((width-pointerWidth)/2,height)),context.lineTo(bottomLeft,height),context.arc(bottomLeft,height-bottomLeft,bottomLeft,Math.PI/2,Math.PI,!1),"left"===pointerDirection&&(context.lineTo(0,(height+pointerHeight)/2),context.lineTo(-1*pointerWidth,height/2),context.lineTo(0,(height-pointerHeight)/2)),context.lineTo(0,topLeft),context.arc(topLeft,topLeft,topLeft,Math.PI,3*Math.PI/2,!1),context.closePath(),context.fillStrokeShape(this)}getSelfRect(){let x=0,y=0,pointerWidth=this.pointerWidth(),pointerHeight=this.pointerHeight(),direction=this.pointerDirection(),width=this.width(),height=this.height();return"up"===direction?(y-=pointerHeight,height+=pointerHeight):"down"===direction?height+=pointerHeight:"left"===direction?(x-=1.5*pointerWidth,width+=pointerWidth):"right"===direction&&(width+=1.5*pointerWidth),{x,y,width,height}}}exports.Tag=Tag,Tag.prototype.className="Tag",(0,Global_1._registerNode)(Tag),Factory_1.Factory.addGetterSetter(Tag,"pointerDirection","none"),Factory_1.Factory.addGetterSetter(Tag,"pointerWidth",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Tag,"pointerHeight",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Tag,"cornerRadius",0,(0,Validators_1.getNumberOrArrayOfNumbersValidator)(4))},"./node_modules/konva/lib/shapes/Line.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Line=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");function getControlPoints(x0,y0,x1,y1,x2,y2,t){const d01=Math.sqrt(Math.pow(x1-x0,2)+Math.pow(y1-y0,2)),d12=Math.sqrt(Math.pow(x2-x1,2)+Math.pow(y2-y1,2)),fa=t*d01/(d01+d12),fb=t*d12/(d01+d12);return[x1-fa*(x2-x0),y1-fa*(y2-y0),x1+fb*(x2-x0),y1+fb*(y2-y0)]}function expandPoints(p,tension){const len=p.length,allPoints=[];for(let n=2;n<len-2;n+=2){const cp=getControlPoints(p[n-2],p[n-1],p[n],p[n+1],p[n+2],p[n+3],tension);isNaN(cp[0])||(allPoints.push(cp[0]),allPoints.push(cp[1]),allPoints.push(p[n]),allPoints.push(p[n+1]),allPoints.push(cp[2]),allPoints.push(cp[3]))}return allPoints}class Line extends Shape_1.Shape{constructor(config){super(config),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(context){let tp,len,n,points=this.points(),length=points.length,tension=this.tension(),closed=this.closed(),bezier=this.bezier();if(length){if(context.beginPath(),context.moveTo(points[0],points[1]),0!==tension&&length>4){for(tp=this.getTensionPoints(),len=tp.length,n=closed?0:4,closed||context.quadraticCurveTo(tp[0],tp[1],tp[2],tp[3]);n<len-2;)context.bezierCurveTo(tp[n++],tp[n++],tp[n++],tp[n++],tp[n++],tp[n++]);closed||context.quadraticCurveTo(tp[len-2],tp[len-1],points[length-2],points[length-1])}else if(bezier)for(n=2;n<length;)context.bezierCurveTo(points[n++],points[n++],points[n++],points[n++],points[n++],points[n++]);else for(n=2;n<length;n+=2)context.lineTo(points[n],points[n+1]);closed?(context.closePath(),context.fillStrokeShape(this)):context.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():expandPoints(this.points(),this.tension())}_getTensionPointsClosed(){const p=this.points(),len=p.length,tension=this.tension(),firstControlPoints=getControlPoints(p[len-2],p[len-1],p[0],p[1],p[2],p[3],tension),lastControlPoints=getControlPoints(p[len-4],p[len-3],p[len-2],p[len-1],p[0],p[1],tension),middle=expandPoints(p,tension);return[firstControlPoints[2],firstControlPoints[3]].concat(middle).concat([lastControlPoints[0],lastControlPoints[1],p[len-2],p[len-1],lastControlPoints[2],lastControlPoints[3],firstControlPoints[0],firstControlPoints[1],p[0],p[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let points=this.points();if(points.length<4)return{x:points[0]||0,y:points[1]||0,width:0,height:0};points=0!==this.tension()?[points[0],points[1],...this._getTensionPoints(),points[points.length-2],points[points.length-1]]:this.points();let x,y,minX=points[0],maxX=points[0],minY=points[1],maxY=points[1];for(let i=0;i<points.length/2;i++)x=points[2*i],y=points[2*i+1],minX=Math.min(minX,x),maxX=Math.max(maxX,x),minY=Math.min(minY,y),maxY=Math.max(maxY,y);return{x:minX,y:minY,width:maxX-minX,height:maxY-minY}}}exports.Line=Line,Line.prototype.className="Line",Line.prototype._attrsAffectingSize=["points","bezier","tension"],(0,Global_1._registerNode)(Line),Factory_1.Factory.addGetterSetter(Line,"closed",!1),Factory_1.Factory.addGetterSetter(Line,"bezier",!1),Factory_1.Factory.addGetterSetter(Line,"tension",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Line,"points",[],(0,Validators_1.getNumberArrayValidator)())},"./node_modules/konva/lib/shapes/Path.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Path=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),BezierFunctions_1=__webpack_require__("./node_modules/konva/lib/BezierFunctions.js");class Path extends Shape_1.Shape{constructor(config){super(config),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute()}))}_readDataAttribute(){this.dataArray=Path.parsePathData(this.data()),this.pathLength=Path.getPathLength(this.dataArray)}_sceneFunc(context){const ca=this.dataArray;context.beginPath();let isClosed=!1;for(let n=0;n<ca.length;n++){const c=ca[n].command,p=ca[n].points;switch(c){case"L":context.lineTo(p[0],p[1]);break;case"M":context.moveTo(p[0],p[1]);break;case"C":context.bezierCurveTo(p[0],p[1],p[2],p[3],p[4],p[5]);break;case"Q":context.quadraticCurveTo(p[0],p[1],p[2],p[3]);break;case"A":var cx=p[0],cy=p[1],rx=p[2],ry=p[3],theta=p[4],dTheta=p[5],psi=p[6],fs=p[7],r=rx>ry?rx:ry,scaleX=rx>ry?1:rx/ry,scaleY=rx>ry?ry/rx:1;context.translate(cx,cy),context.rotate(psi),context.scale(scaleX,scaleY),context.arc(0,0,r,theta,theta+dTheta,1-fs),context.scale(1/scaleX,1/scaleY),context.rotate(-psi),context.translate(-cx,-cy);break;case"z":isClosed=!0,context.closePath()}}isClosed||this.hasFill()?context.fillStrokeShape(this):context.strokeShape(this)}getSelfRect(){let points=[];this.dataArray.forEach((function(data){if("A"===data.command){const start=data.points[4],dTheta=data.points[5],end=data.points[4]+dTheta;let inc=Math.PI/180;if(Math.abs(start-end)<inc&&(inc=Math.abs(start-end)),dTheta<0)for(let t=start-inc;t>end;t-=inc){const point=Path.getPointOnEllipticalArc(data.points[0],data.points[1],data.points[2],data.points[3],t,0);points.push(point.x,point.y)}else for(let t=start+inc;t<end;t+=inc){const point=Path.getPointOnEllipticalArc(data.points[0],data.points[1],data.points[2],data.points[3],t,0);points.push(point.x,point.y)}}else if("C"===data.command)for(let t=0;t<=1;t+=.01){const point=Path.getPointOnCubicBezier(t,data.start.x,data.start.y,data.points[0],data.points[1],data.points[2],data.points[3],data.points[4],data.points[5]);points.push(point.x,point.y)}else points=points.concat(data.points)}));let x,y,minX=points[0],maxX=points[0],minY=points[1],maxY=points[1];for(let i=0;i<points.length/2;i++)x=points[2*i],y=points[2*i+1],isNaN(x)||(minX=Math.min(minX,x),maxX=Math.max(maxX,x)),isNaN(y)||(minY=Math.min(minY,y),maxY=Math.max(maxY,y));return{x:minX,y:minY,width:maxX-minX,height:maxY-minY}}getLength(){return this.pathLength}getPointAtLength(length){return Path.getPointAtLengthOfDataArray(length,this.dataArray)}static getLineLength(x1,y1,x2,y2){return Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))}static getPathLength(dataArray){let pathLength=0;for(let i=0;i<dataArray.length;++i)pathLength+=dataArray[i].pathLength;return pathLength}static getPointAtLengthOfDataArray(length,dataArray){let points,i=0,ii=dataArray.length;if(!ii)return null;for(;i<ii&&length>dataArray[i].pathLength;)length-=dataArray[i].pathLength,++i;if(i===ii)return points=dataArray[i-1].points.slice(-2),{x:points[0],y:points[1]};if(length<.01)return points=dataArray[i].points.slice(0,2),{x:points[0],y:points[1]};const cp=dataArray[i],p=cp.points;switch(cp.command){case"L":return Path.getPointOnLine(length,cp.start.x,cp.start.y,p[0],p[1]);case"C":return Path.getPointOnCubicBezier((0,BezierFunctions_1.t2length)(length,Path.getPathLength(dataArray),(i=>(0,BezierFunctions_1.getCubicArcLength)([cp.start.x,p[0],p[2],p[4]],[cp.start.y,p[1],p[3],p[5]],i))),cp.start.x,cp.start.y,p[0],p[1],p[2],p[3],p[4],p[5]);case"Q":return Path.getPointOnQuadraticBezier((0,BezierFunctions_1.t2length)(length,Path.getPathLength(dataArray),(i=>(0,BezierFunctions_1.getQuadraticArcLength)([cp.start.x,p[0],p[2]],[cp.start.y,p[1],p[3]],i))),cp.start.x,cp.start.y,p[0],p[1],p[2],p[3]);case"A":var cx=p[0],cy=p[1],rx=p[2],ry=p[3],theta=p[4],dTheta=p[5],psi=p[6];return theta+=dTheta*length/cp.pathLength,Path.getPointOnEllipticalArc(cx,cy,rx,ry,theta,psi)}return null}static getPointOnLine(dist,P1x,P1y,P2x,P2y,fromX,fromY){fromX=null!=fromX?fromX:P1x,fromY=null!=fromY?fromY:P1y;const len=this.getLineLength(P1x,P1y,P2x,P2y);if(len<1e-10)return{x:P1x,y:P1y};if(P2x===P1x)return{x:fromX,y:fromY+(P2y>P1y?dist:-dist)};const m=(P2y-P1y)/(P2x-P1x),run=Math.sqrt(dist*dist/(1+m*m))*(P2x<P1x?-1:1),rise=m*run;if(Math.abs(fromY-P1y-m*(fromX-P1x))<1e-10)return{x:fromX+run,y:fromY+rise};const u=((fromX-P1x)*(P2x-P1x)+(fromY-P1y)*(P2y-P1y))/(len*len),ix=P1x+u*(P2x-P1x),iy=P1y+u*(P2y-P1y),pRise=this.getLineLength(fromX,fromY,ix,iy),pRun=Math.sqrt(dist*dist-pRise*pRise),adjustedRun=Math.sqrt(pRun*pRun/(1+m*m))*(P2x<P1x?-1:1);return{x:ix+adjustedRun,y:iy+m*adjustedRun}}static getPointOnCubicBezier(pct,P1x,P1y,P2x,P2y,P3x,P3y,P4x,P4y){function CB1(t){return t*t*t}function CB2(t){return 3*t*t*(1-t)}function CB3(t){return 3*t*(1-t)*(1-t)}function CB4(t){return(1-t)*(1-t)*(1-t)}return{x:P4x*CB1(pct)+P3x*CB2(pct)+P2x*CB3(pct)+P1x*CB4(pct),y:P4y*CB1(pct)+P3y*CB2(pct)+P2y*CB3(pct)+P1y*CB4(pct)}}static getPointOnQuadraticBezier(pct,P1x,P1y,P2x,P2y,P3x,P3y){function QB1(t){return t*t}function QB2(t){return 2*t*(1-t)}function QB3(t){return(1-t)*(1-t)}return{x:P3x*QB1(pct)+P2x*QB2(pct)+P1x*QB3(pct),y:P3y*QB1(pct)+P2y*QB2(pct)+P1y*QB3(pct)}}static getPointOnEllipticalArc(cx,cy,rx,ry,theta,psi){const cosPsi=Math.cos(psi),sinPsi=Math.sin(psi),pt_x=rx*Math.cos(theta),pt_y=ry*Math.sin(theta);return{x:cx+(pt_x*cosPsi-pt_y*sinPsi),y:cy+(pt_x*sinPsi+pt_y*cosPsi)}}static parsePathData(data){if(!data)return[];let cs=data;const cc=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];cs=cs.replace(new RegExp(" ","g"),",");for(var n=0;n<cc.length;n++)cs=cs.replace(new RegExp(cc[n],"g"),"|"+cc[n]);const arr=cs.split("|"),ca=[],coords=[];let cpx=0,cpy=0;const re=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let match;for(n=1;n<arr.length;n++){let str=arr[n],c=str.charAt(0);for(str=str.slice(1),coords.length=0;match=re.exec(str);)coords.push(match[0]);const p=[];for(let j=0,jlen=coords.length;j<jlen;j++){if("00"===coords[j]){p.push(0,0);continue}const parsed=parseFloat(coords[j]);isNaN(parsed)?p.push(0):p.push(parsed)}for(;p.length>0&&!isNaN(p[0]);){let cmd="",points=[];const startX=cpx,startY=cpy;var prevCmd,ctlPtx,ctlPty,rx,ry,psi,fa,fs,x1,y1;switch(c){case"l":cpx+=p.shift(),cpy+=p.shift(),cmd="L",points.push(cpx,cpy);break;case"L":cpx=p.shift(),cpy=p.shift(),points.push(cpx,cpy);break;case"m":var dx=p.shift(),dy=p.shift();if(cpx+=dx,cpy+=dy,cmd="M",ca.length>2&&"z"===ca[ca.length-1].command)for(let idx=ca.length-2;idx>=0;idx--)if("M"===ca[idx].command){cpx=ca[idx].points[0]+dx,cpy=ca[idx].points[1]+dy;break}points.push(cpx,cpy),c="l";break;case"M":cpx=p.shift(),cpy=p.shift(),cmd="M",points.push(cpx,cpy),c="L";break;case"h":cpx+=p.shift(),cmd="L",points.push(cpx,cpy);break;case"H":cpx=p.shift(),cmd="L",points.push(cpx,cpy);break;case"v":cpy+=p.shift(),cmd="L",points.push(cpx,cpy);break;case"V":cpy=p.shift(),cmd="L",points.push(cpx,cpy);break;case"C":points.push(p.shift(),p.shift(),p.shift(),p.shift()),cpx=p.shift(),cpy=p.shift(),points.push(cpx,cpy);break;case"c":points.push(cpx+p.shift(),cpy+p.shift(),cpx+p.shift(),cpy+p.shift()),cpx+=p.shift(),cpy+=p.shift(),cmd="C",points.push(cpx,cpy);break;case"S":ctlPtx=cpx,ctlPty=cpy,"C"===(prevCmd=ca[ca.length-1]).command&&(ctlPtx=cpx+(cpx-prevCmd.points[2]),ctlPty=cpy+(cpy-prevCmd.points[3])),points.push(ctlPtx,ctlPty,p.shift(),p.shift()),cpx=p.shift(),cpy=p.shift(),cmd="C",points.push(cpx,cpy);break;case"s":ctlPtx=cpx,ctlPty=cpy,"C"===(prevCmd=ca[ca.length-1]).command&&(ctlPtx=cpx+(cpx-prevCmd.points[2]),ctlPty=cpy+(cpy-prevCmd.points[3])),points.push(ctlPtx,ctlPty,cpx+p.shift(),cpy+p.shift()),cpx+=p.shift(),cpy+=p.shift(),cmd="C",points.push(cpx,cpy);break;case"Q":points.push(p.shift(),p.shift()),cpx=p.shift(),cpy=p.shift(),points.push(cpx,cpy);break;case"q":points.push(cpx+p.shift(),cpy+p.shift()),cpx+=p.shift(),cpy+=p.shift(),cmd="Q",points.push(cpx,cpy);break;case"T":ctlPtx=cpx,ctlPty=cpy,"Q"===(prevCmd=ca[ca.length-1]).command&&(ctlPtx=cpx+(cpx-prevCmd.points[0]),ctlPty=cpy+(cpy-prevCmd.points[1])),cpx=p.shift(),cpy=p.shift(),cmd="Q",points.push(ctlPtx,ctlPty,cpx,cpy);break;case"t":ctlPtx=cpx,ctlPty=cpy,"Q"===(prevCmd=ca[ca.length-1]).command&&(ctlPtx=cpx+(cpx-prevCmd.points[0]),ctlPty=cpy+(cpy-prevCmd.points[1])),cpx+=p.shift(),cpy+=p.shift(),cmd="Q",points.push(ctlPtx,ctlPty,cpx,cpy);break;case"A":rx=p.shift(),ry=p.shift(),psi=p.shift(),fa=p.shift(),fs=p.shift(),x1=cpx,y1=cpy,cpx=p.shift(),cpy=p.shift(),cmd="A",points=this.convertEndpointToCenterParameterization(x1,y1,cpx,cpy,fa,fs,rx,ry,psi);break;case"a":rx=p.shift(),ry=p.shift(),psi=p.shift(),fa=p.shift(),fs=p.shift(),x1=cpx,y1=cpy,cpx+=p.shift(),cpy+=p.shift(),cmd="A",points=this.convertEndpointToCenterParameterization(x1,y1,cpx,cpy,fa,fs,rx,ry,psi)}ca.push({command:cmd||c,points,start:{x:startX,y:startY},pathLength:this.calcLength(startX,startY,cmd||c,points)})}"z"!==c&&"Z"!==c||ca.push({command:"z",points:[],start:void 0,pathLength:0})}return ca}static calcLength(x,y,cmd,points){let len,p1,p2,t;const path=Path;switch(cmd){case"L":return path.getLineLength(x,y,points[0],points[1]);case"C":return(0,BezierFunctions_1.getCubicArcLength)([x,points[0],points[2],points[4]],[y,points[1],points[3],points[5]],1);case"Q":return(0,BezierFunctions_1.getQuadraticArcLength)([x,points[0],points[2]],[y,points[1],points[3]],1);case"A":len=0;var start=points[4],dTheta=points[5],end=points[4]+dTheta,inc=Math.PI/180;if(Math.abs(start-end)<inc&&(inc=Math.abs(start-end)),p1=path.getPointOnEllipticalArc(points[0],points[1],points[2],points[3],start,0),dTheta<0)for(t=start-inc;t>end;t-=inc)p2=path.getPointOnEllipticalArc(points[0],points[1],points[2],points[3],t,0),len+=path.getLineLength(p1.x,p1.y,p2.x,p2.y),p1=p2;else for(t=start+inc;t<end;t+=inc)p2=path.getPointOnEllipticalArc(points[0],points[1],points[2],points[3],t,0),len+=path.getLineLength(p1.x,p1.y,p2.x,p2.y),p1=p2;return p2=path.getPointOnEllipticalArc(points[0],points[1],points[2],points[3],end,0),len+=path.getLineLength(p1.x,p1.y,p2.x,p2.y),len}return 0}static convertEndpointToCenterParameterization(x1,y1,x2,y2,fa,fs,rx,ry,psiDeg){const psi=psiDeg*(Math.PI/180),xp=Math.cos(psi)*(x1-x2)/2+Math.sin(psi)*(y1-y2)/2,yp=-1*Math.sin(psi)*(x1-x2)/2+Math.cos(psi)*(y1-y2)/2,lambda=xp*xp/(rx*rx)+yp*yp/(ry*ry);lambda>1&&(rx*=Math.sqrt(lambda),ry*=Math.sqrt(lambda));let f=Math.sqrt((rx*rx*(ry*ry)-rx*rx*(yp*yp)-ry*ry*(xp*xp))/(rx*rx*(yp*yp)+ry*ry*(xp*xp)));fa===fs&&(f*=-1),isNaN(f)&&(f=0);const cxp=f*rx*yp/ry,cyp=f*-ry*xp/rx,cx=(x1+x2)/2+Math.cos(psi)*cxp-Math.sin(psi)*cyp,cy=(y1+y2)/2+Math.sin(psi)*cxp+Math.cos(psi)*cyp,vMag=function(v){return Math.sqrt(v[0]*v[0]+v[1]*v[1])},vRatio=function(u,v){return(u[0]*v[0]+u[1]*v[1])/(vMag(u)*vMag(v))},vAngle=function(u,v){return(u[0]*v[1]<u[1]*v[0]?-1:1)*Math.acos(vRatio(u,v))},theta=vAngle([1,0],[(xp-cxp)/rx,(yp-cyp)/ry]),u=[(xp-cxp)/rx,(yp-cyp)/ry],v=[(-1*xp-cxp)/rx,(-1*yp-cyp)/ry];let dTheta=vAngle(u,v);return vRatio(u,v)<=-1&&(dTheta=Math.PI),vRatio(u,v)>=1&&(dTheta=0),0===fs&&dTheta>0&&(dTheta-=2*Math.PI),1===fs&&dTheta<0&&(dTheta+=2*Math.PI),[cx,cy,rx,ry,theta,dTheta,psi,fs]}}exports.Path=Path,Path.prototype.className="Path",Path.prototype._attrsAffectingSize=["data"],(0,Global_1._registerNode)(Path),Factory_1.Factory.addGetterSetter(Path,"data")},"./node_modules/konva/lib/shapes/Rect.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Rect=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js");class Rect extends Shape_1.Shape{_sceneFunc(context){const cornerRadius=this.cornerRadius(),width=this.width(),height=this.height();context.beginPath(),cornerRadius?Util_1.Util.drawRoundedRectPath(context,width,height,cornerRadius):context.rect(0,0,width,height),context.closePath(),context.fillStrokeShape(this)}}exports.Rect=Rect,Rect.prototype.className="Rect",(0,Global_1._registerNode)(Rect),Factory_1.Factory.addGetterSetter(Rect,"cornerRadius",0,(0,Validators_1.getNumberOrArrayOfNumbersValidator)(4))},"./node_modules/konva/lib/shapes/RegularPolygon.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RegularPolygon=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js");class RegularPolygon extends Shape_1.Shape{_sceneFunc(context){const points=this._getPoints();context.beginPath(),context.moveTo(points[0].x,points[0].y);for(let n=1;n<points.length;n++)context.lineTo(points[n].x,points[n].y);context.closePath(),context.fillStrokeShape(this)}_getPoints(){const sides=this.attrs.sides,radius=this.attrs.radius||0,points=[];for(let n=0;n<sides;n++)points.push({x:radius*Math.sin(2*n*Math.PI/sides),y:-1*radius*Math.cos(2*n*Math.PI/sides)});return points}getSelfRect(){const points=this._getPoints();let minX=points[0].x,maxX=points[0].y,minY=points[0].x,maxY=points[0].y;return points.forEach((point=>{minX=Math.min(minX,point.x),maxX=Math.max(maxX,point.x),minY=Math.min(minY,point.y),maxY=Math.max(maxY,point.y)})),{x:minX,y:minY,width:maxX-minX,height:maxY-minY}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(width){this.radius(width/2)}setHeight(height){this.radius(height/2)}}exports.RegularPolygon=RegularPolygon,RegularPolygon.prototype.className="RegularPolygon",RegularPolygon.prototype._centroid=!0,RegularPolygon.prototype._attrsAffectingSize=["radius"],(0,Global_1._registerNode)(RegularPolygon),Factory_1.Factory.addGetterSetter(RegularPolygon,"radius",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(RegularPolygon,"sides",0,(0,Validators_1.getNumberValidator)())},"./node_modules/konva/lib/shapes/Ring.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Ring=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),PIx2=2*Math.PI;class Ring extends Shape_1.Shape{_sceneFunc(context){context.beginPath(),context.arc(0,0,this.innerRadius(),0,PIx2,!1),context.moveTo(this.outerRadius(),0),context.arc(0,0,this.outerRadius(),PIx2,0,!0),context.closePath(),context.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(width){this.outerRadius(width/2)}setHeight(height){this.outerRadius(height/2)}}exports.Ring=Ring,Ring.prototype.className="Ring",Ring.prototype._centroid=!0,Ring.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,Global_1._registerNode)(Ring),Factory_1.Factory.addGetterSetter(Ring,"innerRadius",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Ring,"outerRadius",0,(0,Validators_1.getNumberValidator)())},"./node_modules/konva/lib/shapes/Sprite.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sprite=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Animation_1=__webpack_require__("./node_modules/konva/lib/Animation.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js");class Sprite extends Shape_1.Shape{constructor(config){super(config),this._updated=!0,this.anim=new Animation_1.Animation((()=>{const updated=this._updated;return this._updated=!1,updated})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(context){const anim=this.animation(),index=this.frameIndex(),ix4=4*index,set=this.animations()[anim],offsets=this.frameOffsets(),x=set[ix4+0],y=set[ix4+1],width=set[ix4+2],height=set[ix4+3],image=this.image();if((this.hasFill()||this.hasStroke())&&(context.beginPath(),context.rect(0,0,width,height),context.closePath(),context.fillStrokeShape(this)),image)if(offsets){const offset=offsets[anim],ix2=2*index;context.drawImage(image,x,y,width,height,offset[ix2+0],offset[ix2+1],width,height)}else context.drawImage(image,x,y,width,height,0,0,width,height)}_hitFunc(context){const anim=this.animation(),index=this.frameIndex(),ix4=4*index,set=this.animations()[anim],offsets=this.frameOffsets(),width=set[ix4+2],height=set[ix4+3];if(context.beginPath(),offsets){const offset=offsets[anim],ix2=2*index;context.rect(offset[ix2+0],offset[ix2+1],width,height)}else context.rect(0,0,width,height);context.closePath(),context.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const that=this;this.interval=setInterval((function(){that._updateIndex()}),1e3/this.frameRate())}start(){if(this.isRunning())return;const layer=this.getLayer();this.anim.setLayers(layer),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const index=this.frameIndex(),animation=this.animation();index<this.animations()[animation].length/4-1?this.frameIndex(index+1):this.frameIndex(0)}}exports.Sprite=Sprite,Sprite.prototype.className="Sprite",(0,Global_1._registerNode)(Sprite),Factory_1.Factory.addGetterSetter(Sprite,"animation"),Factory_1.Factory.addGetterSetter(Sprite,"animations"),Factory_1.Factory.addGetterSetter(Sprite,"frameOffsets"),Factory_1.Factory.addGetterSetter(Sprite,"image"),Factory_1.Factory.addGetterSetter(Sprite,"frameIndex",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Sprite,"frameRate",17,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.backCompat(Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})},"./node_modules/konva/lib/shapes/Star.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Star=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js");class Star extends Shape_1.Shape{_sceneFunc(context){const innerRadius=this.innerRadius(),outerRadius=this.outerRadius(),numPoints=this.numPoints();context.beginPath(),context.moveTo(0,0-outerRadius);for(let n=1;n<2*numPoints;n++){const radius=n%2==0?outerRadius:innerRadius,x=radius*Math.sin(n*Math.PI/numPoints),y=-1*radius*Math.cos(n*Math.PI/numPoints);context.lineTo(x,y)}context.closePath(),context.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(width){this.outerRadius(width/2)}setHeight(height){this.outerRadius(height/2)}}exports.Star=Star,Star.prototype.className="Star",Star.prototype._centroid=!0,Star.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,Global_1._registerNode)(Star),Factory_1.Factory.addGetterSetter(Star,"numPoints",5,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Star,"innerRadius",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Star,"outerRadius",0,(0,Validators_1.getNumberValidator)())},"./node_modules/konva/lib/shapes/Text.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Text=void 0,exports.stringToArray=stringToArray;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_2=__webpack_require__("./node_modules/konva/lib/Global.js");function stringToArray(string){return[...string].reduce(((acc,char,index,array)=>(/\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?(?:\u200D\p{Emoji_Presentation})+/u.test(char)?acc.push(char):/\p{Regional_Indicator}{2}/u.test(char+(array[index+1]||""))?acc.push(char+array[index+1]):index>0&&/\p{Mn}|\p{Me}|\p{Mc}/u.test(char)?acc[acc.length-1]+=char:acc.push(char),acc)),[])}const ATTR_CHANGE_LIST=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],attrChangeListLen=ATTR_CHANGE_LIST.length;let dummyContext;function getDummyContext(){return dummyContext||(dummyContext=Util_1.Util.createCanvasElement().getContext("2d"),dummyContext)}class Text extends Shape_1.Shape{constructor(config){super(function checkDefaultFill(config){return(config=config||{}).fillLinearGradientColorStops||config.fillRadialGradientColorStops||config.fillPatternImage||(config.fill=config.fill||"black"),config}(config)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<attrChangeListLen;n++)this.on(ATTR_CHANGE_LIST[n]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(context){const textArr=this.textArr,textArrLen=textArr.length;if(!this.text())return;let n,padding=this.padding(),fontSize=this.fontSize(),lineHeightPx=this.lineHeight()*fontSize,verticalAlign=this.verticalAlign(),direction=this.direction(),alignY=0,align=this.align(),totalWidth=this.getWidth(),letterSpacing=this.letterSpacing(),fill=this.fill(),textDecoration=this.textDecoration(),shouldUnderline=-1!==textDecoration.indexOf("underline"),shouldLineThrough=-1!==textDecoration.indexOf("line-through");direction="inherit"===direction?context.direction:direction;let translateY=lineHeightPx/2,baseline="middle";if(Global_1.Konva._fixTextRendering){const metrics=this.measureSize("M");baseline="alphabetic",translateY=(metrics.fontBoundingBoxAscent-metrics.fontBoundingBoxDescent)/2+lineHeightPx/2}var lineTranslateX=0,lineTranslateY=0;for("rtl"===direction&&context.setAttr("direction",direction),context.setAttr("font",this._getContextFont()),context.setAttr("textBaseline",baseline),context.setAttr("textAlign","left"),"middle"===verticalAlign?alignY=(this.getHeight()-textArrLen*lineHeightPx-2*padding)/2:"bottom"===verticalAlign&&(alignY=this.getHeight()-textArrLen*lineHeightPx-2*padding),context.translate(padding,alignY+padding),n=0;n<textArrLen;n++){lineTranslateX=0,lineTranslateY=0;var spacesNumber,oneWord,lineWidth,obj=textArr[n],text=obj.text,width=obj.width,lastLine=obj.lastInParagraph;if(context.save(),"right"===align?lineTranslateX+=totalWidth-width-2*padding:"center"===align&&(lineTranslateX+=(totalWidth-width-2*padding)/2),shouldUnderline){context.save(),context.beginPath();const x=lineTranslateX,y=translateY+lineTranslateY+(Global_1.Konva._fixTextRendering?Math.round(fontSize/4):Math.round(fontSize/2));context.moveTo(x,y),oneWord=0===(spacesNumber=text.split(" ").length-1),lineWidth="justify"!==align||lastLine?width:totalWidth-2*padding,context.lineTo(x+Math.round(lineWidth),y),context.lineWidth=fontSize/15;const gradient=this._getLinearGradient();context.strokeStyle=gradient||fill,context.stroke(),context.restore()}if(shouldLineThrough){context.save(),context.beginPath();const yOffset=Global_1.Konva._fixTextRendering?-Math.round(fontSize/4):0;context.moveTo(lineTranslateX,translateY+lineTranslateY+yOffset),oneWord=0===(spacesNumber=text.split(" ").length-1),lineWidth="justify"===align&&lastLine&&!oneWord?totalWidth-2*padding:width,context.lineTo(lineTranslateX+Math.round(lineWidth),translateY+lineTranslateY+yOffset),context.lineWidth=fontSize/15;const gradient=this._getLinearGradient();context.strokeStyle=gradient||fill,context.stroke(),context.restore()}if("rtl"===direction||0===letterSpacing&&"justify"!==align)0!==letterSpacing&&context.setAttr("letterSpacing",`${letterSpacing}px`),this._partialTextX=lineTranslateX,this._partialTextY=translateY+lineTranslateY,this._partialText=text,context.fillStrokeShape(this);else{spacesNumber=text.split(" ").length-1;const array=stringToArray(text);for(let li=0;li<array.length;li++){const letter=array[li];" "!==letter||lastLine||"justify"!==align||(lineTranslateX+=(totalWidth-2*padding-width)/spacesNumber),this._partialTextX=lineTranslateX,this._partialTextY=translateY+lineTranslateY,this._partialText=letter,context.fillStrokeShape(this),lineTranslateX+=this.measureSize(letter).width+letterSpacing}}context.restore(),textArrLen>1&&(translateY+=lineHeightPx)}}_hitFunc(context){const width=this.getWidth(),height=this.getHeight();context.beginPath(),context.rect(0,0,width,height),context.closePath(),context.fillStrokeShape(this)}setText(text){const str=Util_1.Util._isString(text)?text:null==text?"":text+"";return this._setAttr("text",str),this}getWidth(){return"auto"===this.attrs.width||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return"auto"===this.attrs.height||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Util_1.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(text){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l;let metrics,_context=getDummyContext(),fontSize=this.fontSize();_context.save(),_context.font=this._getContextFont(),metrics=_context.measureText(text),_context.restore();const scaleFactor=fontSize/100;return{actualBoundingBoxAscent:null!==(_a=metrics.actualBoundingBoxAscent)&&void 0!==_a?_a:71.58203125*scaleFactor,actualBoundingBoxDescent:null!==(_b=metrics.actualBoundingBoxDescent)&&void 0!==_b?_b:0,actualBoundingBoxLeft:null!==(_c=metrics.actualBoundingBoxLeft)&&void 0!==_c?_c:-7.421875*scaleFactor,actualBoundingBoxRight:null!==(_d=metrics.actualBoundingBoxRight)&&void 0!==_d?_d:75.732421875*scaleFactor,alphabeticBaseline:null!==(_e=metrics.alphabeticBaseline)&&void 0!==_e?_e:0,emHeightAscent:null!==(_f=metrics.emHeightAscent)&&void 0!==_f?_f:100*scaleFactor,emHeightDescent:null!==(_g=metrics.emHeightDescent)&&void 0!==_g?_g:-20*scaleFactor,fontBoundingBoxAscent:null!==(_h=metrics.fontBoundingBoxAscent)&&void 0!==_h?_h:91*scaleFactor,fontBoundingBoxDescent:null!==(_j=metrics.fontBoundingBoxDescent)&&void 0!==_j?_j:21*scaleFactor,hangingBaseline:null!==(_k=metrics.hangingBaseline)&&void 0!==_k?_k:72.80000305175781*scaleFactor,ideographicBaseline:null!==(_l=metrics.ideographicBaseline)&&void 0!==_l?_l:-21*scaleFactor,width:metrics.width,height:fontSize}}_getContextFont(){return this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+function normalizeFontFamily(fontFamily){return fontFamily.split(",").map((family=>{const hasSpace=(family=family.trim()).indexOf(" ")>=0,hasQuotes=family.indexOf('"')>=0||family.indexOf("'")>=0;return hasSpace&&!hasQuotes&&(family=`"${family}"`),family})).join(", ")}(this.fontFamily())}_addTextLine(line){"justify"===this.align()&&(line=line.trim());const width=this._getTextWidth(line);return this.textArr.push({text:line,width,lastInParagraph:!1})}_getTextWidth(text){const letterSpacing=this.letterSpacing(),length=text.length;return getDummyContext().measureText(text).width+(length?letterSpacing*(length-1):0)}_setTextData(){let lines=this.text().split("\n"),fontSize=+this.fontSize(),textWidth=0,lineHeightPx=this.lineHeight()*fontSize,width=this.attrs.width,height=this.attrs.height,fixedWidth="auto"!==width&&void 0!==width,fixedHeight="auto"!==height&&void 0!==height,padding=this.padding(),maxWidth=width-2*padding,maxHeightPx=height-2*padding,currentHeightPx=0,wrap=this.wrap(),wrapAtWord="char"!==wrap&&"none"!==wrap,shouldAddEllipsis=this.ellipsis();this.textArr=[],getDummyContext().font=this._getContextFont();const additionalWidth=shouldAddEllipsis?this._getTextWidth("…"):0;for(let i=0,max=lines.length;i<max;++i){let line=lines[i],lineWidth=this._getTextWidth(line);if(fixedWidth&&lineWidth>maxWidth)for(;line.length>0;){let low=0,high=line.length,match="",matchWidth=0;for(;low<high;){const mid=low+high>>>1,substr=line.slice(0,mid+1),substrWidth=this._getTextWidth(substr)+additionalWidth;substrWidth<=maxWidth?(low=mid+1,match=substr,matchWidth=substrWidth):high=mid}if(!match)break;if(wrapAtWord){var wrapIndex;const nextChar=line[match.length];(wrapIndex=(" "===nextChar||"-"===nextChar)&&matchWidth<=maxWidth?match.length:Math.max(match.lastIndexOf(" "),match.lastIndexOf("-"))+1)>0&&(low=wrapIndex,match=match.slice(0,low),matchWidth=this._getTextWidth(match))}match=match.trimRight(),this._addTextLine(match),textWidth=Math.max(textWidth,matchWidth),currentHeightPx+=lineHeightPx;if(this._shouldHandleEllipsis(currentHeightPx)){this._tryToAddEllipsisToLastLine();break}if(line=line.slice(low),line=line.trimLeft(),line.length>0&&(lineWidth=this._getTextWidth(line),lineWidth<=maxWidth)){this._addTextLine(line),currentHeightPx+=lineHeightPx,textWidth=Math.max(textWidth,lineWidth);break}}else this._addTextLine(line),currentHeightPx+=lineHeightPx,textWidth=Math.max(textWidth,lineWidth),this._shouldHandleEllipsis(currentHeightPx)&&i<max-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),fixedHeight&&currentHeightPx+lineHeightPx>maxHeightPx)break}this.textHeight=fontSize,this.textWidth=textWidth}_shouldHandleEllipsis(currentHeightPx){const fontSize=+this.fontSize(),lineHeightPx=this.lineHeight()*fontSize,height=this.attrs.height,fixedHeight="auto"!==height&&void 0!==height,maxHeightPx=height-2*this.padding();return!("none"!==this.wrap())||fixedHeight&&currentHeightPx+lineHeightPx>maxHeightPx}_tryToAddEllipsisToLastLine(){const width=this.attrs.width,fixedWidth="auto"!==width&&void 0!==width,maxWidth=width-2*this.padding(),shouldAddEllipsis=this.ellipsis(),lastLine=this.textArr[this.textArr.length-1];if(lastLine&&shouldAddEllipsis){if(fixedWidth){this._getTextWidth(lastLine.text+"…")<maxWidth||(lastLine.text=lastLine.text.slice(0,lastLine.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(lastLine.text+"…")}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const hasLine=-1!==this.textDecoration().indexOf("underline")||-1!==this.textDecoration().indexOf("line-through"),hasShadow=this.hasShadow();return!(!hasLine||!hasShadow)||super._useBufferCanvas()}}exports.Text=Text,Text.prototype._fillFunc=function _fillFunc(context){context.fillText(this._partialText,this._partialTextX,this._partialTextY)},Text.prototype._strokeFunc=function _strokeFunc(context){context.setAttr("miterLimit",2),context.strokeText(this._partialText,this._partialTextX,this._partialTextY)},Text.prototype.className="Text",Text.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,Global_2._registerNode)(Text),Factory_1.Factory.overWriteSetter(Text,"width",(0,Validators_1.getNumberOrAutoValidator)()),Factory_1.Factory.overWriteSetter(Text,"height",(0,Validators_1.getNumberOrAutoValidator)()),Factory_1.Factory.addGetterSetter(Text,"direction","inherit"),Factory_1.Factory.addGetterSetter(Text,"fontFamily","Arial"),Factory_1.Factory.addGetterSetter(Text,"fontSize",12,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Text,"fontStyle","normal"),Factory_1.Factory.addGetterSetter(Text,"fontVariant","normal"),Factory_1.Factory.addGetterSetter(Text,"padding",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Text,"align","left"),Factory_1.Factory.addGetterSetter(Text,"verticalAlign","top"),Factory_1.Factory.addGetterSetter(Text,"lineHeight",1,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Text,"wrap","word"),Factory_1.Factory.addGetterSetter(Text,"ellipsis",!1,(0,Validators_1.getBooleanValidator)()),Factory_1.Factory.addGetterSetter(Text,"letterSpacing",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Text,"text","",(0,Validators_1.getStringValidator)()),Factory_1.Factory.addGetterSetter(Text,"textDecoration","")},"./node_modules/konva/lib/shapes/TextPath.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextPath=void 0;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Path_1=__webpack_require__("./node_modules/konva/lib/shapes/Path.js"),Text_1=__webpack_require__("./node_modules/konva/lib/shapes/Text.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js");function _fillFunc(context){context.fillText(this.partialText,0,0)}function _strokeFunc(context){context.strokeText(this.partialText,0,0)}class TextPath extends Shape_1.Shape{constructor(config){super(config),this.dummyCanvas=Util_1.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute(),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Path_1.Path.getPathLength(this.dataArray)}_getPointAtLength(length){if(!this.attrs.data)return null;return length-1>this.pathLength?null:Path_1.Path.getPointAtLengthOfDataArray(length,this.dataArray)}_readDataAttribute(){this.dataArray=Path_1.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(context){context.setAttr("font",this._getContextFont()),context.setAttr("textBaseline",this.textBaseline()),context.setAttr("textAlign","left"),context.save();const textDecoration=this.textDecoration(),fill=this.fill(),fontSize=this.fontSize(),glyphInfo=this.glyphInfo;"underline"===textDecoration&&context.beginPath();for(let i=0;i<glyphInfo.length;i++){context.save();const p0=glyphInfo[i].p0;context.translate(p0.x,p0.y),context.rotate(glyphInfo[i].rotation),this.partialText=glyphInfo[i].text,context.fillStrokeShape(this),"underline"===textDecoration&&(0===i&&context.moveTo(0,fontSize/2+1),context.lineTo(fontSize,fontSize/2+1)),context.restore()}"underline"===textDecoration&&(context.strokeStyle=fill,context.lineWidth=fontSize/20,context.stroke()),context.restore()}_hitFunc(context){context.beginPath();const glyphInfo=this.glyphInfo;if(glyphInfo.length>=1){const p0=glyphInfo[0].p0;context.moveTo(p0.x,p0.y)}for(let i=0;i<glyphInfo.length;i++){const p1=glyphInfo[i].p1;context.lineTo(p1.x,p1.y)}context.setAttr("lineWidth",this.fontSize()),context.setAttr("strokeStyle",this.colorKey),context.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Util_1.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(text){return Text_1.Text.prototype.setText.call(this,text)}_getContextFont(){return Text_1.Text.prototype._getContextFont.call(this)}_getTextSize(text){const _context=this.dummyCanvas.getContext("2d");_context.save(),_context.font=this._getContextFont();const metrics=_context.measureText(text);return _context.restore(),{width:metrics.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width,height}=this._getTextSize(this.attrs.text);if(this.textWidth=width,this.textHeight=height,this.glyphInfo=[],!this.attrs.data)return null;const letterSpacing=this.letterSpacing(),align=this.align(),kerningFunc=this.kerningFunc(),textWidth=Math.max(this.textWidth+((this.attrs.text||"").length-1)*letterSpacing,0);let offset=0;"center"===align&&(offset=Math.max(0,this.pathLength/2-textWidth/2)),"right"===align&&(offset=Math.max(0,this.pathLength-textWidth));const charArr=(0,Text_1.stringToArray)(this.text());let offsetToGlyph=offset;for(let i=0;i<charArr.length;i++){const charStartPoint=this._getPointAtLength(offsetToGlyph);if(!charStartPoint)return;let glyphWidth=this._getTextSize(charArr[i]).width+letterSpacing;if(" "===charArr[i]&&"justify"===align){const numberOfSpaces=this.text().split(" ").length-1;glyphWidth+=(this.pathLength-textWidth)/numberOfSpaces}const charEndPoint=this._getPointAtLength(offsetToGlyph+glyphWidth);if(!charEndPoint)return;const width=Path_1.Path.getLineLength(charStartPoint.x,charStartPoint.y,charEndPoint.x,charEndPoint.y);let kern=0;if(kerningFunc)try{kern=kerningFunc(charArr[i-1],charArr[i])*this.fontSize()}catch(e){kern=0}charStartPoint.x+=kern,charEndPoint.x+=kern,this.textWidth+=kern;const midpoint=Path_1.Path.getPointOnLine(kern+width/2,charStartPoint.x,charStartPoint.y,charEndPoint.x,charEndPoint.y),rotation=Math.atan2(charEndPoint.y-charStartPoint.y,charEndPoint.x-charStartPoint.x);this.glyphInfo.push({transposeX:midpoint.x,transposeY:midpoint.y,text:charArr[i],rotation,p0:charStartPoint,p1:charEndPoint}),offsetToGlyph+=glyphWidth}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const points=[];this.glyphInfo.forEach((function(info){points.push(info.p0.x),points.push(info.p0.y),points.push(info.p1.x),points.push(info.p1.y)}));let x,y,minX=points[0]||0,maxX=points[0]||0,minY=points[1]||0,maxY=points[1]||0;for(let i=0;i<points.length/2;i++)x=points[2*i],y=points[2*i+1],minX=Math.min(minX,x),maxX=Math.max(maxX,x),minY=Math.min(minY,y),maxY=Math.max(maxY,y);const fontSize=this.fontSize();return{x:minX-fontSize/2,y:minY-fontSize/2,width:maxX-minX+fontSize,height:maxY-minY+fontSize}}destroy(){return Util_1.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}exports.TextPath=TextPath,TextPath.prototype._fillFunc=_fillFunc,TextPath.prototype._strokeFunc=_strokeFunc,TextPath.prototype._fillFuncHit=_fillFunc,TextPath.prototype._strokeFuncHit=_strokeFunc,TextPath.prototype.className="TextPath",TextPath.prototype._attrsAffectingSize=["text","fontSize","data"],(0,Global_1._registerNode)(TextPath),Factory_1.Factory.addGetterSetter(TextPath,"data"),Factory_1.Factory.addGetterSetter(TextPath,"fontFamily","Arial"),Factory_1.Factory.addGetterSetter(TextPath,"fontSize",12,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(TextPath,"fontStyle","normal"),Factory_1.Factory.addGetterSetter(TextPath,"align","left"),Factory_1.Factory.addGetterSetter(TextPath,"letterSpacing",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(TextPath,"textBaseline","middle"),Factory_1.Factory.addGetterSetter(TextPath,"fontVariant","normal"),Factory_1.Factory.addGetterSetter(TextPath,"text",""),Factory_1.Factory.addGetterSetter(TextPath,"textDecoration",null),Factory_1.Factory.addGetterSetter(TextPath,"kerningFunc",null)},"./node_modules/konva/lib/shapes/Transformer.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__("./node_modules/console-browserify/index.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Transformer=void 0;const Util_1=__webpack_require__("./node_modules/konva/lib/Util.js"),Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Node_1=__webpack_require__("./node_modules/konva/lib/Node.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Rect_1=__webpack_require__("./node_modules/konva/lib/shapes/Rect.js"),Group_1=__webpack_require__("./node_modules/konva/lib/Group.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_2=__webpack_require__("./node_modules/konva/lib/Global.js"),ATTR_CHANGE_LIST=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map((e=>e+".tr-konva")).join(" "),TRANSFORM_CHANGE_STR=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],ANGLES={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},TOUCH_DEVICE="ontouchstart"in Global_1.Konva._global;const ANCHORS_NAMES=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function rotateAroundPoint(shape,angleRad,point){const x=point.x+(shape.x-point.x)*Math.cos(angleRad)-(shape.y-point.y)*Math.sin(angleRad),y=point.y+(shape.x-point.x)*Math.sin(angleRad)+(shape.y-point.y)*Math.cos(angleRad);return{...shape,rotation:shape.rotation+angleRad,x,y}}function rotateAroundCenter(shape,deltaRad){const center=function getCenter(shape){return{x:shape.x+shape.width/2*Math.cos(shape.rotation)+shape.height/2*Math.sin(-shape.rotation),y:shape.y+shape.height/2*Math.cos(shape.rotation)+shape.width/2*Math.sin(shape.rotation)}}(shape);return rotateAroundPoint(shape,deltaRad,center)}let activeTransformersCount=0;class Transformer extends Group_1.Group{constructor(config){super(config),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ATTR_CHANGE_LIST,this.update),this.getNode()&&this.update()}attachTo(node){return this.setNode(node),this}setNode(node){return Util_1.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([node])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return"tr-konva"+this._id}setNodes(nodes=[]){this._nodes&&this._nodes.length&&this.detach();const filteredNodes=nodes.filter((node=>!node.isAncestorOf(this)||(Util_1.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1)));this._nodes=nodes=filteredNodes,1===nodes.length&&this.useSingleNodeRotation()?this.rotation(nodes[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((node=>{const onChange=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},additionalEvents=node._attrsAffectingSize.map((prop=>prop+"Change."+this._getEventNamespace())).join(" ");node.on(additionalEvents,onChange),node.on(TRANSFORM_CHANGE_STR.map((e=>e+`.${this._getEventNamespace()}`)).join(" "),onChange),node.on(`absoluteTransformChange.${this._getEventNamespace()}`,onChange),this._proxyDrag(node)})),this._resetTransformCache();return!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(node){let lastPos;node.on(`dragstart.${this._getEventNamespace()}`,(e=>{lastPos=node.getAbsolutePosition(),this.isDragging()||node===this.findOne(".back")||this.startDrag(e,!1)})),node.on(`dragmove.${this._getEventNamespace()}`,(e=>{if(!lastPos)return;const abs=node.getAbsolutePosition(),dx=abs.x-lastPos.x,dy=abs.y-lastPos.y;this.nodes().forEach((otherNode=>{if(otherNode===node)return;if(otherNode.isDragging())return;const otherAbs=otherNode.getAbsolutePosition();otherNode.setAbsolutePosition({x:otherAbs.x+dx,y:otherAbs.y+dy}),otherNode.startDrag(e)})),lastPos=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((node=>{node.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache("nodesRect"),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache("nodesRect",this.__getNodeRect)}__getNodeShape(node,rot=this.rotation(),relative){const rect=node.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),absScale=node.getAbsoluteScale(relative),absPos=node.getAbsolutePosition(relative),dx=rect.x*absScale.x-node.offsetX()*absScale.x,dy=rect.y*absScale.y-node.offsetY()*absScale.y,rotation=(Global_1.Konva.getAngle(node.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return rotateAroundPoint({x:absPos.x+dx*Math.cos(rotation)+dy*Math.sin(-rotation),y:absPos.y+dy*Math.cos(rotation)+dx*Math.sin(rotation),width:rect.width*absScale.x,height:rect.height*absScale.y,rotation},-Global_1.Konva.getAngle(rot),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const totalPoints=[];this.nodes().map((node=>{const box=node.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),points=[{x:box.x,y:box.y},{x:box.x+box.width,y:box.y},{x:box.x+box.width,y:box.y+box.height},{x:box.x,y:box.y+box.height}],trans=node.getAbsoluteTransform();points.forEach((function(point){const transformed=trans.point(point);totalPoints.push(transformed)}))}));const tr=new Util_1.Transform;tr.rotate(-Global_1.Konva.getAngle(this.rotation()));let minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0;totalPoints.forEach((function(point){const transformed=tr.point(point);void 0===minX&&(minX=maxX=transformed.x,minY=maxY=transformed.y),minX=Math.min(minX,transformed.x),minY=Math.min(minY,transformed.y),maxX=Math.max(maxX,transformed.x),maxY=Math.max(maxY,transformed.y)})),tr.invert();const p=tr.point({x:minX,y:minY});return{x:p.x,y:p.y,width:maxX-minX,height:maxY-minY,rotation:Global_1.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ANCHORS_NAMES.forEach((name=>{this._createAnchor(name)})),this._createAnchor("rotater")}_createAnchor(name){const anchor=new Rect_1.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:name+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:TOUCH_DEVICE?10:"auto"}),self=this;anchor.on("mousedown touchstart",(function(e){self._handleMouseDown(e)})),anchor.on("dragstart",(e=>{anchor.stopDrag(),e.cancelBubble=!0})),anchor.on("dragend",(e=>{e.cancelBubble=!0})),anchor.on("mouseenter",(()=>{const rad=Global_1.Konva.getAngle(this.rotation()),rotateCursor=this.rotateAnchorCursor(),cursor=function getCursor(anchorName,rad,rotateCursor){if("rotater"===anchorName)return rotateCursor;rad+=Util_1.Util.degToRad(ANGLES[anchorName]||0);const angle=(Util_1.Util.radToDeg(rad)%360+360)%360;return Util_1.Util._inRange(angle,337.5,360)||Util_1.Util._inRange(angle,0,22.5)?"ns-resize":Util_1.Util._inRange(angle,22.5,67.5)?"nesw-resize":Util_1.Util._inRange(angle,67.5,112.5)?"ew-resize":Util_1.Util._inRange(angle,112.5,157.5)?"nwse-resize":Util_1.Util._inRange(angle,157.5,202.5)?"ns-resize":Util_1.Util._inRange(angle,202.5,247.5)?"nesw-resize":Util_1.Util._inRange(angle,247.5,292.5)?"ew-resize":Util_1.Util._inRange(angle,292.5,337.5)?"nwse-resize":(Util_1.Util.error("Transformer has unknown angle for cursor detection: "+angle),"pointer")}(name,rad,rotateCursor);anchor.getStage().content&&(anchor.getStage().content.style.cursor=cursor),this._cursorChange=!0})),anchor.on("mouseout",(()=>{anchor.getStage().content&&(anchor.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(anchor)}_createBack(){const back=new Shape_1.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(ctx,shape){const tr=shape.getParent(),padding=tr.padding();ctx.beginPath(),ctx.rect(-padding,-padding,shape.width()+2*padding,shape.height()+2*padding),ctx.moveTo(shape.width()/2,-padding),tr.rotateEnabled()&&tr.rotateLineVisible()&&ctx.lineTo(shape.width()/2,-tr.rotateAnchorOffset()*Util_1.Util._sign(shape.height())-padding),ctx.fillStrokeShape(shape)},hitFunc:(ctx,shape)=>{if(!this.shouldOverdrawWholeArea())return;const padding=this.padding();ctx.beginPath(),ctx.rect(-padding,-padding,shape.width()+2*padding,shape.height()+2*padding),ctx.fillStrokeShape(shape)}});this.add(back),this._proxyDrag(back),back.on("dragstart",(e=>{e.cancelBubble=!0})),back.on("dragmove",(e=>{e.cancelBubble=!0})),back.on("dragend",(e=>{e.cancelBubble=!0})),this.on("dragmove",(e=>{this.update()}))}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const attrs=this._getNodeRect(),width=attrs.width,height=attrs.height,hypotenuse=Math.sqrt(Math.pow(width,2)+Math.pow(height,2));this.sin=Math.abs(height/hypotenuse),this.cos=Math.abs(width/hypotenuse),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const ap=e.target.getAbsolutePosition(),pos=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:pos.x-ap.x,y:pos.y-ap.y},activeTransformersCount++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach((target=>{target._fire("transformstart",{evt:e.evt,target})}))}_handleMouseMove(e){let x,y,newHypotenuse;const anchorNode=this.findOne("."+this._movingAnchorName),stage=anchorNode.getStage();stage.setPointersPositions(e);const pp=stage.getPointerPosition();let newNodePos={x:pp.x-this._anchorDragOffset.x,y:pp.y-this._anchorDragOffset.y};const oldAbs=anchorNode.getAbsolutePosition();this.anchorDragBoundFunc()&&(newNodePos=this.anchorDragBoundFunc()(oldAbs,newNodePos,e)),anchorNode.setAbsolutePosition(newNodePos);const newAbs=anchorNode.getAbsolutePosition();if(oldAbs.x===newAbs.x&&oldAbs.y===newAbs.y)return;if("rotater"===this._movingAnchorName){const attrs=this._getNodeRect();x=anchorNode.x()-attrs.width/2,y=-anchorNode.y()+attrs.height/2;let delta=Math.atan2(-y,x)+Math.PI/2;attrs.height<0&&(delta-=Math.PI);const newRotation=Global_1.Konva.getAngle(this.rotation())+delta,tol=Global_1.Konva.getAngle(this.rotationSnapTolerance()),snappedRot=function getSnap(snaps,newRotationRad,tol){let snapped=newRotationRad;for(let i=0;i<snaps.length;i++){const angle=Global_1.Konva.getAngle(snaps[i]),absDiff=Math.abs(angle-newRotationRad)%(2*Math.PI);Math.min(absDiff,2*Math.PI-absDiff)<tol&&(snapped=angle)}return snapped}(this.rotationSnaps(),newRotation,tol),shape=rotateAroundCenter(attrs,snappedRot-attrs.rotation);return void this._fitNodesInto(shape,e)}const shiftBehavior=this.shiftBehavior();let keepProportion;keepProportion="inverted"===shiftBehavior?this.keepRatio()&&!e.shiftKey:"none"===shiftBehavior?this.keepRatio():this.keepRatio()||e.shiftKey;var centeredScaling=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(keepProportion){var comparePoint=centeredScaling?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};newHypotenuse=Math.sqrt(Math.pow(comparePoint.x-anchorNode.x(),2)+Math.pow(comparePoint.y-anchorNode.y(),2));var reverseX=this.findOne(".top-left").x()>comparePoint.x?-1:1,reverseY=this.findOne(".top-left").y()>comparePoint.y?-1:1;x=newHypotenuse*this.cos*reverseX,y=newHypotenuse*this.sin*reverseY,this.findOne(".top-left").x(comparePoint.x-x),this.findOne(".top-left").y(comparePoint.y-y)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(anchorNode.y());else if("top-right"===this._movingAnchorName){if(keepProportion){comparePoint=centeredScaling?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};newHypotenuse=Math.sqrt(Math.pow(anchorNode.x()-comparePoint.x,2)+Math.pow(comparePoint.y-anchorNode.y(),2));reverseX=this.findOne(".top-right").x()<comparePoint.x?-1:1,reverseY=this.findOne(".top-right").y()>comparePoint.y?-1:1;x=newHypotenuse*this.cos*reverseX,y=newHypotenuse*this.sin*reverseY,this.findOne(".top-right").x(comparePoint.x+x),this.findOne(".top-right").y(comparePoint.y-y)}var pos=anchorNode.position();this.findOne(".top-left").y(pos.y),this.findOne(".bottom-right").x(pos.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(anchorNode.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(anchorNode.x());else if("bottom-left"===this._movingAnchorName){if(keepProportion){comparePoint=centeredScaling?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};newHypotenuse=Math.sqrt(Math.pow(comparePoint.x-anchorNode.x(),2)+Math.pow(anchorNode.y()-comparePoint.y,2));reverseX=comparePoint.x<anchorNode.x()?-1:1,reverseY=anchorNode.y()<comparePoint.y?-1:1;x=newHypotenuse*this.cos*reverseX,y=newHypotenuse*this.sin*reverseY,anchorNode.x(comparePoint.x-x),anchorNode.y(comparePoint.y+y)}pos=anchorNode.position(),this.findOne(".top-left").x(pos.x),this.findOne(".bottom-right").y(pos.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(anchorNode.y());else if("bottom-right"===this._movingAnchorName){if(keepProportion){comparePoint=centeredScaling?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};newHypotenuse=Math.sqrt(Math.pow(anchorNode.x()-comparePoint.x,2)+Math.pow(anchorNode.y()-comparePoint.y,2));reverseX=this.findOne(".bottom-right").x()<comparePoint.x?-1:1,reverseY=this.findOne(".bottom-right").y()<comparePoint.y?-1:1;x=newHypotenuse*this.cos*reverseX,y=newHypotenuse*this.sin*reverseY,this.findOne(".bottom-right").x(comparePoint.x+x),this.findOne(".bottom-right").y(comparePoint.y+y)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(centeredScaling=this.centeredScaling()||e.altKey){const topLeft=this.findOne(".top-left"),bottomRight=this.findOne(".bottom-right"),topOffsetX=topLeft.x(),topOffsetY=topLeft.y(),bottomOffsetX=this.getWidth()-bottomRight.x(),bottomOffsetY=this.getHeight()-bottomRight.y();bottomRight.move({x:-topOffsetX,y:-topOffsetY}),topLeft.move({x:bottomOffsetX,y:bottomOffsetY})}const absPos=this.findOne(".top-left").getAbsolutePosition();x=absPos.x,y=absPos.y;const width=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),height=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x,y,width,height,rotation:Global_1.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var _a;if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const node=this.getNode();activeTransformersCount--,this._fire("transformend",{evt:e,target:node}),null===(_a=this.getLayer())||void 0===_a||_a.batchDraw(),node&&this._nodes.forEach((target=>{var _a;target._fire("transformend",{evt:e,target}),null===(_a=target.getLayer())||void 0===_a||_a.batchDraw()})),this._movingAnchorName=null}}_fitNodesInto(newAttrs,evt){const oldAttrs=this._getNodeRect();if(Util_1.Util._inRange(newAttrs.width,2*-this.padding()-1,1))return void this.update();if(Util_1.Util._inRange(newAttrs.height,2*-this.padding()-1,1))return void this.update();const t=new Util_1.Transform;if(t.rotate(Global_1.Konva.getAngle(this.rotation())),this._movingAnchorName&&newAttrs.width<0&&this._movingAnchorName.indexOf("left")>=0){const offset=t.point({x:2*-this.padding(),y:0});newAttrs.x+=offset.x,newAttrs.y+=offset.y,newAttrs.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=offset.x,this._anchorDragOffset.y-=offset.y}else if(this._movingAnchorName&&newAttrs.width<0&&this._movingAnchorName.indexOf("right")>=0){const offset=t.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=offset.x,this._anchorDragOffset.y-=offset.y,newAttrs.width+=2*this.padding()}if(this._movingAnchorName&&newAttrs.height<0&&this._movingAnchorName.indexOf("top")>=0){const offset=t.point({x:0,y:2*-this.padding()});newAttrs.x+=offset.x,newAttrs.y+=offset.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=offset.x,this._anchorDragOffset.y-=offset.y,newAttrs.height+=2*this.padding()}else if(this._movingAnchorName&&newAttrs.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const offset=t.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=offset.x,this._anchorDragOffset.y-=offset.y,newAttrs.height+=2*this.padding()}if(this.boundBoxFunc()){const bounded=this.boundBoxFunc()(oldAttrs,newAttrs);bounded?newAttrs=bounded:Util_1.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const oldTr=new Util_1.Transform;oldTr.translate(oldAttrs.x,oldAttrs.y),oldTr.rotate(oldAttrs.rotation),oldTr.scale(oldAttrs.width/1e7,oldAttrs.height/1e7);const newTr=new Util_1.Transform,newScaleX=newAttrs.width/1e7,newScaleY=newAttrs.height/1e7;!1===this.flipEnabled()?(newTr.translate(newAttrs.x,newAttrs.y),newTr.rotate(newAttrs.rotation),newTr.translate(newAttrs.width<0?newAttrs.width:0,newAttrs.height<0?newAttrs.height:0),newTr.scale(Math.abs(newScaleX),Math.abs(newScaleY))):(newTr.translate(newAttrs.x,newAttrs.y),newTr.rotate(newAttrs.rotation),newTr.scale(newScaleX,newScaleY));const delta=newTr.multiply(oldTr.invert());this._nodes.forEach((node=>{var _a;const parentTransform=node.getParent().getAbsoluteTransform(),localTransform=node.getTransform().copy();localTransform.translate(node.offsetX(),node.offsetY());const newLocalTransform=new Util_1.Transform;newLocalTransform.multiply(parentTransform.copy().invert()).multiply(delta).multiply(parentTransform).multiply(localTransform);const attrs=newLocalTransform.decompose();node.setAttrs(attrs),null===(_a=node.getLayer())||void 0===_a||_a.batchDraw()})),this.rotation(Util_1.Util._getRotation(newAttrs.rotation)),this._nodes.forEach((node=>{this._fire("transform",{evt,target:node}),node._fire("transform",{evt,target:node})})),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(selector,attrs){this.findOne(selector).setAttrs(attrs)}update(){var _a;const attrs=this._getNodeRect();this.rotation(Util_1.Util._getRotation(attrs.rotation));const width=attrs.width,height=attrs.height,enabledAnchors=this.enabledAnchors(),resizeEnabled=this.resizeEnabled(),padding=this.padding(),anchorSize=this.anchorSize(),anchors=this.find("._anchor");anchors.forEach((node=>{node.setAttrs({width:anchorSize,height:anchorSize,offsetX:anchorSize/2,offsetY:anchorSize/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:anchorSize/2+padding,offsetY:anchorSize/2+padding,visible:resizeEnabled&&enabledAnchors.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:width/2,y:0,offsetY:anchorSize/2+padding,visible:resizeEnabled&&enabledAnchors.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:width,y:0,offsetX:anchorSize/2-padding,offsetY:anchorSize/2+padding,visible:resizeEnabled&&enabledAnchors.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:height/2,offsetX:anchorSize/2+padding,visible:resizeEnabled&&enabledAnchors.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:width,y:height/2,offsetX:anchorSize/2-padding,visible:resizeEnabled&&enabledAnchors.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:height,offsetX:anchorSize/2+padding,offsetY:anchorSize/2-padding,visible:resizeEnabled&&enabledAnchors.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:width/2,y:height,offsetY:anchorSize/2-padding,visible:resizeEnabled&&enabledAnchors.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:width,y:height,offsetX:anchorSize/2-padding,offsetY:anchorSize/2-padding,visible:resizeEnabled&&enabledAnchors.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:width/2,y:-this.rotateAnchorOffset()*Util_1.Util._sign(height)-padding,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width,height,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const styleFunc=this.anchorStyleFunc();styleFunc&&anchors.forEach((node=>{styleFunc(node)})),null===(_a=this.getLayer())||void 0===_a||_a.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const anchorNode=this.findOne("."+this._movingAnchorName);anchorNode&&anchorNode.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Group_1.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Node_1.Node.prototype.toObject.call(this)}clone(obj){return Node_1.Node.prototype.clone.call(this,obj)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}exports.Transformer=Transformer,Transformer.isTransforming=()=>activeTransformersCount>0,Transformer.prototype.className="Transformer",(0,Global_2._registerNode)(Transformer),Factory_1.Factory.addGetterSetter(Transformer,"enabledAnchors",ANCHORS_NAMES,(function validateAnchors(val){return val instanceof Array||Util_1.Util.warn("enabledAnchors value should be an array"),val instanceof Array&&val.forEach((function(name){-1===ANCHORS_NAMES.indexOf(name)&&Util_1.Util.warn("Unknown anchor name: "+name+". Available names are: "+ANCHORS_NAMES.join(", "))})),val||[]})),Factory_1.Factory.addGetterSetter(Transformer,"flipEnabled",!0,(0,Validators_1.getBooleanValidator)()),Factory_1.Factory.addGetterSetter(Transformer,"resizeEnabled",!0),Factory_1.Factory.addGetterSetter(Transformer,"anchorSize",10,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Transformer,"rotateEnabled",!0),Factory_1.Factory.addGetterSetter(Transformer,"rotateLineVisible",!0),Factory_1.Factory.addGetterSetter(Transformer,"rotationSnaps",[]),Factory_1.Factory.addGetterSetter(Transformer,"rotateAnchorOffset",50,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Transformer,"rotateAnchorCursor","crosshair"),Factory_1.Factory.addGetterSetter(Transformer,"rotationSnapTolerance",5,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Transformer,"borderEnabled",!0),Factory_1.Factory.addGetterSetter(Transformer,"anchorStroke","rgb(0, 161, 255)"),Factory_1.Factory.addGetterSetter(Transformer,"anchorStrokeWidth",1,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Transformer,"anchorFill","white"),Factory_1.Factory.addGetterSetter(Transformer,"anchorCornerRadius",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Transformer,"borderStroke","rgb(0, 161, 255)"),Factory_1.Factory.addGetterSetter(Transformer,"borderStrokeWidth",1,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Transformer,"borderDash"),Factory_1.Factory.addGetterSetter(Transformer,"keepRatio",!0),Factory_1.Factory.addGetterSetter(Transformer,"shiftBehavior","default"),Factory_1.Factory.addGetterSetter(Transformer,"centeredScaling",!1),Factory_1.Factory.addGetterSetter(Transformer,"ignoreStroke",!1),Factory_1.Factory.addGetterSetter(Transformer,"padding",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Transformer,"node"),Factory_1.Factory.addGetterSetter(Transformer,"nodes"),Factory_1.Factory.addGetterSetter(Transformer,"boundBoxFunc"),Factory_1.Factory.addGetterSetter(Transformer,"anchorDragBoundFunc"),Factory_1.Factory.addGetterSetter(Transformer,"anchorStyleFunc"),Factory_1.Factory.addGetterSetter(Transformer,"shouldOverdrawWholeArea",!1),Factory_1.Factory.addGetterSetter(Transformer,"useSingleNodeRotation",!0),Factory_1.Factory.backCompat(Transformer,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})},"./node_modules/konva/lib/shapes/Wedge.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Wedge=void 0;const Factory_1=__webpack_require__("./node_modules/konva/lib/Factory.js"),Shape_1=__webpack_require__("./node_modules/konva/lib/Shape.js"),Global_1=__webpack_require__("./node_modules/konva/lib/Global.js"),Validators_1=__webpack_require__("./node_modules/konva/lib/Validators.js"),Global_2=__webpack_require__("./node_modules/konva/lib/Global.js");class Wedge extends Shape_1.Shape{_sceneFunc(context){context.beginPath(),context.arc(0,0,this.radius(),0,Global_1.Konva.getAngle(this.angle()),this.clockwise()),context.lineTo(0,0),context.closePath(),context.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(width){this.radius(width/2)}setHeight(height){this.radius(height/2)}}exports.Wedge=Wedge,Wedge.prototype.className="Wedge",Wedge.prototype._centroid=!0,Wedge.prototype._attrsAffectingSize=["radius"],(0,Global_2._registerNode)(Wedge),Factory_1.Factory.addGetterSetter(Wedge,"radius",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Wedge,"angle",0,(0,Validators_1.getNumberValidator)()),Factory_1.Factory.addGetterSetter(Wedge,"clockwise",!1),Factory_1.Factory.backCompat(Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})},"./node_modules/next/dist/client/image-component.js":(module,exports,__webpack_require__)=>{var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Image",{enumerable:!0,get:function(){return Image}});const _interop_require_default=__webpack_require__("./node_modules/@swc/helpers/cjs/_interop_require_default.cjs"),_interop_require_wildcard=__webpack_require__("./node_modules/@swc/helpers/cjs/_interop_require_wildcard.cjs"),_jsxruntime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_react=_interop_require_wildcard._(__webpack_require__("./node_modules/next/dist/compiled/react/index.js")),_reactdom=_interop_require_default._(__webpack_require__("./node_modules/next/dist/compiled/react-dom/index.js")),_head=_interop_require_default._(__webpack_require__("./node_modules/next/dist/shared/lib/head.js")),_getimgprops=__webpack_require__("./node_modules/next/dist/shared/lib/get-img-props.js"),_imageconfig=__webpack_require__("./node_modules/next/dist/shared/lib/image-config.js"),_imageconfigcontextsharedruntime=__webpack_require__("./node_modules/next/dist/shared/lib/image-config-context.shared-runtime.js"),_routercontextsharedruntime=(__webpack_require__("./node_modules/next/dist/shared/lib/utils/warn-once.js"),__webpack_require__("./node_modules/next/dist/shared/lib/router-context.shared-runtime.js")),_imageloader=_interop_require_default._(__webpack_require__("./node_modules/next/dist/shared/lib/image-loader.js")),configEnv=process.env.__NEXT_IMAGE_OPTS;function handleLoading(img,placeholder,onLoadRef,onLoadingCompleteRef,setBlurComplete,unoptimized,sizesInput){const src=null==img?void 0:img.src;if(!img||img["data-loaded-src"]===src)return;img["data-loaded-src"]=src;("decode"in img?img.decode():Promise.resolve()).catch((()=>{})).then((()=>{if(img.parentElement&&img.isConnected){if("empty"!==placeholder&&setBlurComplete(!0),null==onLoadRef?void 0:onLoadRef.current){const event=new Event("load");Object.defineProperty(event,"target",{writable:!1,value:img});let prevented=!1,stopped=!1;onLoadRef.current({...event,nativeEvent:event,currentTarget:img,target:img,isDefaultPrevented:()=>prevented,isPropagationStopped:()=>stopped,persist:()=>{},preventDefault:()=>{prevented=!0,event.preventDefault()},stopPropagation:()=>{stopped=!0,event.stopPropagation()}})}(null==onLoadingCompleteRef?void 0:onLoadingCompleteRef.current)&&onLoadingCompleteRef.current(img)}}))}function getDynamicProps(fetchPriority){return Boolean(_react.use)?{fetchPriority}:{fetchpriority:fetchPriority}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);const ImageElement=(0,_react.forwardRef)(((param,forwardedRef)=>{let{src,srcSet,sizes,height,width,decoding,className,style,fetchPriority,placeholder,loading,unoptimized,fill,onLoadRef,onLoadingCompleteRef,setBlurComplete,setShowAltText,sizesInput,onLoad,onError,...rest}=param;return(0,_jsxruntime.jsx)("img",{...rest,...getDynamicProps(fetchPriority),loading,width,height,decoding,"data-nimg":fill?"fill":"1",className,style,sizes,srcSet,src,ref:(0,_react.useCallback)((img=>{forwardedRef&&("function"==typeof forwardedRef?forwardedRef(img):"object"==typeof forwardedRef&&(forwardedRef.current=img)),img&&(onError&&(img.src=img.src),img.complete&&handleLoading(img,placeholder,onLoadRef,onLoadingCompleteRef,setBlurComplete))}),[src,placeholder,onLoadRef,onLoadingCompleteRef,setBlurComplete,onError,unoptimized,sizesInput,forwardedRef]),onLoad:event=>{handleLoading(event.currentTarget,placeholder,onLoadRef,onLoadingCompleteRef,setBlurComplete)},onError:event=>{setShowAltText(!0),"empty"!==placeholder&&setBlurComplete(!0),onError&&onError(event)}})}));function ImagePreload(param){let{isAppRouter,imgAttributes}=param;const opts={as:"image",imageSrcSet:imgAttributes.srcSet,imageSizes:imgAttributes.sizes,crossOrigin:imgAttributes.crossOrigin,referrerPolicy:imgAttributes.referrerPolicy,...getDynamicProps(imgAttributes.fetchPriority)};return isAppRouter&&_reactdom.default.preload?(_reactdom.default.preload(imgAttributes.src,opts),null):(0,_jsxruntime.jsx)(_head.default,{children:(0,_jsxruntime.jsx)("link",{rel:"preload",href:imgAttributes.srcSet?void 0:imgAttributes.src,...opts},"__nimg-"+imgAttributes.src+imgAttributes.srcSet+imgAttributes.sizes)})}const Image=(0,_react.forwardRef)(((props,forwardedRef)=>{const isAppRouter=!(0,_react.useContext)(_routercontextsharedruntime.RouterContext),configContext=(0,_react.useContext)(_imageconfigcontextsharedruntime.ImageConfigContext),config=(0,_react.useMemo)((()=>{const c=configEnv||configContext||_imageconfig.imageConfigDefault,allSizes=[...c.deviceSizes,...c.imageSizes].sort(((a,b)=>a-b)),deviceSizes=c.deviceSizes.sort(((a,b)=>a-b));return{...c,allSizes,deviceSizes}}),[configContext]),{onLoad,onLoadingComplete}=props,onLoadRef=(0,_react.useRef)(onLoad);(0,_react.useEffect)((()=>{onLoadRef.current=onLoad}),[onLoad]);const onLoadingCompleteRef=(0,_react.useRef)(onLoadingComplete);(0,_react.useEffect)((()=>{onLoadingCompleteRef.current=onLoadingComplete}),[onLoadingComplete]);const[blurComplete,setBlurComplete]=(0,_react.useState)(!1),[showAltText,setShowAltText]=(0,_react.useState)(!1),{props:imgAttributes,meta:imgMeta}=(0,_getimgprops.getImgProps)(props,{defaultLoader:_imageloader.default,imgConf:config,blurComplete,showAltText});return(0,_jsxruntime.jsxs)(_jsxruntime.Fragment,{children:[(0,_jsxruntime.jsx)(ImageElement,{...imgAttributes,unoptimized:imgMeta.unoptimized,placeholder:imgMeta.placeholder,fill:imgMeta.fill,onLoadRef,onLoadingCompleteRef,setBlurComplete,setShowAltText,sizesInput:props.sizes,ref:forwardedRef}),imgMeta.priority?(0,_jsxruntime.jsx)(ImagePreload,{isAppRouter,imgAttributes}):null]})}));("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/shared/lib/amp-context.shared-runtime.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AmpStateContext",{enumerable:!0,get:function(){return AmpStateContext}});const AmpStateContext=__webpack_require__("./node_modules/@swc/helpers/cjs/_interop_require_default.cjs")._(__webpack_require__("./node_modules/next/dist/compiled/react/index.js")).default.createContext({})},"./node_modules/next/dist/shared/lib/amp-mode.js":(__unused_webpack_module,exports)=>{"use strict";function isInAmpMode(param){let{ampFirst=!1,hybrid=!1,hasQuery=!1}=void 0===param?{}:param;return ampFirst||hybrid&&hasQuery}Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"isInAmpMode",{enumerable:!0,get:function(){return isInAmpMode}})},"./node_modules/next/dist/shared/lib/get-img-props.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getImgProps",{enumerable:!0,get:function(){return getImgProps}});__webpack_require__("./node_modules/next/dist/shared/lib/utils/warn-once.js");const _imageblursvg=__webpack_require__("./node_modules/next/dist/shared/lib/image-blur-svg.js"),_imageconfig=__webpack_require__("./node_modules/next/dist/shared/lib/image-config.js");function isStaticRequire(src){return void 0!==src.default}new Map;function getInt(x){return void 0===x?x:"number"==typeof x?Number.isFinite(x)?x:NaN:"string"==typeof x&&/^[0-9]+$/.test(x)?parseInt(x,10):NaN}function generateImgAttrs(param){let{config,src,unoptimized,width,quality,sizes,loader}=param;if(unoptimized)return{src,srcSet:void 0,sizes:void 0};const{widths,kind}=function getWidths(param,width,sizes){let{deviceSizes,allSizes}=param;if(sizes){const viewportWidthRe=/(^|\s)(1?\d?\d)vw/g,percentSizes=[];for(let match;match=viewportWidthRe.exec(sizes);match)percentSizes.push(parseInt(match[2]));if(percentSizes.length){const smallestRatio=.01*Math.min(...percentSizes);return{widths:allSizes.filter((s=>s>=deviceSizes[0]*smallestRatio)),kind:"w"}}return{widths:allSizes,kind:"w"}}return"number"!=typeof width?{widths:deviceSizes,kind:"w"}:{widths:[...new Set([width,2*width].map((w=>allSizes.find((p=>p>=w))||allSizes[allSizes.length-1])))],kind:"x"}}(config,width,sizes),last=widths.length-1;return{sizes:sizes||"w"!==kind?sizes:"100vw",srcSet:widths.map(((w,i)=>loader({config,src,quality,width:w})+" "+("w"===kind?w:i+1)+kind)).join(", "),src:loader({config,src,quality,width:widths[last]})}}function getImgProps(param,_state){let{src,sizes,unoptimized=!1,priority=!1,loading,className,quality,width,height,fill=!1,style,overrideSrc,onLoad,onLoadingComplete,placeholder="empty",blurDataURL,fetchPriority,layout,objectFit,objectPosition,lazyBoundary,lazyRoot,...rest}=param;const{imgConf,showAltText,blurComplete,defaultLoader}=_state;let config,c=imgConf||_imageconfig.imageConfigDefault;if("allSizes"in c)config=c;else{const allSizes=[...c.deviceSizes,...c.imageSizes].sort(((a,b)=>a-b)),deviceSizes=c.deviceSizes.sort(((a,b)=>a-b));config={...c,allSizes,deviceSizes}}if(void 0===defaultLoader)throw new Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");let loader=rest.loader||defaultLoader;delete rest.loader,delete rest.srcSet;const isDefaultLoader="__next_img_default"in loader;if(isDefaultLoader){if("custom"===config.loader)throw new Error('Image with src "'+src+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{const customImageLoader=loader;loader=obj=>{const{config:_,...opts}=obj;return customImageLoader(opts)}}if(layout){"fill"===layout&&(fill=!0);const layoutToSizes={responsive:"100vw",fill:"100vw"},layoutStyle={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[layout];layoutStyle&&(style={...style,...layoutStyle});const layoutSizes=layoutToSizes[layout];layoutSizes&&!sizes&&(sizes=layoutSizes)}let blurWidth,blurHeight,staticSrc="",widthInt=getInt(width),heightInt=getInt(height);if(function isStaticImport(src){return"object"==typeof src&&(isStaticRequire(src)||function isStaticImageData(src){return void 0!==src.src}(src))}(src)){const staticImageData=isStaticRequire(src)?src.default:src;if(!staticImageData.src)throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(staticImageData));if(!staticImageData.height||!staticImageData.width)throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(staticImageData));if(blurWidth=staticImageData.blurWidth,blurHeight=staticImageData.blurHeight,blurDataURL=blurDataURL||staticImageData.blurDataURL,staticSrc=staticImageData.src,!fill)if(widthInt||heightInt){if(widthInt&&!heightInt){const ratio=widthInt/staticImageData.width;heightInt=Math.round(staticImageData.height*ratio)}else if(!widthInt&&heightInt){const ratio=heightInt/staticImageData.height;widthInt=Math.round(staticImageData.width*ratio)}}else widthInt=staticImageData.width,heightInt=staticImageData.height}src="string"==typeof src?src:staticSrc;let isLazy=!priority&&("lazy"===loading||void 0===loading);(!src||src.startsWith("data:")||src.startsWith("blob:"))&&(unoptimized=!0,isLazy=!1),config.unoptimized&&(unoptimized=!0),isDefaultLoader&&src.endsWith(".svg")&&!config.dangerouslyAllowSVG&&(unoptimized=!0),priority&&(fetchPriority="high");const qualityInt=getInt(quality);const imgStyle=Object.assign(fill?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit,objectPosition}:{},showAltText?{}:{color:"transparent"},style),backgroundImage=blurComplete||"empty"===placeholder?null:"blur"===placeholder?'url("data:image/svg+xml;charset=utf-8,'+(0,_imageblursvg.getImageBlurSvg)({widthInt,heightInt,blurWidth,blurHeight,blurDataURL:blurDataURL||"",objectFit:imgStyle.objectFit})+'")':'url("'+placeholder+'")';let placeholderStyle=backgroundImage?{backgroundSize:imgStyle.objectFit||"cover",backgroundPosition:imgStyle.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage}:{};const imgAttributes=generateImgAttrs({config,src,unoptimized,width:widthInt,quality:qualityInt,sizes,loader});return{props:{...rest,loading:isLazy?"lazy":loading,fetchPriority,width:widthInt,height:heightInt,decoding:"async",className,style:{...imgStyle,...placeholderStyle},sizes:imgAttributes.sizes,srcSet:imgAttributes.srcSet,src:overrideSrc||imgAttributes.src},meta:{unoptimized,priority,placeholder,fill}}}},"./node_modules/next/dist/shared/lib/head.js":(module,exports,__webpack_require__)=>{var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),function _export(target,all){for(var name in all)Object.defineProperty(target,name,{enumerable:!0,get:all[name]})}(exports,{default:function(){return _default},defaultHead:function(){return defaultHead}});const _interop_require_default=__webpack_require__("./node_modules/@swc/helpers/cjs/_interop_require_default.cjs"),_interop_require_wildcard=__webpack_require__("./node_modules/@swc/helpers/cjs/_interop_require_wildcard.cjs"),_jsxruntime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_react=_interop_require_wildcard._(__webpack_require__("./node_modules/next/dist/compiled/react/index.js")),_sideeffect=_interop_require_default._(__webpack_require__("./node_modules/next/dist/shared/lib/side-effect.js")),_ampcontextsharedruntime=__webpack_require__("./node_modules/next/dist/shared/lib/amp-context.shared-runtime.js"),_headmanagercontextsharedruntime=__webpack_require__("./node_modules/next/dist/shared/lib/head-manager-context.shared-runtime.js"),_ampmode=__webpack_require__("./node_modules/next/dist/shared/lib/amp-mode.js");__webpack_require__("./node_modules/next/dist/shared/lib/utils/warn-once.js");function defaultHead(inAmpMode){void 0===inAmpMode&&(inAmpMode=!1);const head=[(0,_jsxruntime.jsx)("meta",{charSet:"utf-8"})];return inAmpMode||head.push((0,_jsxruntime.jsx)("meta",{name:"viewport",content:"width=device-width"})),head}function onlyReactElement(list,child){return"string"==typeof child||"number"==typeof child?list:child.type===_react.default.Fragment?list.concat(_react.default.Children.toArray(child.props.children).reduce(((fragmentList,fragmentChild)=>"string"==typeof fragmentChild||"number"==typeof fragmentChild?fragmentList:fragmentList.concat(fragmentChild)),[])):list.concat(child)}const METATYPES=["name","httpEquiv","charSet","itemProp"];function reduceComponents(headChildrenElements,props){const{inAmpMode}=props;return headChildrenElements.reduce(onlyReactElement,[]).reverse().concat(defaultHead(inAmpMode).reverse()).filter(function unique(){const keys=new Set,tags=new Set,metaTypes=new Set,metaCategories={};return h=>{let isUnique=!0,hasKey=!1;if(h.key&&"number"!=typeof h.key&&h.key.indexOf("$")>0){hasKey=!0;const key=h.key.slice(h.key.indexOf("$")+1);keys.has(key)?isUnique=!1:keys.add(key)}switch(h.type){case"title":case"base":tags.has(h.type)?isUnique=!1:tags.add(h.type);break;case"meta":for(let i=0,len=METATYPES.length;i<len;i++){const metatype=METATYPES[i];if(h.props.hasOwnProperty(metatype))if("charSet"===metatype)metaTypes.has(metatype)?isUnique=!1:metaTypes.add(metatype);else{const category=h.props[metatype],categories=metaCategories[metatype]||new Set;"name"===metatype&&hasKey||!categories.has(category)?(categories.add(category),metaCategories[metatype]=categories):isUnique=!1}}}return isUnique}}()).reverse().map(((c,i)=>{const key=c.key||i;if(process.env.__NEXT_OPTIMIZE_FONTS&&!inAmpMode&&"link"===c.type&&c.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some((url=>c.props.href.startsWith(url)))){const newProps={...c.props||{}};return newProps["data-href"]=newProps.href,newProps.href=void 0,newProps["data-optimized-fonts"]=!0,_react.default.cloneElement(c,newProps)}return _react.default.cloneElement(c,{key})}))}const _default=function Head(param){let{children}=param;const ampState=(0,_react.useContext)(_ampcontextsharedruntime.AmpStateContext),headManager=(0,_react.useContext)(_headmanagercontextsharedruntime.HeadManagerContext);return(0,_jsxruntime.jsx)(_sideeffect.default,{reduceComponentsToState:reduceComponents,headManager,inAmpMode:(0,_ampmode.isInAmpMode)(ampState),children})};("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/shared/lib/image-blur-svg.js":(__unused_webpack_module,exports)=>{"use strict";function getImageBlurSvg(param){let{widthInt,heightInt,blurWidth,blurHeight,blurDataURL,objectFit}=param;const svgWidth=blurWidth?40*blurWidth:widthInt,svgHeight=blurHeight?40*blurHeight:heightInt,viewBox=svgWidth&&svgHeight?"viewBox='0 0 "+svgWidth+" "+svgHeight+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+viewBox+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(viewBox?"none":"contain"===objectFit?"xMidYMid":"cover"===objectFit?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+blurDataURL+"'/%3E%3C/svg%3E"}Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getImageBlurSvg",{enumerable:!0,get:function(){return getImageBlurSvg}})},"./node_modules/next/dist/shared/lib/image-config-context.shared-runtime.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"ImageConfigContext",{enumerable:!0,get:function(){return ImageConfigContext}});const _react=__webpack_require__("./node_modules/@swc/helpers/cjs/_interop_require_default.cjs")._(__webpack_require__("./node_modules/next/dist/compiled/react/index.js")),_imageconfig=__webpack_require__("./node_modules/next/dist/shared/lib/image-config.js"),ImageConfigContext=_react.default.createContext(_imageconfig.imageConfigDefault)},"./node_modules/next/dist/shared/lib/image-config.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function _export(target,all){for(var name in all)Object.defineProperty(target,name,{enumerable:!0,get:all[name]})}(exports,{VALID_LOADERS:function(){return VALID_LOADERS},imageConfigDefault:function(){return imageConfigDefault}});const VALID_LOADERS=["default","imgix","cloudinary","akamai","custom"],imageConfigDefault={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1}},"./node_modules/next/dist/shared/lib/image-external.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),function _export(target,all){for(var name in all)Object.defineProperty(target,name,{enumerable:!0,get:all[name]})}(exports,{default:function(){return _default},getImageProps:function(){return getImageProps}});const _interop_require_default=__webpack_require__("./node_modules/@swc/helpers/cjs/_interop_require_default.cjs"),_getimgprops=__webpack_require__("./node_modules/next/dist/shared/lib/get-img-props.js"),_imagecomponent=__webpack_require__("./node_modules/next/dist/client/image-component.js"),_imageloader=_interop_require_default._(__webpack_require__("./node_modules/next/dist/shared/lib/image-loader.js"));function getImageProps(imgProps){const{props}=(0,_getimgprops.getImgProps)(imgProps,{defaultLoader:_imageloader.default,imgConf:process.env.__NEXT_IMAGE_OPTS});for(const[key,value]of Object.entries(props))void 0===value&&delete props[key];return{props}}const _default=_imagecomponent.Image},"./node_modules/next/dist/shared/lib/image-loader.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");function defaultLoader(param){let{config,src,width,quality}=param;return config.path+"?url="+encodeURIComponent(src)+"&w="+width+"&q="+(quality||75)+(process.env.NEXT_DEPLOYMENT_ID?"&dpl="+process.env.NEXT_DEPLOYMENT_ID:"")}Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return _default}}),defaultLoader.__next_img_default=!0;const _default=defaultLoader},"./node_modules/next/dist/shared/lib/side-effect.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return SideEffect}});const _react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),isServer="undefined"==typeof window,useClientOnlyLayoutEffect=isServer?()=>{}:_react.useLayoutEffect,useClientOnlyEffect=isServer?()=>{}:_react.useEffect;function SideEffect(props){const{headManager,reduceComponentsToState}=props;function emitChange(){if(headManager&&headManager.mountedInstances){const headElements=_react.Children.toArray(Array.from(headManager.mountedInstances).filter(Boolean));headManager.updateHead(reduceComponentsToState(headElements,props))}}var _headManager_mountedInstances;isServer&&(null==headManager||null==(_headManager_mountedInstances=headManager.mountedInstances)||_headManager_mountedInstances.add(props.children),emitChange());return useClientOnlyLayoutEffect((()=>{var _headManager_mountedInstances;return null==headManager||null==(_headManager_mountedInstances=headManager.mountedInstances)||_headManager_mountedInstances.add(props.children),()=>{var _headManager_mountedInstances;null==headManager||null==(_headManager_mountedInstances=headManager.mountedInstances)||_headManager_mountedInstances.delete(props.children)}})),useClientOnlyLayoutEffect((()=>(headManager&&(headManager._pendingUpdate=emitChange),()=>{headManager&&(headManager._pendingUpdate=emitChange)}))),useClientOnlyEffect((()=>(headManager&&headManager._pendingUpdate&&(headManager._pendingUpdate(),headManager._pendingUpdate=null),()=>{headManager&&headManager._pendingUpdate&&(headManager._pendingUpdate(),headManager._pendingUpdate=null)}))),null}},"./node_modules/next/dist/shared/lib/utils/warn-once.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"warnOnce",{enumerable:!0,get:function(){return warnOnce}});let warnOnce=_=>{}},"./node_modules/next/image.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/next/dist/shared/lib/image-external.js")},"./node_modules/react-konva/es/ReactKonva.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{jl:()=>Circle,Wd:()=>Layer,yp:()=>Shape,BI:()=>Stage});var ReactKonvaHostConfig_namespaceObject={};__webpack_require__.r(ReactKonvaHostConfig_namespaceObject),__webpack_require__.d(ReactKonvaHostConfig_namespaceObject,{appendChild:()=>appendChild,appendChildToContainer:()=>appendChildToContainer,appendInitialChild:()=>appendInitialChild,cancelTimeout:()=>cancelTimeout,clearContainer:()=>clearContainer,commitMount:()=>commitMount,commitTextUpdate:()=>commitTextUpdate,commitUpdate:()=>commitUpdate,createInstance:()=>createInstance,createTextInstance:()=>createTextInstance,detachDeletedInstance:()=>detachDeletedInstance,finalizeInitialChildren:()=>finalizeInitialChildren,getChildHostContext:()=>getChildHostContext,getCurrentEventPriority:()=>getCurrentEventPriority,getPublicInstance:()=>getPublicInstance,getRootHostContext:()=>getRootHostContext,hideInstance:()=>hideInstance,hideTextInstance:()=>hideTextInstance,idlePriority:()=>scheduler.unstable_IdlePriority,insertBefore:()=>insertBefore,insertInContainerBefore:()=>insertInContainerBefore,isPrimaryRenderer:()=>isPrimaryRenderer,noTimeout:()=>noTimeout,now:()=>scheduler.unstable_now,prepareForCommit:()=>prepareForCommit,preparePortalMount:()=>preparePortalMount,prepareUpdate:()=>prepareUpdate,removeChild:()=>removeChild,removeChildFromContainer:()=>removeChildFromContainer,resetAfterCommit:()=>resetAfterCommit,resetTextContent:()=>resetTextContent,run:()=>scheduler.unstable_runWithPriority,scheduleTimeout:()=>scheduleTimeout,shouldDeprioritizeSubtree:()=>shouldDeprioritizeSubtree,shouldSetTextContent:()=>shouldSetTextContent,supportsMutation:()=>supportsMutation,unhideInstance:()=>unhideInstance,unhideTextInstance:()=>unhideTextInstance,warnsIfNotActing:()=>warnsIfNotActing});__webpack_require__("./node_modules/konva/lib/index.js");var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),Core=__webpack_require__("./node_modules/konva/lib/Core.js"),Core_default=__webpack_require__.n(Core),react_reconciler=__webpack_require__("./node_modules/react-reconciler/index.js"),react_reconciler_default=__webpack_require__.n(react_reconciler),constants=__webpack_require__("./node_modules/react-reconciler/constants.js"),Global=__webpack_require__("./node_modules/konva/lib/Global.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const propsToSkip={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let zIndexWarningShowed=!1,dragWarningShowed=!1;const EVENTS_NAMESPACE=".react-konva-event";let useStrictMode=!1;const DRAGGABLE_WARNING="ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\nConsider to add onDragMove or onDragEnd events.\nFor more info see: https://github.com/konvajs/react-konva/issues/256\n",Z_INDEX_WARNING='ReactKonva: You are using "zIndex" attribute for a Konva node.\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\nFor more info see: https://github.com/konvajs/react-konva/issues/194\n',EMPTY_PROPS={};function applyNodeProps(instance,props,oldProps=EMPTY_PROPS){if(!zIndexWarningShowed&&"zIndex"in props&&(console.warn(Z_INDEX_WARNING),zIndexWarningShowed=!0),!dragWarningShowed&&props.draggable){var hasPosition=void 0!==props.x||void 0!==props.y,hasEvents=props.onDragEnd||props.onDragMove;hasPosition&&!hasEvents&&(console.warn(DRAGGABLE_WARNING),dragWarningShowed=!0)}for(var key in oldProps)if(!propsToSkip[key]){var isEvent="on"===key.slice(0,2),propChanged=oldProps[key]!==props[key];if(isEvent&&propChanged)"content"===(eventName=key.substr(2).toLowerCase()).substr(0,7)&&(eventName="content"+eventName.substr(7,1).toUpperCase()+eventName.substr(8)),instance.off(eventName,oldProps[key]);!props.hasOwnProperty(key)&&instance.setAttr(key,void 0)}var strictUpdate=useStrictMode||props._useStrictMode,updatedProps={},hasUpdates=!1;const newEvents={};for(var key in props)if(!propsToSkip[key]){isEvent="on"===key.slice(0,2);var toAdd=oldProps[key]!==props[key];if(isEvent&&toAdd)"content"===(eventName=key.substr(2).toLowerCase()).substr(0,7)&&(eventName="content"+eventName.substr(7,1).toUpperCase()+eventName.substr(8)),props[key]&&(newEvents[eventName]=props[key]);!isEvent&&(props[key]!==oldProps[key]||strictUpdate&&props[key]!==instance.getAttr(key))&&(hasUpdates=!0,updatedProps[key]=props[key])}for(var eventName in hasUpdates&&(instance.setAttrs(updatedProps),updatePicture(instance)),newEvents)instance.on(eventName+EVENTS_NAMESPACE,newEvents[eventName])}function updatePicture(node){if(!Global.Konva.autoDrawEnabled){var drawingNode=node.getLayer()||node.getStage();drawingNode&&drawingNode.batchDraw()}}var scheduler=__webpack_require__("./node_modules/scheduler/index.js"),ReactKonvaHostConfig_console=__webpack_require__("./node_modules/console-browserify/index.js");const NO_CONTEXT={},UPDATE_SIGNAL={};function appendInitialChild(parentInstance,child){"string"!=typeof child?(parentInstance.add(child),updatePicture(parentInstance)):ReactKonvaHostConfig_console.error(`Do not use plain text as child of Konva.Node. You are using text: ${child}`)}function createInstance(type,props,internalInstanceHandle){let NodeClass=Core_default()[type];NodeClass||(ReactKonvaHostConfig_console.error(`Konva has no node with the type ${type}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${type}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),NodeClass=Core_default().Group);const propsWithoutEvents={},propsWithOnlyEvents={};for(var key in props){"on"===key.slice(0,2)?propsWithOnlyEvents[key]=props[key]:propsWithoutEvents[key]=props[key]}const instance=new NodeClass(propsWithoutEvents);return applyNodeProps(instance,propsWithOnlyEvents),instance}function createTextInstance(text,rootContainerInstance,internalInstanceHandle){ReactKonvaHostConfig_console.error(`Text components are not supported for now in ReactKonva. Your text is: "${text}"`)}function finalizeInitialChildren(domElement,type,props){return!1}function getPublicInstance(instance){return instance}function prepareForCommit(){return null}function preparePortalMount(){return null}function prepareUpdate(domElement,type,oldProps,newProps){return UPDATE_SIGNAL}function resetAfterCommit(){}function resetTextContent(domElement){}function shouldDeprioritizeSubtree(type,props){return!1}function getRootHostContext(){return NO_CONTEXT}function getChildHostContext(){return NO_CONTEXT}Core_default().Node.prototype._applyProps=applyNodeProps;const scheduleTimeout=setTimeout,cancelTimeout=clearTimeout,noTimeout=-1;function shouldSetTextContent(type,props){return!1}const isPrimaryRenderer=!1,warnsIfNotActing=!0,supportsMutation=!0;function appendChild(parentInstance,child){child.parent===parentInstance?child.moveToTop():parentInstance.add(child),updatePicture(parentInstance)}function appendChildToContainer(parentInstance,child){child.parent===parentInstance?child.moveToTop():parentInstance.add(child),updatePicture(parentInstance)}function insertBefore(parentInstance,child,beforeChild){child._remove(),parentInstance.add(child),child.setZIndex(beforeChild.getZIndex()),updatePicture(parentInstance)}function insertInContainerBefore(parentInstance,child,beforeChild){insertBefore(parentInstance,child,beforeChild)}function removeChild(parentInstance,child){child.destroy(),child.off(EVENTS_NAMESPACE),updatePicture(parentInstance)}function removeChildFromContainer(parentInstance,child){child.destroy(),child.off(EVENTS_NAMESPACE),updatePicture(parentInstance)}function commitTextUpdate(textInstance,oldText,newText){ReactKonvaHostConfig_console.error(`Text components are not yet supported in ReactKonva. You text is: "${newText}"`)}function commitMount(instance,type,newProps){}function commitUpdate(instance,updatePayload,type,oldProps,newProps){applyNodeProps(instance,newProps,oldProps)}function hideInstance(instance){instance.hide(),updatePicture(instance)}function hideTextInstance(textInstance){}function unhideInstance(instance,props){(null==props.visible||props.visible)&&instance.show()}function unhideTextInstance(textInstance,text){}function clearContainer(container){}function detachDeletedInstance(){}const getCurrentEventPriority=()=>constants.DefaultEventPriority;var _a,_b,dist_console=__webpack_require__("./node_modules/console-browserify/index.js"),__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a};"undefined"==typeof window||!(null==(_a=window.document)?void 0:_a.createElement)&&"ReactNative"!==(null==(_b=window.navigator)?void 0:_b.product)?react.useEffect:react.useLayoutEffect;function traverseFiber(fiber,ascending,selector){if(!fiber)return;if(!0===selector(fiber))return fiber;let child=ascending?fiber.return:fiber.child;for(;child;){const match=traverseFiber(child,ascending,selector);if(match)return match;child=ascending?null:child.sibling}}function wrapContext(context){try{return Object.defineProperties(context,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(_){return context}}const error=dist_console.error;dist_console.error=function(){const message=[...arguments].join("");if(!(null==message?void 0:message.startsWith("Warning:"))||!message.includes("useContext"))return error.apply(this,arguments);dist_console.error=error};const FiberContext=wrapContext(react.createContext(null));class FiberProvider extends react.Component{render(){return react.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const root=react.useContext(FiberContext);if(null===root)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const id=react.useId();return react.useMemo((()=>{for(const maybeFiber of[root,null==root?void 0:root.alternate]){if(!maybeFiber)continue;const fiber2=traverseFiber(maybeFiber,!1,(node=>{let state=node.memoizedState;for(;state;){if(state.memoizedState===id)return!0;state=state.next}}));if(fiber2)return fiber2}}),[root,id])}function useContextBridge(){const contextMap=function useContextMap(){const fiber=useFiber(),[contextMap]=react.useState((()=>new Map));contextMap.clear();let node=fiber;for(;node;){if(node.type&&"object"==typeof node.type){const context=void 0===node.type._context&&node.type.Provider===node.type?node.type:node.type._context;context&&context!==FiberContext&&!contextMap.has(context)&&contextMap.set(context,react.useContext(wrapContext(context)))}node=node.return}return contextMap}();return react.useMemo((()=>Array.from(contextMap.keys()).reduce(((Prev,context)=>props=>{return react.createElement(Prev,null,react.createElement(context.Provider,(a=__spreadValues({},props),b={value:contextMap.get(context)},__defProps(a,__getOwnPropDescs(b)))));var a,b}),(props=>react.createElement(FiberProvider,__spreadValues({},props))))),[contextMap])}const StageWrap=props=>{const container=react.useRef(),stage=react.useRef(),fiberRef=react.useRef(),oldProps=function usePrevious(value){const ref=react.useRef({});return react.useLayoutEffect((()=>{ref.current=value})),react.useLayoutEffect((()=>()=>{ref.current={}}),[]),ref.current}(props),Bridge=useContextBridge(),_setRef=stage=>{const{forwardedRef}=props;forwardedRef&&("function"==typeof forwardedRef?forwardedRef(stage):forwardedRef.current=stage)};return react.useLayoutEffect((()=>(stage.current=new(Core_default().Stage)({width:props.width,height:props.height,container:container.current}),_setRef(stage.current),fiberRef.current=KonvaRenderer.createContainer(stage.current,constants.LegacyRoot,!1,null),KonvaRenderer.updateContainer(react.createElement(Bridge,{},props.children),fiberRef.current),()=>{Core_default().isBrowser&&(_setRef(null),KonvaRenderer.updateContainer(null,fiberRef.current,null),stage.current.destroy())})),[]),react.useLayoutEffect((()=>{_setRef(stage.current),applyNodeProps(stage.current,props,oldProps),KonvaRenderer.updateContainer(react.createElement(Bridge,{},props.children),fiberRef.current,null)})),react.createElement("div",{ref:container,id:props.id,accessKey:props.accessKey,className:props.className,role:props.role,style:props.style,tabIndex:props.tabIndex,title:props.title})},Layer="Layer",Circle="Circle",Shape="Shape",KonvaRenderer=react_reconciler_default()(ReactKonvaHostConfig_namespaceObject);KonvaRenderer.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:react.version,rendererPackageName:"react-konva"});const Stage=react.forwardRef(((props,ref)=>react.createElement(FiberProvider,{},react.createElement(StageWrap,{...props,forwardedRef:ref}))))},"./node_modules/react-reconciler/cjs/react-reconciler-constants.production.min.js":(__unused_webpack_module,exports)=>{"use strict";exports.DefaultEventPriority=16,exports.LegacyRoot=0},"./node_modules/react-reconciler/cjs/react-reconciler.production.min.js":(module,__unused_webpack_exports,__webpack_require__)=>{var console=__webpack_require__("./node_modules/console-browserify/index.js");module.exports=function $$$reconciler($$$hostConfig){var exports={},aa=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),ba=__webpack_require__("./node_modules/scheduler/index.js"),ca=Object.assign;function n(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ea=Symbol.for("react.element"),fa=Symbol.for("react.portal"),ha=Symbol.for("react.fragment"),ia=Symbol.for("react.strict_mode"),ja=Symbol.for("react.profiler"),ka=Symbol.for("react.provider"),la=Symbol.for("react.context"),ma=Symbol.for("react.forward_ref"),na=Symbol.for("react.suspense"),oa=Symbol.for("react.suspense_list"),pa=Symbol.for("react.memo"),qa=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var ra=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var sa=Symbol.iterator;function ta(a){return null===a||"object"!=typeof a?null:"function"==typeof(a=sa&&a[sa]||a["@@iterator"])?a:null}function ua(a){if(null==a)return null;if("function"==typeof a)return a.displayName||a.name||null;if("string"==typeof a)return a;switch(a){case ha:return"Fragment";case fa:return"Portal";case ja:return"Profiler";case ia:return"StrictMode";case na:return"Suspense";case oa:return"SuspenseList"}if("object"==typeof a)switch(a.$$typeof){case la:return(a.displayName||"Context")+".Consumer";case ka:return(a._context.displayName||"Context")+".Provider";case ma:var b=a.render;return(a=a.displayName)||(a=""!==(a=b.displayName||b.name||"")?"ForwardRef("+a+")":"ForwardRef"),a;case pa:return null!==(b=a.displayName||null)?b:ua(a.type)||"Memo";case qa:b=a._payload,a=a._init;try{return ua(a(b))}catch(c){}}return null}function va(a){var b=a.type;switch(a.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=b.render).displayName||a.name||"",b.displayName||(""!==a?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ua(b);case 8:return b===ia?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof b)return b.displayName||b.name||null;if("string"==typeof b)return b}return null}function wa(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do{!!(4098&(b=a).flags)&&(c=b.return),a=b.return}while(a)}return 3===b.tag?c:null}function xa(a){if(wa(a)!==a)throw Error(n(188))}function za(a){var b=a.alternate;if(!b){if(null===(b=wa(a)))throw Error(n(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){if(null!==(d=e.return)){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return xa(e),a;if(f===d)return xa(e),b;f=f.sibling}throw Error(n(188))}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0,c=e,d=f;break}if(h===d){g=!0,d=e,c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0,c=f,d=e;break}if(h===d){g=!0,d=f,c=e;break}h=h.sibling}if(!g)throw Error(n(189))}}if(c.alternate!==d)throw Error(n(190))}if(3!==c.tag)throw Error(n(188));return c.stateNode.current===c?a:b}function Aa(a){return null!==(a=za(a))?Ba(a):null}function Ba(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=Ba(a);if(null!==b)return b;a=a.sibling}return null}function Ca(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){if(4!==a.tag){var b=Ca(a);if(null!==b)return b}a=a.sibling}return null}var bc,Da=Array.isArray,Ea=$$$hostConfig.getPublicInstance,Fa=$$$hostConfig.getRootHostContext,Ga=$$$hostConfig.getChildHostContext,Ha=$$$hostConfig.prepareForCommit,Ia=$$$hostConfig.resetAfterCommit,Ja=$$$hostConfig.createInstance,Ka=$$$hostConfig.appendInitialChild,La=$$$hostConfig.finalizeInitialChildren,Ma=$$$hostConfig.prepareUpdate,Na=$$$hostConfig.shouldSetTextContent,Oa=$$$hostConfig.createTextInstance,Pa=$$$hostConfig.scheduleTimeout,Qa=$$$hostConfig.cancelTimeout,Ra=$$$hostConfig.noTimeout,Sa=$$$hostConfig.isPrimaryRenderer,Ta=$$$hostConfig.supportsMutation,Ua=$$$hostConfig.supportsPersistence,Va=$$$hostConfig.supportsHydration,Wa=$$$hostConfig.getInstanceFromNode,Xa=$$$hostConfig.preparePortalMount,Ya=$$$hostConfig.getCurrentEventPriority,Za=$$$hostConfig.detachDeletedInstance,$a=$$$hostConfig.supportsMicrotasks,ab=$$$hostConfig.scheduleMicrotask,bb=$$$hostConfig.supportsTestSelectors,cb=$$$hostConfig.findFiberRoot,db=$$$hostConfig.getBoundingRect,eb=$$$hostConfig.getTextContent,fb=$$$hostConfig.isHiddenSubtree,gb=$$$hostConfig.matchAccessibilityRole,hb=$$$hostConfig.setFocusIfFocusable,ib=$$$hostConfig.setupIntersectionObserver,jb=$$$hostConfig.appendChild,kb=$$$hostConfig.appendChildToContainer,lb=$$$hostConfig.commitTextUpdate,mb=$$$hostConfig.commitMount,nb=$$$hostConfig.commitUpdate,ob=$$$hostConfig.insertBefore,pb=$$$hostConfig.insertInContainerBefore,qb=$$$hostConfig.removeChild,rb=$$$hostConfig.removeChildFromContainer,sb=$$$hostConfig.resetTextContent,tb=$$$hostConfig.hideInstance,ub=$$$hostConfig.hideTextInstance,vb=$$$hostConfig.unhideInstance,wb=$$$hostConfig.unhideTextInstance,xb=$$$hostConfig.clearContainer,yb=$$$hostConfig.cloneInstance,zb=$$$hostConfig.createContainerChildSet,Ab=$$$hostConfig.appendChildToContainerChildSet,Bb=$$$hostConfig.finalizeContainerChildren,Cb=$$$hostConfig.replaceContainerChildren,Eb=$$$hostConfig.cloneHiddenInstance,Fb=$$$hostConfig.cloneHiddenTextInstance,Gb=$$$hostConfig.canHydrateInstance,Hb=$$$hostConfig.canHydrateTextInstance,Ib=$$$hostConfig.canHydrateSuspenseInstance,Jb=$$$hostConfig.isSuspenseInstancePending,Kb=$$$hostConfig.isSuspenseInstanceFallback,Lb=$$$hostConfig.getSuspenseInstanceFallbackErrorDetails,Mb=$$$hostConfig.registerSuspenseInstanceRetry,Nb=$$$hostConfig.getNextHydratableSibling,Ob=$$$hostConfig.getFirstHydratableChild,Pb=$$$hostConfig.getFirstHydratableChildWithinContainer,Qb=$$$hostConfig.getFirstHydratableChildWithinSuspenseInstance,Rb=$$$hostConfig.hydrateInstance,Sb=$$$hostConfig.hydrateTextInstance,Tb=$$$hostConfig.hydrateSuspenseInstance,Ub=$$$hostConfig.getNextHydratableInstanceAfterSuspenseInstance,Vb=$$$hostConfig.commitHydratedContainer,Wb=$$$hostConfig.commitHydratedSuspenseInstance,Xb=$$$hostConfig.clearSuspenseBoundary,Yb=$$$hostConfig.clearSuspenseBoundaryFromContainer,Zb=$$$hostConfig.shouldDeleteUnhydratedTailInstances,$b=$$$hostConfig.didNotMatchHydratedContainerTextInstance,ac=$$$hostConfig.didNotMatchHydratedTextInstance;function cc(a){if(void 0===bc)try{throw Error()}catch(c){var b=c.stack.trim().match(/\n( *(at )?)/);bc=b&&b[1]||""}return"\n"+bc+a}var dc=!1;function ec(a,b){if(!a||dc)return"";dc=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error()}catch(l){d=l}a()}}catch(l){if(l&&d&&"string"==typeof l.stack){for(var e=l.stack.split("\n"),f=d.stack.split("\n"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h)do{if(g--,0>--h||e[g]!==f[h]){var k="\n"+e[g].replace(" at new "," at ");return a.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",a.displayName)),k}}while(1<=g&&0<=h);break}}}finally{dc=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?cc(a):""}var fc=Object.prototype.hasOwnProperty,gc=[],hc=-1;function ic(a){return{current:a}}function q(a){0>hc||(a.current=gc[hc],gc[hc]=null,hc--)}function v(a,b){hc++,gc[hc]=a.current,a.current=b}var jc={},x=ic(jc),z=ic(!1),kc=jc;function mc(a,b){var c=a.type.contextTypes;if(!c)return jc;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var f,e={};for(f in c)e[f]=b[f];return d&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e),e}function A(a){return null!=(a=a.childContextTypes)}function nc(){q(z),q(x)}function oc(a,b,c){if(x.current!==jc)throw Error(n(168));v(x,b),v(z,c)}function pc(a,b,c){var d=a.stateNode;if(b=b.childContextTypes,"function"!=typeof d.getChildContext)return c;for(var e in d=d.getChildContext())if(!(e in b))throw Error(n(108,va(a)||"Unknown",e));return ca({},c,d)}function qc(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||jc,kc=x.current,v(x,a),v(z,z.current),!0}function rc(a,b,c){var d=a.stateNode;if(!d)throw Error(n(169));c?(a=pc(a,b,kc),d.__reactInternalMemoizedMergedChildContext=a,q(z),q(x),v(x,a)):q(z),v(z,c)}var tc=Math.clz32?Math.clz32:function sc(a){return 0===(a>>>=0)?32:31-(uc(a)/vc|0)|0},uc=Math.log,vc=Math.LN2;var wc=64,xc=4194304;function yc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function zc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=268435455&c;if(0!==g){var h=g&~e;0!==h?d=yc(h):0!==(f&=g)&&(d=yc(f))}else 0!==(g=c&~e)?d=yc(g):0!==f&&(d=yc(f));if(0===d)return 0;if(0!==b&&b!==d&&!(b&e)&&((e=d&-d)>=(f=b&-b)||16===e&&4194240&f))return b;if(4&d&&(d|=16&c),0!==(b=a.entangledLanes))for(a=a.entanglements,b&=d;0<b;)e=1<<(c=31-tc(b)),d|=a[c],b&=~e;return d}function Ac(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;default:return-1}}function Cc(a){return 0!==(a=-1073741825&a.pendingLanes)?a:1073741824&a?1073741824:0}function Dc(){var a=wc;return!(4194240&(wc<<=1))&&(wc=64),a}function Ec(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}function Fc(a,b,c){a.pendingLanes|=b,536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[b=31-tc(b)]=c}function Hc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-tc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b),c&=~e}}var C=0;function Ic(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var Jc=ba.unstable_scheduleCallback,Kc=ba.unstable_cancelCallback,Lc=ba.unstable_shouldYield,Mc=ba.unstable_requestPaint,D=ba.unstable_now,Nc=ba.unstable_ImmediatePriority,Oc=ba.unstable_UserBlockingPriority,Pc=ba.unstable_NormalPriority,Qc=ba.unstable_IdlePriority,Rc=null,Sc=null;var Vc="function"==typeof Object.is?Object.is:function Uc(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},Wc=null,Xc=!1,Yc=!1;function Zc(a){null===Wc?Wc=[a]:Wc.push(a)}function ad(){if(!Yc&&null!==Wc){Yc=!0;var a=0,b=C;try{var c=Wc;for(C=1;a<c.length;a++){var d=c[a];do{d=d(!0)}while(null!==d)}Wc=null,Xc=!1}catch(e){throw null!==Wc&&(Wc=Wc.slice(a+1)),Jc(Nc,ad),e}finally{C=b,Yc=!1}}return null}var bd=[],cd=0,dd=null,ed=0,fd=[],gd=0,hd=null,id=1,jd="";function kd(a,b){bd[cd++]=ed,bd[cd++]=dd,dd=a,ed=b}function ld(a,b,c){fd[gd++]=id,fd[gd++]=jd,fd[gd++]=hd,hd=a;var d=id;a=jd;var e=32-tc(d)-1;d&=~(1<<e),c+=1;var f=32-tc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32),d>>=g,e-=g,id=1<<32-tc(b)+e|c<<e|d,jd=f+a}else id=1<<f|c<<e|d,jd=a}function md(a){null!==a.return&&(kd(a,1),ld(a,1,0))}function nd(a){for(;a===dd;)dd=bd[--cd],bd[cd]=null,ed=bd[--cd],bd[cd]=null;for(;a===hd;)hd=fd[--gd],fd[gd]=null,jd=fd[--gd],fd[gd]=null,id=fd[--gd],fd[gd]=null}var od=null,pd=null,F=!1,qd=!1,rd=null;function sd(a,b){var c=td(5,null,null,0);c.elementType="DELETED",c.stateNode=b,c.return=a,null===(b=a.deletions)?(a.deletions=[c],a.flags|=16):b.push(c)}function ud(a,b){switch(a.tag){case 5:return null!==(b=Gb(b,a.type,a.pendingProps))&&(a.stateNode=b,od=a,pd=Ob(b),!0);case 6:return null!==(b=Hb(b,a.pendingProps))&&(a.stateNode=b,od=a,pd=null,!0);case 13:if(null!==(b=Ib(b))){var c=null!==hd?{id,overflow:jd}:null;return a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},(c=td(18,null,null,0)).stateNode=b,c.return=a,a.child=c,od=a,pd=null,!0}return!1;default:return!1}}function vd(a){return!(!(1&a.mode)||128&a.flags)}function wd(a){if(F){var b=pd;if(b){var c=b;if(!ud(a,b)){if(vd(a))throw Error(n(418));b=Nb(c);var d=od;b&&ud(a,b)?sd(d,c):(a.flags=-4097&a.flags|2,F=!1,od=a)}}else{if(vd(a))throw Error(n(418));a.flags=-4097&a.flags|2,F=!1,od=a}}}function xd(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;od=a}function yd(a){if(!Va||a!==od)return!1;if(!F)return xd(a),F=!0,!1;if(3!==a.tag&&(5!==a.tag||Zb(a.type)&&!Na(a.type,a.memoizedProps))){var b=pd;if(b){if(vd(a))throw zd(),Error(n(418));for(;b;)sd(a,b),b=Nb(b)}}if(xd(a),13===a.tag){if(!Va)throw Error(n(316));if(!(a=null!==(a=a.memoizedState)?a.dehydrated:null))throw Error(n(317));pd=Ub(a)}else pd=od?Nb(a.stateNode):null;return!0}function zd(){for(var a=pd;a;)a=Nb(a)}function Ad(){Va&&(pd=od=null,qd=F=!1)}function Bd(a){null===rd?rd=[a]:rd.push(a)}var Cd=da.ReactCurrentBatchConfig;function Dd(a,b){if(Vc(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!fc.call(b,e)||!Vc(a[e],b[e]))return!1}return!0}function Ed(a){switch(a.tag){case 5:return cc(a.type);case 16:return cc("Lazy");case 13:return cc("Suspense");case 19:return cc("SuspenseList");case 0:case 2:case 15:return a=ec(a.type,!1);case 11:return a=ec(a.type.render,!1);case 1:return a=ec(a.type,!0);default:return""}}function Fd(a,b,c){if(null!==(a=c.ref)&&"function"!=typeof a&&"object"!=typeof a){if(c._owner){if(c=c._owner){if(1!==c.tag)throw Error(n(309));var d=c.stateNode}if(!d)throw Error(n(147,a));var e=d,f=""+a;return null!==b&&null!==b.ref&&"function"==typeof b.ref&&b.ref._stringRef===f?b.ref:(b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a},b._stringRef=f,b)}if("string"!=typeof a)throw Error(n(284));if(!c._owner)throw Error(n(290,a))}return a}function Gd(a,b){throw a=Object.prototype.toString.call(b),Error(n(31,"[object Object]"===a?"object with keys {"+Object.keys(b).join(", ")+"}":a))}function Hd(a){return(0,a._init)(a._payload)}function Id(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){return(a=Jd(a,b)).index=0,a.sibling=null,a}function f(b,c,d){return b.index=d,a?null!==(d=b.alternate)?(d=d.index)<c?(b.flags|=2,c):d:(b.flags|=2,c):(b.flags|=1048576,c)}function g(b){return a&&null===b.alternate&&(b.flags|=2),b}function h(a,b,c,d){return null===b||6!==b.tag?((b=Kd(c,a.mode,d)).return=a,b):((b=e(b,c)).return=a,b)}function k(a,b,c,d){var f=c.type;return f===ha?m(a,b,c.props.children,d,c.key):null!==b&&(b.elementType===f||"object"==typeof f&&null!==f&&f.$$typeof===qa&&Hd(f)===b.type)?((d=e(b,c.props)).ref=Fd(a,b,c),d.return=a,d):((d=Ld(c.type,c.key,c.props,null,a.mode,d)).ref=Fd(a,b,c),d.return=a,d)}function l(a,b,c,d){return null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation?((b=Md(c,a.mode,d)).return=a,b):((b=e(b,c.children||[])).return=a,b)}function m(a,b,c,d,f){return null===b||7!==b.tag?((b=Nd(c,a.mode,d,f)).return=a,b):((b=e(b,c)).return=a,b)}function r(a,b,c){if("string"==typeof b&&""!==b||"number"==typeof b)return(b=Kd(""+b,a.mode,c)).return=a,b;if("object"==typeof b&&null!==b){switch(b.$$typeof){case ea:return(c=Ld(b.type,b.key,b.props,null,a.mode,c)).ref=Fd(a,null,b),c.return=a,c;case fa:return(b=Md(b,a.mode,c)).return=a,b;case qa:return r(a,(0,b._init)(b._payload),c)}if(Da(b)||ta(b))return(b=Nd(b,a.mode,c,null)).return=a,b;Gd(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if("string"==typeof c&&""!==c||"number"==typeof c)return null!==e?null:h(a,b,""+c,d);if("object"==typeof c&&null!==c){switch(c.$$typeof){case ea:return c.key===e?k(a,b,c,d):null;case fa:return c.key===e?l(a,b,c,d):null;case qa:return p(a,b,(e=c._init)(c._payload),d)}if(Da(c)||ta(c))return null!==e?null:m(a,b,c,d,null);Gd(a,c)}return null}function B(a,b,c,d,e){if("string"==typeof d&&""!==d||"number"==typeof d)return h(b,a=a.get(c)||null,""+d,e);if("object"==typeof d&&null!==d){switch(d.$$typeof){case ea:return k(b,a=a.get(null===d.key?c:d.key)||null,d,e);case fa:return l(b,a=a.get(null===d.key?c:d.key)||null,d,e);case qa:return B(a,b,c,(0,d._init)(d._payload),e)}if(Da(d)||ta(d))return m(b,a=a.get(c)||null,d,e,null);Gd(b,d)}return null}function w(e,g,h,k){for(var l=null,m=null,u=g,t=g=0,E=null;null!==u&&t<h.length;t++){u.index>t?(E=u,u=null):E=u.sibling;var y=p(e,u,h[t],k);if(null===y){null===u&&(u=E);break}a&&u&&null===y.alternate&&b(e,u),g=f(y,g,t),null===m?l=y:m.sibling=y,m=y,u=E}if(t===h.length)return c(e,u),F&&kd(e,t),l;if(null===u){for(;t<h.length;t++)null!==(u=r(e,h[t],k))&&(g=f(u,g,t),null===m?l=u:m.sibling=u,m=u);return F&&kd(e,t),l}for(u=d(e,u);t<h.length;t++)null!==(E=B(u,e,t,h[t],k))&&(a&&null!==E.alternate&&u.delete(null===E.key?t:E.key),g=f(E,g,t),null===m?l=E:m.sibling=E,m=E);return a&&u.forEach((function(a){return b(e,a)})),F&&kd(e,t),l}function Y(e,g,h,k){var l=ta(h);if("function"!=typeof l)throw Error(n(150));if(null==(h=l.call(h)))throw Error(n(151));for(var u=l=null,m=g,t=g=0,E=null,y=h.next();null!==m&&!y.done;t++,y=h.next()){m.index>t?(E=m,m=null):E=m.sibling;var w=p(e,m,y.value,k);if(null===w){null===m&&(m=E);break}a&&m&&null===w.alternate&&b(e,m),g=f(w,g,t),null===u?l=w:u.sibling=w,u=w,m=E}if(y.done)return c(e,m),F&&kd(e,t),l;if(null===m){for(;!y.done;t++,y=h.next())null!==(y=r(e,y.value,k))&&(g=f(y,g,t),null===u?l=y:u.sibling=y,u=y);return F&&kd(e,t),l}for(m=d(e,m);!y.done;t++,y=h.next())null!==(y=B(m,e,t,y.value,k))&&(a&&null!==y.alternate&&m.delete(null===y.key?t:y.key),g=f(y,g,t),null===u?l=y:u.sibling=y,u=y);return a&&m.forEach((function(a){return b(e,a)})),F&&kd(e,t),l}return function ya(a,d,f,h){if("object"==typeof f&&null!==f&&f.type===ha&&null===f.key&&(f=f.props.children),"object"==typeof f&&null!==f){switch(f.$$typeof){case ea:a:{for(var k=f.key,l=d;null!==l;){if(l.key===k){if((k=f.type)===ha){if(7===l.tag){c(a,l.sibling),(d=e(l,f.props.children)).return=a,a=d;break a}}else if(l.elementType===k||"object"==typeof k&&null!==k&&k.$$typeof===qa&&Hd(k)===l.type){c(a,l.sibling),(d=e(l,f.props)).ref=Fd(a,l,f),d.return=a,a=d;break a}c(a,l);break}b(a,l),l=l.sibling}f.type===ha?((d=Nd(f.props.children,a.mode,h,f.key)).return=a,a=d):((h=Ld(f.type,f.key,f.props,null,a.mode,h)).ref=Fd(a,d,f),h.return=a,a=h)}return g(a);case fa:a:{for(l=f.key;null!==d;){if(d.key===l){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling),(d=e(d,f.children||[])).return=a,a=d;break a}c(a,d);break}b(a,d),d=d.sibling}(d=Md(f,a.mode,h)).return=a,a=d}return g(a);case qa:return ya(a,d,(l=f._init)(f._payload),h)}if(Da(f))return w(a,d,f,h);if(ta(f))return Y(a,d,f,h);Gd(a,f)}return"string"==typeof f&&""!==f||"number"==typeof f?(f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),(d=e(d,f)).return=a,a=d):(c(a,d),(d=Kd(f,a.mode,h)).return=a,a=d),g(a)):c(a,d)}}var Od=Id(!0),Pd=Id(!1),Qd=ic(null),Rd=null,Sd=null,Td=null;function Ud(){Td=Sd=Rd=null}function Vd(a,b,c){Sa?(v(Qd,b._currentValue),b._currentValue=c):(v(Qd,b._currentValue2),b._currentValue2=c)}function Wd(a){var b=Qd.current;q(Qd),Sa?a._currentValue=b:a._currentValue2=b}function Xd(a,b,c){for(;null!==a;){var d=a.alternate;if((a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b),a===c)break;a=a.return}}function Yd(a,b){Rd=a,Td=Sd=null,null!==(a=a.dependencies)&&null!==a.firstContext&&(!!(a.lanes&b)&&(G=!0),a.firstContext=null)}function Zd(a){var b=Sa?a._currentValue:a._currentValue2;if(Td!==a)if(a={context:a,memoizedValue:b,next:null},null===Sd){if(null===Rd)throw Error(n(308));Sd=a,Rd.dependencies={lanes:0,firstContext:a}}else Sd=Sd.next=a;return b}var $d=null;function ae(a){null===$d?$d=[a]:$d.push(a)}function be(a,b,c,d){var e=b.interleaved;return null===e?(c.next=c,ae(b)):(c.next=e.next,e.next=c),b.interleaved=c,ce(a,d)}function ce(a,b){a.lanes|=b;var c=a.alternate;for(null!==c&&(c.lanes|=b),c=a,a=a.return;null!==a;)a.childLanes|=b,null!==(c=a.alternate)&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var de=!1;function ee(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fe(a,b){a=a.updateQueue,b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ge(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function he(a,b,c){var d=a.updateQueue;if(null===d)return null;if(d=d.shared,2&H){var e=d.pending;return null===e?b.next=b:(b.next=e.next,e.next=b),d.pending=b,ce(a,c)}return null===(e=d.interleaved)?(b.next=b,ae(d)):(b.next=e.next,e.next=b),d.interleaved=b,ce(a,c)}function ie(a,b,c){if(null!==(b=b.updateQueue)&&(b=b.shared,4194240&c)){var d=b.lanes;c|=d&=a.pendingLanes,b.lanes=c,Hc(a,c)}}function je(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&c===(d=d.updateQueue)){var e=null,f=null;if(null!==(c=c.firstBaseUpdate)){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g,c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;return c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects},void(a.updateQueue=c)}null===(a=c.lastBaseUpdate)?c.firstBaseUpdate=b:a.next=b,c.lastBaseUpdate=b}function ke(a,b,c,d){var e=a.updateQueue;de=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null,null===g?f=l:g.next=l,g=k;var m=a.alternate;null!==m&&((h=(m=m.updateQueue).lastBaseUpdate)!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var r=e.baseState;for(g=0,m=l=k=null,h=f;;){var p=h.lane,B=h.eventTime;if((d&p)===p){null!==m&&(m=m.next={eventTime:B,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});a:{var w=a,Y=h;switch(p=b,B=c,Y.tag){case 1:if("function"==typeof(w=Y.payload)){r=w.call(B,r,p);break a}r=w;break a;case 3:w.flags=-65537&w.flags|128;case 0:if(null==(p="function"==typeof(w=Y.payload)?w.call(B,r,p):w))break a;r=ca({},r,p);break a;case 2:de=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,null===(p=e.effects)?e.effects=[h]:p.push(h))}else B={eventTime:B,lane:p,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=B,k=r):m=m.next=B,g|=p;if(null===(h=h.next)){if(null===(h=e.shared.pending))break;h=(p=h).next,p.next=null,e.lastBaseUpdate=p,e.shared.pending=null}}if(null===m&&(k=r),e.baseState=k,e.firstBaseUpdate=l,e.lastBaseUpdate=m,null!==(b=e.shared.interleaved)){e=b;do{g|=e.lane,e=e.next}while(e!==b)}else null===f&&(e.shared.lanes=0);le|=g,a.lanes=g,a.memoizedState=r}}function me(a,b,c){if(a=b.effects,b.effects=null,null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){if(d.callback=null,d=c,"function"!=typeof e)throw Error(n(191,e));e.call(d)}}}var ne={},oe=ic(ne),pe=ic(ne),qe=ic(ne);function re(a){if(a===ne)throw Error(n(174));return a}function se(a,b){v(qe,b),v(pe,a),v(oe,ne),a=Fa(b),q(oe),v(oe,a)}function te(){q(oe),q(pe),q(qe)}function ue(a){var b=re(qe.current),c=re(oe.current);c!==(b=Ga(c,a.type,b))&&(v(pe,a),v(oe,b))}function ve(a){pe.current===a&&(q(oe),q(pe))}var I=ic(0);function we(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(null===(c=c.dehydrated)||Jb(c)||Kb(c)))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(128&b.flags)return b}else if(null!==b.child){b.child.return=b,b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var xe=[];function ye(){for(var a=0;a<xe.length;a++){var b=xe[a];Sa?b._workInProgressVersionPrimary=null:b._workInProgressVersionSecondary=null}xe.length=0}var ze=da.ReactCurrentDispatcher,Ae=da.ReactCurrentBatchConfig,Be=0,J=null,K=null,L=null,Ce=!1,De=!1,Ee=0,Fe=0;function M(){throw Error(n(321))}function Ge(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!Vc(a[c],b[c]))return!1;return!0}function He(a,b,c,d,e,f){if(Be=f,J=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,ze.current=null===a||null===a.memoizedState?Ie:Je,a=c(d,e),De){f=0;do{if(De=!1,Ee=0,25<=f)throw Error(n(301));f+=1,L=K=null,b.updateQueue=null,ze.current=Ke,a=c(d,e)}while(De)}if(ze.current=Le,b=null!==K&&null!==K.next,Be=0,L=K=J=null,Ce=!1,b)throw Error(n(300));return a}function Me(){var a=0!==Ee;return Ee=0,a}function Ne(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===L?J.memoizedState=L=a:L=L.next=a,L}function Oe(){if(null===K){var a=J.alternate;a=null!==a?a.memoizedState:null}else a=K.next;var b=null===L?J.memoizedState:L.next;if(null!==b)L=b,K=a;else{if(null===a)throw Error(n(310));a={memoizedState:(K=a).memoizedState,baseState:K.baseState,baseQueue:K.baseQueue,queue:K.queue,next:null},null===L?J.memoizedState=L=a:L=L.next=a}return L}function Pe(a,b){return"function"==typeof b?b(a):b}function Qe(a){var b=Oe(),c=b.queue;if(null===c)throw Error(n(311));c.lastRenderedReducer=a;var d=K,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next,f.next=g}d.baseQueue=e=f,c.pending=null}if(null!==e){f=e.next,d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Be&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var r={lane:m,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===k?(h=k=r,g=d):k=k.next=r,J.lanes|=m,le|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h,Vc(d,b.memoizedState)||(G=!0),b.memoizedState=d,b.baseState=g,b.baseQueue=k,c.lastRenderedState=d}if(null!==(a=c.interleaved)){e=a;do{f=e.lane,J.lanes|=f,le|=f,e=e.next}while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}function Re(a){var b=Oe(),c=b.queue;if(null===c)throw Error(n(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do{f=a(f,g.action),g=g.next}while(g!==e);Vc(f,b.memoizedState)||(G=!0),b.memoizedState=f,null===b.baseQueue&&(b.baseState=f),c.lastRenderedState=f}return[f,d]}function Se(){}function Te(a,b){var c=J,d=Oe(),e=b(),f=!Vc(d.memoizedState,e);if(f&&(d.memoizedState=e,G=!0),d=d.queue,Ue(Ve.bind(null,c,d,a),[a]),d.getSnapshot!==b||f||null!==L&&1&L.memoizedState.tag){if(c.flags|=2048,We(9,Xe.bind(null,c,d,e,b),void 0,null),null===N)throw Error(n(349));30&Be||Ye(c,b,e)}return e}function Ye(a,b,c){a.flags|=16384,a={getSnapshot:b,value:c},null===(b=J.updateQueue)?(b={lastEffect:null,stores:null},J.updateQueue=b,b.stores=[a]):null===(c=b.stores)?b.stores=[a]:c.push(a)}function Xe(a,b,c,d){b.value=c,b.getSnapshot=d,Ze(b)&&$e(a)}function Ve(a,b,c){return c((function(){Ze(b)&&$e(a)}))}function Ze(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!Vc(a,c)}catch(d){return!0}}function $e(a){var b=ce(a,1);null!==b&&af(b,a,1,-1)}function bf(a){var b=Ne();return"function"==typeof a&&(a=a()),b.memoizedState=b.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pe,lastRenderedState:a},b.queue=a,a=a.dispatch=cf.bind(null,J,a),[b.memoizedState,a]}function We(a,b,c,d){return a={tag:a,create:b,destroy:c,deps:d,next:null},null===(b=J.updateQueue)?(b={lastEffect:null,stores:null},J.updateQueue=b,b.lastEffect=a.next=a):null===(c=b.lastEffect)?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a),a}function df(){return Oe().memoizedState}function ef(a,b,c,d){var e=Ne();J.flags|=a,e.memoizedState=We(1|b,c,void 0,void 0===d?null:d)}function ff(a,b,c,d){var e=Oe();d=void 0===d?null:d;var f=void 0;if(null!==K){var g=K.memoizedState;if(f=g.destroy,null!==d&&Ge(d,g.deps))return void(e.memoizedState=We(b,c,f,d))}J.flags|=a,e.memoizedState=We(1|b,c,f,d)}function gf(a,b){return ef(8390656,8,a,b)}function Ue(a,b){return ff(2048,8,a,b)}function hf(a,b){return ff(4,2,a,b)}function jf(a,b){return ff(4,4,a,b)}function kf(a,b){return"function"==typeof b?(a=a(),b(a),function(){b(null)}):null!=b?(a=a(),b.current=a,function(){b.current=null}):void 0}function lf(a,b,c){return c=null!=c?c.concat([a]):null,ff(4,4,kf.bind(null,b,a),c)}function mf(){}function nf(a,b){var c=Oe();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&Ge(b,d[1])?d[0]:(c.memoizedState=[a,b],a)}function of(a,b){var c=Oe();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&Ge(b,d[1])?d[0]:(a=a(),c.memoizedState=[a,b],a)}function pf(a,b,c){return 21&Be?(Vc(c,b)||(c=Dc(),J.lanes|=c,le|=c,a.baseState=!0),b):(a.baseState&&(a.baseState=!1,G=!0),a.memoizedState=c)}function qf(a,b){var c=C;C=0!==c&&4>c?c:4,a(!0);var d=Ae.transition;Ae.transition={};try{a(!1),b()}finally{C=c,Ae.transition=d}}function rf(){return Oe().memoizedState}function sf(a,b,c){var d=tf(a);if(c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},uf(a))vf(b,c);else if(null!==(c=be(a,b,c,d))){af(c,a,d,O()),wf(c,b,d)}}function cf(a,b,c){var d=tf(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(uf(a))vf(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&null!==(f=b.lastRenderedReducer))try{var g=b.lastRenderedState,h=f(g,c);if(e.hasEagerState=!0,e.eagerState=h,Vc(h,g)){var k=b.interleaved;return null===k?(e.next=e,ae(b)):(e.next=k.next,k.next=e),void(b.interleaved=e)}}catch(l){}null!==(c=be(a,b,e,d))&&(af(c,a,d,e=O()),wf(c,b,d))}}function uf(a){var b=a.alternate;return a===J||null!==b&&b===J}function vf(a,b){De=Ce=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b),a.pending=b}function wf(a,b,c){if(4194240&c){var d=b.lanes;c|=d&=a.pendingLanes,b.lanes=c,Hc(a,c)}}var Le={readContext:Zd,useCallback:M,useContext:M,useEffect:M,useImperativeHandle:M,useInsertionEffect:M,useLayoutEffect:M,useMemo:M,useReducer:M,useRef:M,useState:M,useDebugValue:M,useDeferredValue:M,useTransition:M,useMutableSource:M,useSyncExternalStore:M,useId:M,unstable_isNewReconciler:!1},Ie={readContext:Zd,useCallback:function(a,b){return Ne().memoizedState=[a,void 0===b?null:b],a},useContext:Zd,useEffect:gf,useImperativeHandle:function(a,b,c){return c=null!=c?c.concat([a]):null,ef(4194308,4,kf.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ef(4194308,4,a,b)},useInsertionEffect:function(a,b){return ef(4,2,a,b)},useMemo:function(a,b){var c=Ne();return b=void 0===b?null:b,a=a(),c.memoizedState=[a,b],a},useReducer:function(a,b,c){var d=Ne();return b=void 0!==c?c(b):b,d.memoizedState=d.baseState=b,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},d.queue=a,a=a.dispatch=sf.bind(null,J,a),[d.memoizedState,a]},useRef:function(a){return a={current:a},Ne().memoizedState=a},useState:bf,useDebugValue:mf,useDeferredValue:function(a){return Ne().memoizedState=a},useTransition:function(){var a=bf(!1),b=a[0];return a=qf.bind(null,a[1]),Ne().memoizedState=a,[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=J,e=Ne();if(F){if(void 0===c)throw Error(n(407));c=c()}else{if(c=b(),null===N)throw Error(n(349));30&Be||Ye(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};return e.queue=f,gf(Ve.bind(null,d,f,a),[a]),d.flags|=2048,We(9,Xe.bind(null,d,f,c,b),void 0,null),c},useId:function(){var a=Ne(),b=N.identifierPrefix;if(F){var c=jd;b=":"+b+"R"+(c=(id&~(1<<32-tc(id)-1)).toString(32)+c),0<(c=Ee++)&&(b+="H"+c.toString(32)),b+=":"}else b=":"+b+"r"+(c=Fe++).toString(32)+":";return a.memoizedState=b},unstable_isNewReconciler:!1},Je={readContext:Zd,useCallback:nf,useContext:Zd,useEffect:Ue,useImperativeHandle:lf,useInsertionEffect:hf,useLayoutEffect:jf,useMemo:of,useReducer:Qe,useRef:df,useState:function(){return Qe(Pe)},useDebugValue:mf,useDeferredValue:function(a){return pf(Oe(),K.memoizedState,a)},useTransition:function(){return[Qe(Pe)[0],Oe().memoizedState]},useMutableSource:Se,useSyncExternalStore:Te,useId:rf,unstable_isNewReconciler:!1},Ke={readContext:Zd,useCallback:nf,useContext:Zd,useEffect:Ue,useImperativeHandle:lf,useInsertionEffect:hf,useLayoutEffect:jf,useMemo:of,useReducer:Re,useRef:df,useState:function(){return Re(Pe)},useDebugValue:mf,useDeferredValue:function(a){var b=Oe();return null===K?b.memoizedState=a:pf(b,K.memoizedState,a)},useTransition:function(){return[Re(Pe)[0],Oe().memoizedState]},useMutableSource:Se,useSyncExternalStore:Te,useId:rf,unstable_isNewReconciler:!1};function xf(a,b){if(a&&a.defaultProps){for(var c in b=ca({},b),a=a.defaultProps)void 0===b[c]&&(b[c]=a[c]);return b}return b}function yf(a,b,c,d){c=null==(c=c(d,b=a.memoizedState))?b:ca({},b,c),a.memoizedState=c,0===a.lanes&&(a.updateQueue.baseState=c)}var zf={isMounted:function(a){return!!(a=a._reactInternals)&&wa(a)===a},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=O(),e=tf(a),f=ge(d,e);f.payload=b,null!=c&&(f.callback=c),null!==(b=he(a,f,e))&&(af(b,a,e,d),ie(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=O(),e=tf(a),f=ge(d,e);f.tag=1,f.payload=b,null!=c&&(f.callback=c),null!==(b=he(a,f,e))&&(af(b,a,e,d),ie(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=O(),d=tf(a),e=ge(c,d);e.tag=2,null!=b&&(e.callback=b),null!==(b=he(a,e,d))&&(af(b,a,d,c),ie(b,a,d))}};function Af(a,b,c,d,e,f,g){return"function"==typeof(a=a.stateNode).shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):!b.prototype||!b.prototype.isPureReactComponent||(!Dd(c,d)||!Dd(e,f))}function Bf(a,b,c){var d=!1,e=jc,f=b.contextType;return"object"==typeof f&&null!==f?f=Zd(f):(e=A(b)?kc:x.current,f=(d=null!=(d=b.contextTypes))?mc(a,e):jc),b=new b(c,f),a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null,b.updater=zf,a.stateNode=b,b._reactInternals=a,d&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f),b}function Cf(a,b,c,d){a=b.state,"function"==typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d),"function"==typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d),b.state!==a&&zf.enqueueReplaceState(b,b.state,null)}function Df(a,b,c,d){var e=a.stateNode;e.props=c,e.state=a.memoizedState,e.refs={},ee(a);var f=b.contextType;"object"==typeof f&&null!==f?e.context=Zd(f):(f=A(b)?kc:x.current,e.context=mc(a,f)),e.state=a.memoizedState,"function"==typeof(f=b.getDerivedStateFromProps)&&(yf(a,b,f,c),e.state=a.memoizedState),"function"==typeof b.getDerivedStateFromProps||"function"==typeof e.getSnapshotBeforeUpdate||"function"!=typeof e.UNSAFE_componentWillMount&&"function"!=typeof e.componentWillMount||(b=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&zf.enqueueReplaceState(e,e.state,null),ke(a,c,e,d),e.state=a.memoizedState),"function"==typeof e.componentDidMount&&(a.flags|=4194308)}function Ef(a,b){try{var c="",d=b;do{c+=Ed(d),d=d.return}while(d);var e=c}catch(f){e="\nError generating stack: "+f.message+"\n"+f.stack}return{value:a,source:b,stack:e,digest:null}}function Ff(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Gf(a,b){try{console.error(b.value)}catch(c){setTimeout((function(){throw c}))}}var Hf="function"==typeof WeakMap?WeakMap:Map;function If(a,b,c){(c=ge(-1,c)).tag=3,c.payload={element:null};var d=b.value;return c.callback=function(){Jf||(Jf=!0,Kf=d),Gf(0,b)},c}function Lf(a,b,c){(c=ge(-1,c)).tag=3;var d=a.type.getDerivedStateFromError;if("function"==typeof d){var e=b.value;c.payload=function(){return d(e)},c.callback=function(){Gf(0,b)}}var f=a.stateNode;return null!==f&&"function"==typeof f.componentDidCatch&&(c.callback=function(){Gf(0,b),"function"!=typeof d&&(null===Mf?Mf=new Set([this]):Mf.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:""})}),c}function Nf(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Hf;var e=new Set;d.set(b,e)}else void 0===(e=d.get(b))&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Of.bind(null,a,b,c),b.then(a,a))}function Pf(a){do{var b;if((b=13===a.tag)&&(b=null===(b=a.memoizedState)||null!==b.dehydrated),b)return a;a=a.return}while(null!==a);return null}function Qf(a,b,c,d,e){return 1&a.mode?(a.flags|=65536,a.lanes=e,a):(a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:((b=ge(-1,1)).tag=2,he(c,b,1))),c.lanes|=1),a)}var Rf=da.ReactCurrentOwner,G=!1;function P(a,b,c,d){b.child=null===a?Pd(b,null,c,d):Od(b,a.child,c,d)}function Sf(a,b,c,d,e){c=c.render;var f=b.ref;return Yd(b,e),d=He(a,b,c,d,f,e),c=Me(),null===a||G?(F&&c&&md(b),b.flags|=1,P(a,b,d,e),b.child):(b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Tf(a,b,e))}function Uf(a,b,c,d,e){if(null===a){var f=c.type;return"function"!=typeof f||Vf(f)||void 0!==f.defaultProps||null!==c.compare||void 0!==c.defaultProps?((a=Ld(c.type,null,d,b,b.mode,e)).ref=b.ref,a.return=b,b.child=a):(b.tag=15,b.type=f,Wf(a,b,f,d,e))}if(f=a.child,!(a.lanes&e)){var g=f.memoizedProps;if((c=null!==(c=c.compare)?c:Dd)(g,d)&&a.ref===b.ref)return Tf(a,b,e)}return b.flags|=1,(a=Jd(f,d)).ref=b.ref,a.return=b,b.child=a}function Wf(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Dd(f,d)&&a.ref===b.ref){if(G=!1,b.pendingProps=d=f,!(a.lanes&e))return b.lanes=a.lanes,Tf(a,b,e);131072&a.flags&&(G=!0)}}return Xf(a,b,c,d,e)}function Yf(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if("hidden"===d.mode)if(1&b.mode){if(!(1073741824&c))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,v(Zf,$f),$f|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=null!==f?f.baseLanes:c,v(Zf,$f),$f|=d}else b.memoizedState={baseLanes:0,cachePool:null,transitions:null},v(Zf,$f),$f|=c;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,v(Zf,$f),$f|=d;return P(a,b,e,c),b.child}function ag(a,b){var c=b.ref;(null===a&&null!==c||null!==a&&a.ref!==c)&&(b.flags|=512,b.flags|=2097152)}function Xf(a,b,c,d,e){var f=A(c)?kc:x.current;return f=mc(b,f),Yd(b,e),c=He(a,b,c,d,f,e),d=Me(),null===a||G?(F&&d&&md(b),b.flags|=1,P(a,b,c,e),b.child):(b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Tf(a,b,e))}function bg(a,b,c,d,e){if(A(c)){var f=!0;qc(b)}else f=!1;if(Yd(b,e),null===b.stateNode)cg(a,b),Bf(b,c,d),Df(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;"object"==typeof l&&null!==l?l=Zd(l):l=mc(b,l=A(c)?kc:x.current);var m=c.getDerivedStateFromProps,r="function"==typeof m||"function"==typeof g.getSnapshotBeforeUpdate;r||"function"!=typeof g.UNSAFE_componentWillReceiveProps&&"function"!=typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Cf(b,g,d,l),de=!1;var p=b.memoizedState;g.state=p,ke(b,d,g,e),k=b.memoizedState,h!==d||p!==k||z.current||de?("function"==typeof m&&(yf(b,c,m,d),k=b.memoizedState),(h=de||Af(b,c,h,d,p,k,l))?(r||"function"!=typeof g.UNSAFE_componentWillMount&&"function"!=typeof g.componentWillMount||("function"==typeof g.componentWillMount&&g.componentWillMount(),"function"==typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"==typeof g.componentDidMount&&(b.flags|=4194308)):("function"==typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):("function"==typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode,fe(a,b),h=b.memoizedProps,l=b.type===b.elementType?h:xf(b.type,h),g.props=l,r=b.pendingProps,p=g.context,"object"==typeof(k=c.contextType)&&null!==k?k=Zd(k):k=mc(b,k=A(c)?kc:x.current);var B=c.getDerivedStateFromProps;(m="function"==typeof B||"function"==typeof g.getSnapshotBeforeUpdate)||"function"!=typeof g.UNSAFE_componentWillReceiveProps&&"function"!=typeof g.componentWillReceiveProps||(h!==r||p!==k)&&Cf(b,g,d,k),de=!1,p=b.memoizedState,g.state=p,ke(b,d,g,e);var w=b.memoizedState;h!==r||p!==w||z.current||de?("function"==typeof B&&(yf(b,c,B,d),w=b.memoizedState),(l=de||Af(b,c,l,d,p,w,k)||!1)?(m||"function"!=typeof g.UNSAFE_componentWillUpdate&&"function"!=typeof g.componentWillUpdate||("function"==typeof g.componentWillUpdate&&g.componentWillUpdate(d,w,k),"function"==typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,w,k)),"function"==typeof g.componentDidUpdate&&(b.flags|=4),"function"==typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):("function"!=typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),"function"!=typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=w),g.props=d,g.state=w,g.context=k,d=l):("function"!=typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),"function"!=typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=1024),d=!1)}return dg(a,b,c,d,f,e)}function dg(a,b,c,d,e,f){ag(a,b);var g=!!(128&b.flags);if(!d&&!g)return e&&rc(b,c,!1),Tf(a,b,f);d=b.stateNode,Rf.current=b;var h=g&&"function"!=typeof c.getDerivedStateFromError?null:d.render();return b.flags|=1,null!==a&&g?(b.child=Od(b,a.child,null,f),b.child=Od(b,null,h,f)):P(a,b,h,f),b.memoizedState=d.state,e&&rc(b,c,!0),b.child}function eg(a){var b=a.stateNode;b.pendingContext?oc(0,b.pendingContext,b.pendingContext!==b.context):b.context&&oc(0,b.context,!1),se(a,b.containerInfo)}function fg(a,b,c,d,e){return Ad(),Bd(e),b.flags|=256,P(a,b,c,d),b.child}var vg,wg,xg,yg,gg={dehydrated:null,treeContext:null,retryLane:0};function hg(a){return{baseLanes:a,cachePool:null,transitions:null}}function ig(a,b,c){var h,d=b.pendingProps,e=I.current,f=!1,g=!!(128&b.flags);if((h=g)||(h=(null===a||null!==a.memoizedState)&&!!(2&e)),h?(f=!0,b.flags&=-129):null!==a&&null===a.memoizedState||(e|=1),v(I,1&e),null===a)return wd(b),null!==(a=b.memoizedState)&&null!==(a=a.dehydrated)?(1&b.mode?Kb(a)?b.lanes=8:b.lanes=1073741824:b.lanes=1,null):(g=d.children,a=d.fallback,f?(d=b.mode,f=b.child,g={mode:"hidden",children:g},1&d||null===f?f=jg(g,d,0,null):(f.childLanes=0,f.pendingProps=g),a=Nd(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=hg(c),b.memoizedState=gg,a):kg(b,g));if(null!==(e=a.memoizedState)&&null!==(h=e.dehydrated))return function lg(a,b,c,d,e,f,g){if(c)return 256&b.flags?(b.flags&=-257,mg(a,b,g,d=Ff(Error(n(422))))):null!==b.memoizedState?(b.child=a.child,b.flags|=128,null):(f=d.fallback,e=b.mode,d=jg({mode:"visible",children:d.children},e,0,null),(f=Nd(f,e,g,null)).flags|=2,d.return=b,f.return=b,d.sibling=f,b.child=d,1&b.mode&&Od(b,a.child,null,g),b.child.memoizedState=hg(g),b.memoizedState=gg,f);if(!(1&b.mode))return mg(a,b,g,null);if(Kb(e))return d=Lb(e).digest,f=Error(n(419)),d=Ff(f,d,void 0),mg(a,b,g,d);if(c=!!(g&a.childLanes),G||c){if(null!==(d=N)){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}0!==(e=e&(d.suspendedLanes|g)?0:e)&&e!==f.retryLane&&(f.retryLane=e,ce(a,e),af(d,a,e,-1))}return ng(),mg(a,b,g,d=Ff(Error(n(421))))}return Jb(e)?(b.flags|=128,b.child=a.child,b=og.bind(null,a),Mb(e,b),null):(a=f.treeContext,Va&&(pd=Qb(e),od=b,F=!0,rd=null,qd=!1,null!==a&&(fd[gd++]=id,fd[gd++]=jd,fd[gd++]=hd,id=a.id,jd=a.overflow,hd=b)),b=kg(b,d.children),b.flags|=4096,b)}(a,b,g,d,h,e,c);if(f){f=d.fallback,g=b.mode,h=(e=a.child).sibling;var k={mode:"hidden",children:d.children};return 1&g||b.child===e?(d=Jd(e,k)).subtreeFlags=14680064&e.subtreeFlags:((d=b.child).childLanes=0,d.pendingProps=k,b.deletions=null),null!==h?f=Jd(h,f):(f=Nd(f,g,c,null)).flags|=2,f.return=b,d.return=b,d.sibling=f,b.child=d,d=f,f=b.child,g=null===(g=a.child.memoizedState)?hg(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=a.childLanes&~c,b.memoizedState=gg,d}return a=(f=a.child).sibling,d=Jd(f,{mode:"visible",children:d.children}),!(1&b.mode)&&(d.lanes=c),d.return=b,d.sibling=null,null!==a&&(null===(c=b.deletions)?(b.deletions=[a],b.flags|=16):c.push(a)),b.child=d,b.memoizedState=null,d}function kg(a,b){return(b=jg({mode:"visible",children:b},a.mode,0,null)).return=a,a.child=b}function mg(a,b,c,d){return null!==d&&Bd(d),Od(b,a.child,null,c),(a=kg(b,b.pendingProps.children)).flags|=2,b.memoizedState=null,a}function pg(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b),Xd(a.return,b,c)}function qg(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}function rg(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;if(P(a,b,d.children,c),2&(d=I.current))d=1&d|2,b.flags|=128;else{if(null!==a&&128&a.flags)a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&pg(a,c,b);else if(19===a.tag)pg(a,c,b);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}if(v(I,d),1&b.mode)switch(e){case"forwards":for(c=b.child,e=null;null!==c;)null!==(a=c.alternate)&&null===we(a)&&(e=c),c=c.sibling;null===(c=e)?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null),qg(b,!1,e,c,f);break;case"backwards":for(c=null,e=b.child,b.child=null;null!==e;){if(null!==(a=e.alternate)&&null===we(a)){b.child=e;break}a=e.sibling,e.sibling=c,c=e,e=a}qg(b,!0,c,null,f);break;case"together":qg(b,!1,null,null,void 0);break;default:b.memoizedState=null}else b.memoizedState=null;return b.child}function cg(a,b){!(1&b.mode)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Tf(a,b,c){if(null!==a&&(b.dependencies=a.dependencies),le|=b.lanes,!(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(n(153));if(null!==b.child){for(c=Jd(a=b.child,a.pendingProps),b.child=c,c.return=b;null!==a.sibling;)a=a.sibling,(c=c.sibling=Jd(a,a.pendingProps)).return=b;c.sibling=null}return b.child}function tg(a){a.flags|=4}function ug(a,b){if(null!==a&&a.child===b.child)return!0;if(16&b.flags)return!1;for(a=b.child;null!==a;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(Ta)vg=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)Ka(a,c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c,c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},wg=function(){},xg=function(a,b,c,d,e){if((a=a.memoizedProps)!==d){var f=b.stateNode,g=re(oe.current);c=Ma(f,c,a,d,e,g),(b.updateQueue=c)&&tg(b)}},yg=function(a,b,c,d){c!==d&&tg(b)};else if(Ua){vg=function(a,b,c,d){for(var e=b.child;null!==e;){if(5===e.tag){var f=e.stateNode;c&&d&&(f=Eb(f,e.type,e.memoizedProps,e)),Ka(a,f)}else if(6===e.tag)f=e.stateNode,c&&d&&(f=Fb(f,e.memoizedProps,e)),Ka(a,f);else if(4!==e.tag)if(22===e.tag&&null!==e.memoizedState)null!==(f=e.child)&&(f.return=e),vg(a,e,!0,!0);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};var zg=function(a,b,c,d){for(var e=b.child;null!==e;){if(5===e.tag){var f=e.stateNode;c&&d&&(f=Eb(f,e.type,e.memoizedProps,e)),Ab(a,f)}else if(6===e.tag)f=e.stateNode,c&&d&&(f=Fb(f,e.memoizedProps,e)),Ab(a,f);else if(4!==e.tag)if(22===e.tag&&null!==e.memoizedState)null!==(f=e.child)&&(f.return=e),zg(a,e,!0,!0);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};wg=function(a,b){var c=b.stateNode;if(!ug(a,b)){a=c.containerInfo;var d=zb(a);zg(d,b,!1,!1),c.pendingChildren=d,tg(b),Bb(a,d)}},xg=function(a,b,c,d,e){var f=a.stateNode,g=a.memoizedProps;if((a=ug(a,b))&&g===d)b.stateNode=f;else{var h=b.stateNode,k=re(oe.current),l=null;g!==d&&(l=Ma(h,c,g,d,e,k)),a&&null===l?b.stateNode=f:(f=yb(f,l,c,g,d,b,a,h),La(f,c,d,e,k)&&tg(b),b.stateNode=f,a?tg(b):vg(f,b,!1,!1))}},yg=function(a,b,c,d){c!==d?(a=re(qe.current),c=re(oe.current),b.stateNode=Oa(d,a,c,b),tg(b)):b.stateNode=a.stateNode}}else wg=function(){},xg=function(){},yg=function(){};function Ag(a,b){if(!F)switch(a.tailMode){case"hidden":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Q(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=14680064&e.subtreeFlags,d|=14680064&e.flags,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;return a.subtreeFlags|=d,a.childLanes=c,b}function Bg(a,b,c){var d=b.pendingProps;switch(nd(b),b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Q(b),null;case 1:case 17:return A(b.type)&&nc(),Q(b),null;case 3:return c=b.stateNode,te(),q(z),q(x),ye(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==a&&null!==a.child||(yd(b)?tg(b):null===a||a.memoizedState.isDehydrated&&!(256&b.flags)||(b.flags|=1024,null!==rd&&(Cg(rd),rd=null))),wg(a,b),Q(b),null;case 5:ve(b),c=re(qe.current);var e=b.type;if(null!==a&&null!=b.stateNode)xg(a,b,e,d,c),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(n(166));return Q(b),null}if(a=re(oe.current),yd(b)){if(!Va)throw Error(n(175));a=Rb(b.stateNode,b.type,b.memoizedProps,c,a,b,!qd),b.updateQueue=a,null!==a&&tg(b)}else{var f=Ja(e,d,c,a,b);vg(f,b,!1,!1),b.stateNode=f,La(f,e,d,c,a)&&tg(b)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}return Q(b),null;case 6:if(a&&null!=b.stateNode)yg(a,b,a.memoizedProps,d);else{if("string"!=typeof d&&null===b.stateNode)throw Error(n(166));if(a=re(qe.current),c=re(oe.current),yd(b)){if(!Va)throw Error(n(176));if(a=b.stateNode,c=b.memoizedProps,(d=Sb(a,c,b,!qd))&&null!==(e=od))switch(e.tag){case 3:$b(e.stateNode.containerInfo,a,c,!!(1&e.mode));break;case 5:ac(e.type,e.memoizedProps,e.stateNode,a,c,!!(1&e.mode))}d&&tg(b)}else b.stateNode=Oa(d,a,c,b)}return Q(b),null;case 13:if(q(I),d=b.memoizedState,null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(F&&null!==pd&&1&b.mode&&!(128&b.flags))zd(),Ad(),b.flags|=98560,e=!1;else if(e=yd(b),null!==d&&null!==d.dehydrated){if(null===a){if(!e)throw Error(n(318));if(!Va)throw Error(n(344));if(!(e=null!==(e=b.memoizedState)?e.dehydrated:null))throw Error(n(317));Tb(e,b)}else Ad(),!(128&b.flags)&&(b.memoizedState=null),b.flags|=4;Q(b),e=!1}else null!==rd&&(Cg(rd),rd=null),e=!0;if(!e)return 65536&b.flags?b:null}return 128&b.flags?(b.lanes=c,b):((c=null!==d)!==(null!==a&&null!==a.memoizedState)&&c&&(b.child.flags|=8192,1&b.mode&&(null===a||1&I.current?0===R&&(R=3):ng())),null!==b.updateQueue&&(b.flags|=4),Q(b),null);case 4:return te(),wg(a,b),null===a&&Xa(b.stateNode.containerInfo),Q(b),null;case 10:return Wd(b.type._context),Q(b),null;case 19:if(q(I),null===(e=b.memoizedState))return Q(b),null;if(d=!!(128&b.flags),null===(f=e.rendering))if(d)Ag(e,!1);else{if(0!==R||null!==a&&128&a.flags)for(a=b.child;null!==a;){if(null!==(f=we(a))){for(b.flags|=128,Ag(e,!1),null!==(a=f.updateQueue)&&(b.updateQueue=a,b.flags|=4),b.subtreeFlags=0,a=c,c=b.child;null!==c;)e=a,(d=c).flags&=14680066,null===(f=d.alternate)?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=f.childLanes,d.lanes=f.lanes,d.child=f.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=f.memoizedProps,d.memoizedState=f.memoizedState,d.updateQueue=f.updateQueue,d.type=f.type,e=f.dependencies,d.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),c=c.sibling;return v(I,1&I.current|2),b.child}a=a.sibling}null!==e.tail&&D()>Dg&&(b.flags|=128,d=!0,Ag(e,!1),b.lanes=4194304)}else{if(!d)if(null!==(a=we(f))){if(b.flags|=128,d=!0,null!==(a=a.updateQueue)&&(b.updateQueue=a,b.flags|=4),Ag(e,!0),null===e.tail&&"hidden"===e.tailMode&&!f.alternate&&!F)return Q(b),null}else 2*D()-e.renderingStartTime>Dg&&1073741824!==c&&(b.flags|=128,d=!0,Ag(e,!1),b.lanes=4194304);e.isBackwards?(f.sibling=b.child,b.child=f):(null!==(a=e.last)?a.sibling=f:b.child=f,e.last=f)}return null!==e.tail?(b=e.tail,e.rendering=b,e.tail=b.sibling,e.renderingStartTime=D(),b.sibling=null,a=I.current,v(I,d?1&a|2:1&a),b):(Q(b),null);case 22:case 23:return Eg(),c=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==c&&(b.flags|=8192),c&&1&b.mode?!!(1073741824&$f)&&(Q(b),Ta&&6&b.subtreeFlags&&(b.flags|=8192)):Q(b),null;case 24:case 25:return null}throw Error(n(156,b.tag))}function Fg(a,b){switch(nd(b),b.tag){case 1:return A(b.type)&&nc(),65536&(a=b.flags)?(b.flags=-65537&a|128,b):null;case 3:return te(),q(z),q(x),ye(),65536&(a=b.flags)&&!(128&a)?(b.flags=-65537&a|128,b):null;case 5:return ve(b),null;case 13:if(q(I),null!==(a=b.memoizedState)&&null!==a.dehydrated){if(null===b.alternate)throw Error(n(340));Ad()}return 65536&(a=b.flags)?(b.flags=-65537&a|128,b):null;case 19:return q(I),null;case 4:return te(),null;case 10:return Wd(b.type._context),null;case 22:case 23:return Eg(),null;default:return null}}var Gg=!1,S=!1,Hg="function"==typeof WeakSet?WeakSet:Set,T=null;function Ig(a,b){var c=a.ref;if(null!==c)if("function"==typeof c)try{c(null)}catch(d){U(a,b,d)}else c.current=null}function Jg(a,b,c){try{c()}catch(d){U(a,b,d)}}var Kg=!1;function Mg(a,b,c){var d=b.updateQueue;if(null!==(d=null!==d?d.lastEffect:null)){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0,void 0!==f&&Jg(b,c,f)}e=e.next}while(e!==d)}}function Ng(a,b){if(null!==(b=null!==(b=b.updateQueue)?b.lastEffect:null)){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Og(a){var b=a.ref;if(null!==b){var c=a.stateNode;if(5===a.tag)a=Ea(c);else a=c;"function"==typeof b?b(a):b.current=a}}function Pg(a){var b=a.alternate;null!==b&&(a.alternate=null,Pg(b)),a.child=null,a.deletions=null,a.sibling=null,5===a.tag&&(null!==(b=a.stateNode)&&Za(b)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Qg(a){return 5===a.tag||3===a.tag||4===a.tag}function Rg(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Qg(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(2&a.flags)continue a;if(null===a.child||4===a.tag)continue a;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function Sg(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?pb(c,a,b):kb(c,a);else if(4!==d&&null!==(a=a.child))for(Sg(a,b,c),a=a.sibling;null!==a;)Sg(a,b,c),a=a.sibling}function Tg(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?ob(c,a,b):jb(c,a);else if(4!==d&&null!==(a=a.child))for(Tg(a,b,c),a=a.sibling;null!==a;)Tg(a,b,c),a=a.sibling}var V=null,Ug=!1;function Vg(a,b,c){for(c=c.child;null!==c;)Wg(a,b,c),c=c.sibling}function Wg(a,b,c){if(Sc&&"function"==typeof Sc.onCommitFiberUnmount)try{Sc.onCommitFiberUnmount(Rc,c)}catch(h){}switch(c.tag){case 5:S||Ig(c,b);case 6:if(Ta){var d=V,e=Ug;V=null,Vg(a,b,c),Ug=e,null!==(V=d)&&(Ug?rb(V,c.stateNode):qb(V,c.stateNode))}else Vg(a,b,c);break;case 18:Ta&&null!==V&&(Ug?Yb(V,c.stateNode):Xb(V,c.stateNode));break;case 4:Ta?(d=V,e=Ug,V=c.stateNode.containerInfo,Ug=!0,Vg(a,b,c),V=d,Ug=e):(Ua&&(d=c.stateNode.containerInfo,e=zb(d),Cb(d,e)),Vg(a,b,c));break;case 0:case 11:case 14:case 15:if(!S&&(null!==(d=c.updateQueue)&&null!==(d=d.lastEffect))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag,void 0!==g&&(2&f||4&f)&&Jg(c,b,g),e=e.next}while(e!==d)}Vg(a,b,c);break;case 1:if(!S&&(Ig(c,b),"function"==typeof(d=c.stateNode).componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){U(c,b,h)}Vg(a,b,c);break;case 21:Vg(a,b,c);break;case 22:1&c.mode?(S=(d=S)||null!==c.memoizedState,Vg(a,b,c),S=d):Vg(a,b,c);break;default:Vg(a,b,c)}}function Xg(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Hg),b.forEach((function(b){var d=Yg.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))}))}}function Zg(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b;if(Ta){var h=g;a:for(;null!==h;){switch(h.tag){case 5:V=h.stateNode,Ug=!1;break a;case 3:case 4:V=h.stateNode.containerInfo,Ug=!0;break a}h=h.return}if(null===V)throw Error(n(160));Wg(f,g,e),V=null,Ug=!1}else Wg(f,g,e);var k=e.alternate;null!==k&&(k.return=null),e.return=null}catch(l){U(e,b,l)}}if(12854&b.subtreeFlags)for(b=b.child;null!==b;)$g(b,a),b=b.sibling}function $g(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Zg(b,a),ah(a),4&d){try{Mg(3,a,a.return),Ng(3,a)}catch(p){U(a,a.return,p)}try{Mg(5,a,a.return)}catch(p){U(a,a.return,p)}}break;case 1:Zg(b,a),ah(a),512&d&&null!==c&&Ig(c,c.return);break;case 5:if(Zg(b,a),ah(a),512&d&&null!==c&&Ig(c,c.return),Ta){if(32&a.flags){var e=a.stateNode;try{sb(e)}catch(p){U(a,a.return,p)}}if(4&d&&null!=(e=a.stateNode)){var f=a.memoizedProps;if(c=null!==c?c.memoizedProps:f,d=a.type,b=a.updateQueue,a.updateQueue=null,null!==b)try{nb(e,b,d,c,f,a)}catch(p){U(a,a.return,p)}}}break;case 6:if(Zg(b,a),ah(a),4&d&&Ta){if(null===a.stateNode)throw Error(n(162));e=a.stateNode,f=a.memoizedProps,c=null!==c?c.memoizedProps:f;try{lb(e,c,f)}catch(p){U(a,a.return,p)}}break;case 3:if(Zg(b,a),ah(a),4&d){if(Ta&&Va&&null!==c&&c.memoizedState.isDehydrated)try{Vb(b.containerInfo)}catch(p){U(a,a.return,p)}if(Ua){e=b.containerInfo,f=b.pendingChildren;try{Cb(e,f)}catch(p){U(a,a.return,p)}}}break;case 4:if(Zg(b,a),ah(a),4&d&&Ua){e=(f=a.stateNode).containerInfo,f=f.pendingChildren;try{Cb(e,f)}catch(p){U(a,a.return,p)}}break;case 13:Zg(b,a),ah(a),8192&(e=a.child).flags&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||null!==e.alternate&&null!==e.alternate.memoizedState||(bh=D())),4&d&&Xg(a);break;case 22:var g=null!==c&&null!==c.memoizedState;if(1&a.mode?(S=(c=S)||g,Zg(b,a),S=c):Zg(b,a),ah(a),8192&d){if(c=null!==a.memoizedState,(a.stateNode.isHidden=c)&&!g&&1&a.mode)for(T=a,d=a.child;null!==d;){for(b=T=d;null!==T;){var h=(g=T).child;switch(g.tag){case 0:case 11:case 14:case 15:Mg(4,g,g.return);break;case 1:Ig(g,g.return);var k=g.stateNode;if("function"==typeof k.componentWillUnmount){var l=g,m=g.return;try{var r=l;k.props=r.memoizedProps,k.state=r.memoizedState,k.componentWillUnmount()}catch(p){U(l,m,p)}}break;case 5:Ig(g,g.return);break;case 22:if(null!==g.memoizedState){ch(b);continue}}null!==h?(h.return=g,T=h):ch(b)}d=d.sibling}if(Ta)a:if(d=null,Ta)for(b=a;;){if(5===b.tag){if(null===d){d=b;try{e=b.stateNode,c?tb(e):vb(b.stateNode,b.memoizedProps)}catch(p){U(a,a.return,p)}}}else if(6===b.tag){if(null===d)try{f=b.stateNode,c?ub(f):wb(f,b.memoizedProps)}catch(p){U(a,a.return,p)}}else if((22!==b.tag&&23!==b.tag||null===b.memoizedState||b===a)&&null!==b.child){b.child.return=b,b=b.child;continue}if(b===a)break a;for(;null===b.sibling;){if(null===b.return||b.return===a)break a;d===b&&(d=null),b=b.return}d===b&&(d=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:Zg(b,a),ah(a),4&d&&Xg(a);break;case 21:break;default:Zg(b,a),ah(a)}}function ah(a){var b=a.flags;if(2&b){try{if(Ta){b:{for(var c=a.return;null!==c;){if(Qg(c)){var d=c;break b}c=c.return}throw Error(n(160))}switch(d.tag){case 5:var e=d.stateNode;32&d.flags&&(sb(e),d.flags&=-33),Tg(a,Rg(a),e);break;case 3:case 4:var g=d.stateNode.containerInfo;Sg(a,Rg(a),g);break;default:throw Error(n(161))}}}catch(k){U(a,a.return,k)}a.flags&=-3}4096&b&&(a.flags&=-4097)}function dh(a,b,c){T=a,eh(a,b,c)}function eh(a,b,c){for(var d=!!(1&a.mode);null!==T;){var e=T,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Gg;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||S;h=Gg;var l=S;if(Gg=g,(S=k)&&!l)for(T=e;null!==T;)k=(g=T).child,22===g.tag&&null!==g.memoizedState?fh(e):null!==k?(k.return=g,T=k):fh(e);for(;null!==f;)T=f,eh(f,b,c),f=f.sibling;T=e,Gg=h,S=l}gh(a)}else 8772&e.subtreeFlags&&null!==f?(f.return=e,T=f):gh(a)}}function gh(a){for(;null!==T;){var b=T;if(8772&b.flags){var c=b.alternate;try{if(8772&b.flags)switch(b.tag){case 0:case 11:case 15:S||Ng(5,b);break;case 1:var d=b.stateNode;if(4&b.flags&&!S)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:xf(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&me(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){if(c=null,null!==b.child)switch(b.child.tag){case 5:c=Ea(b.child.stateNode);break;case 1:c=b.child.stateNode}me(b,g,c)}break;case 5:var h=b.stateNode;null===c&&4&b.flags&&mb(h,b.type,b.memoizedProps,b);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Va&&null===b.memoizedState){var k=b.alternate;if(null!==k){var l=k.memoizedState;if(null!==l){var m=l.dehydrated;null!==m&&Wb(m)}}}break;default:throw Error(n(163))}S||512&b.flags&&Og(b)}catch(r){U(b,b.return,r)}}if(b===a){T=null;break}if(null!==(c=b.sibling)){c.return=b.return,T=c;break}T=b.return}}function ch(a){for(;null!==T;){var b=T;if(b===a){T=null;break}var c=b.sibling;if(null!==c){c.return=b.return,T=c;break}T=b.return}}function fh(a){for(;null!==T;){var b=T;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Ng(4,b)}catch(k){U(b,c,k)}break;case 1:var d=b.stateNode;if("function"==typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){U(b,e,k)}}var f=b.return;try{Og(b)}catch(k){U(b,f,k)}break;case 5:var g=b.return;try{Og(b)}catch(k){U(b,g,k)}}}catch(k){U(b,b.return,k)}if(b===a){T=null;break}var h=b.sibling;if(null!==h){h.return=b.return,T=h;break}T=b.return}}var hh=0,ih=1,jh=2,kh=3,lh=4;if("function"==typeof Symbol&&Symbol.for){var mh=Symbol.for;hh=mh("selector.component"),ih=mh("selector.has_pseudo_class"),jh=mh("selector.role"),kh=mh("selector.test_id"),lh=mh("selector.text")}function nh(a){var b=Wa(a);if(null!=b){if("string"!=typeof b.memoizedProps["data-testname"])throw Error(n(364));return b}if(null===(a=cb(a)))throw Error(n(362));return a.stateNode.current}function oh(a,b){switch(b.$$typeof){case hh:if(a.type===b.value)return!0;break;case ih:a:{b=b.value,a=[a,0];for(var c=0;c<a.length;){var d=a[c++],e=a[c++],f=b[e];if(5!==d.tag||!fb(d)){for(;null!=f&&oh(d,f);)f=b[++e];if(e===b.length){b=!0;break a}for(d=d.child;null!==d;)a.push(d,e),d=d.sibling}}b=!1}return b;case jh:if(5===a.tag&&gb(a.stateNode,b.value))return!0;break;case lh:if((5===a.tag||6===a.tag)&&(null!==(a=eb(a))&&0<=a.indexOf(b.value)))return!0;break;case kh:if(5===a.tag&&("string"==typeof(a=a.memoizedProps["data-testname"])&&a.toLowerCase()===b.value.toLowerCase()))return!0;break;default:throw Error(n(365))}return!1}function ph(a){switch(a.$$typeof){case hh:return"<"+(ua(a.value)||"Unknown")+">";case ih:return":has("+(ph(a)||"")+")";case jh:return'[role="'+a.value+'"]';case lh:return'"'+a.value+'"';case kh:return'[data-testname="'+a.value+'"]';default:throw Error(n(365))}}function qh(a,b){var c=[];a=[a,0];for(var d=0;d<a.length;){var e=a[d++],f=a[d++],g=b[f];if(5!==e.tag||!fb(e)){for(;null!=g&&oh(e,g);)g=b[++f];if(f===b.length)c.push(e);else for(e=e.child;null!==e;)a.push(e,f),e=e.sibling}}return c}function rh(a,b){if(!bb)throw Error(n(363));a=qh(a=nh(a),b),b=[],a=Array.from(a);for(var c=0;c<a.length;){var d=a[c++];if(5===d.tag)fb(d)||b.push(d.stateNode);else for(d=d.child;null!==d;)a.push(d),d=d.sibling}return b}var sh=Math.ceil,th=da.ReactCurrentDispatcher,uh=da.ReactCurrentOwner,W=da.ReactCurrentBatchConfig,H=0,N=null,X=null,Z=0,$f=0,Zf=ic(0),R=0,vh=null,le=0,wh=0,xh=0,yh=null,zh=null,bh=0,Dg=1/0,Ah=null;function Bh(){Dg=D()+500}var ai,Jf=!1,Kf=null,Mf=null,Ch=!1,Dh=null,Eh=0,Fh=0,Gh=null,Hh=-1,Ih=0;function O(){return 6&H?D():-1!==Hh?Hh:Hh=D()}function tf(a){return 1&a.mode?2&H&&0!==Z?Z&-Z:null!==Cd.transition?(0===Ih&&(Ih=Dc()),Ih):0!==(a=C)?a:Ya():1}function af(a,b,c,d){if(50<Fh)throw Fh=0,Gh=null,Error(n(185));Fc(a,c,d),2&H&&a===N||(a===N&&(!(2&H)&&(wh|=c),4===R&&Jh(a,Z)),Kh(a,d),1===c&&0===H&&!(1&b.mode)&&(Bh(),Xc&&ad()))}function Kh(a,b){var c=a.callbackNode;!function Bc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-tc(f),h=1<<g,k=e[g];-1===k?h&c&&!(h&d)||(e[g]=Ac(h,b)):k<=b&&(a.expiredLanes|=h),f&=~h}}(a,b);var d=zc(a,a===N?Z:0);if(0===d)null!==c&&Kc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){if(null!=c&&Kc(c),1===b)0===a.tag?function $c(a){Xc=!0,Zc(a)}(Lh.bind(null,a)):Zc(Lh.bind(null,a)),$a?ab((function(){!(6&H)&&ad()})):Jc(Nc,ad),c=null;else{switch(Ic(d)){case 1:c=Nc;break;case 4:c=Oc;break;case 16:default:c=Pc;break;case 536870912:c=Qc}c=Mh(c,Nh.bind(null,a))}a.callbackPriority=b,a.callbackNode=c}}function Nh(a,b){if(Hh=-1,Ih=0,6&H)throw Error(n(327));var c=a.callbackNode;if(Oh()&&a.callbackNode!==c)return null;var d=zc(a,a===N?Z:0);if(0===d)return null;if(30&d||d&a.expiredLanes||b)b=Ph(a,d);else{b=d;var e=H;H|=2;var f=Qh();for(N===a&&Z===b||(Ah=null,Bh(),Rh(a,b));;)try{Sh();break}catch(h){Th(a,h)}Ud(),th.current=f,H=e,null!==X?b=0:(N=null,Z=0,b=R)}if(0!==b){if(2===b&&(0!==(e=Cc(a))&&(d=e,b=Uh(a,e))),1===b)throw c=vh,Rh(a,0),Jh(a,d),Kh(a,D()),c;if(6===b)Jh(a,d);else{if(e=a.current.alternate,!(30&d||function Vh(a){for(var b=a;;){if(16384&b.flags){var c=b.updateQueue;if(null!==c&&null!==(c=c.stores))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!Vc(f(),e))return!1}catch(g){return!1}}}if(c=b.child,16384&b.subtreeFlags&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}(e)||(b=Ph(a,d),2===b&&(f=Cc(a),0!==f&&(d=f,b=Uh(a,f))),1!==b)))throw c=vh,Rh(a,0),Jh(a,d),Kh(a,D()),c;switch(a.finishedWork=e,a.finishedLanes=d,b){case 0:case 1:throw Error(n(345));case 2:case 5:Wh(a,zh,Ah);break;case 3:if(Jh(a,d),(130023424&d)===d&&10<(b=bh+500-D())){if(0!==zc(a,0))break;if(((e=a.suspendedLanes)&d)!==d){O(),a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Pa(Wh.bind(null,a,zh,Ah),b);break}Wh(a,zh,Ah);break;case 4:if(Jh(a,d),(4194240&d)===d)break;for(b=a.eventTimes,e=-1;0<d;){var g=31-tc(d);f=1<<g,(g=b[g])>e&&(e=g),d&=~f}if(d=e,10<(d=(120>(d=D()-d)?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*sh(d/1960))-d)){a.timeoutHandle=Pa(Wh.bind(null,a,zh,Ah),d);break}Wh(a,zh,Ah);break;default:throw Error(n(329))}}}return Kh(a,D()),a.callbackNode===c?Nh.bind(null,a):null}function Uh(a,b){var c=yh;return a.current.memoizedState.isDehydrated&&(Rh(a,b).flags|=256),2!==(a=Ph(a,b))&&(b=zh,zh=c,null!==b&&Cg(b)),a}function Cg(a){null===zh?zh=a:zh.push.apply(zh,a)}function Jh(a,b){for(b&=~xh,b&=~wh,a.suspendedLanes|=b,a.pingedLanes&=~b,a=a.expirationTimes;0<b;){var c=31-tc(b),d=1<<c;a[c]=-1,b&=~d}}function Lh(a){if(6&H)throw Error(n(327));Oh();var b=zc(a,0);if(!(1&b))return Kh(a,D()),null;var c=Ph(a,b);if(0!==a.tag&&2===c){var d=Cc(a);0!==d&&(b=d,c=Uh(a,d))}if(1===c)throw c=vh,Rh(a,0),Jh(a,b),Kh(a,D()),c;if(6===c)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=b,Wh(a,zh,Ah),Kh(a,D()),null}function Xh(a){null!==Dh&&0===Dh.tag&&!(6&H)&&Oh();var b=H;H|=1;var c=W.transition,d=C;try{if(W.transition=null,C=1,a)return a()}finally{C=d,W.transition=c,!(6&(H=b))&&ad()}}function Eg(){$f=Zf.current,q(Zf)}function Rh(a,b){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;if(c!==Ra&&(a.timeoutHandle=Ra,Qa(c)),null!==X)for(c=X.return;null!==c;){var d=c;switch(nd(d),d.tag){case 1:null!=(d=d.type.childContextTypes)&&nc();break;case 3:te(),q(z),q(x),ye();break;case 5:ve(d);break;case 4:te();break;case 13:case 19:q(I);break;case 10:Wd(d.type._context);break;case 22:case 23:Eg()}c=c.return}if(N=a,X=a=Jd(a.current,null),Z=$f=b,R=0,vh=null,xh=wh=le=0,zh=yh=null,null!==$d){for(b=0;b<$d.length;b++)if(null!==(d=(c=$d[b]).interleaved)){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e,d.next=g}c.pending=d}$d=null}return a}function Th(a,b){for(;;){var c=X;try{if(Ud(),ze.current=Le,Ce){for(var d=J.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null),d=d.next}Ce=!1}if(Be=0,L=K=J=null,De=!1,Ee=0,uh.current=null,null===c||null===c.return){R=1,vh=b,X=null;break}a:{var f=a,g=c.return,h=c,k=b;if(b=Z,h.flags|=32768,null!==k&&"object"==typeof k&&"function"==typeof k.then){var l=k,m=h,r=m.tag;if(!(1&m.mode||0!==r&&11!==r&&15!==r)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var B=Pf(g);if(null!==B){B.flags&=-257,Qf(B,g,h,0,b),1&B.mode&&Nf(f,l,b),k=l;var w=(b=B).updateQueue;if(null===w){var Y=new Set;Y.add(k),b.updateQueue=Y}else w.add(k);break a}if(!(1&b)){Nf(f,l,b),ng();break a}k=Error(n(426))}else if(F&&1&h.mode){var ya=Pf(g);if(null!==ya){!(65536&ya.flags)&&(ya.flags|=256),Qf(ya,g,h,0,b),Bd(Ef(k,h));break a}}f=k=Ef(k,h),4!==R&&(R=2),null===yh?yh=[f]:yh.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,b&=-b,f.lanes|=b,je(f,If(0,k,b));break a;case 1:h=k;var u=f.type,t=f.stateNode;if(!(128&f.flags||"function"!=typeof u.getDerivedStateFromError&&(null===t||"function"!=typeof t.componentDidCatch||null!==Mf&&Mf.has(t)))){f.flags|=65536,b&=-b,f.lanes|=b,je(f,Lf(f,h,b));break a}}f=f.return}while(null!==f)}Yh(c)}catch(lc){b=lc,X===c&&null!==c&&(X=c=c.return);continue}break}}function Qh(){var a=th.current;return th.current=Le,null===a?Le:a}function ng(){0!==R&&3!==R&&2!==R||(R=4),null===N||!(268435455&le)&&!(268435455&wh)||Jh(N,Z)}function Ph(a,b){var c=H;H|=2;var d=Qh();for(N===a&&Z===b||(Ah=null,Rh(a,b));;)try{Zh();break}catch(e){Th(a,e)}if(Ud(),H=c,th.current=d,null!==X)throw Error(n(261));return N=null,Z=0,R}function Zh(){for(;null!==X;)$h(X)}function Sh(){for(;null!==X&&!Lc();)$h(X)}function $h(a){var b=ai(a.alternate,a,$f);a.memoizedProps=a.pendingProps,null===b?Yh(a):X=b,uh.current=null}function Yh(a){var b=a;do{var c=b.alternate;if(a=b.return,32768&b.flags){if(null!==(c=Fg(c,b)))return c.flags&=32767,void(X=c);if(null===a)return R=6,void(X=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}else if(null!==(c=Bg(c,b,$f)))return void(X=c);if(null!==(b=b.sibling))return void(X=b);X=b=a}while(null!==b);0===R&&(R=5)}function Wh(a,b,c){var d=C,e=W.transition;try{W.transition=null,C=1,function bi(a,b,c,d){do{Oh()}while(null!==Dh);if(6&H)throw Error(n(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;if(a.finishedWork=null,a.finishedLanes=0,c===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var f=c.lanes|c.childLanes;if(function Gc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=b,a.mutableReadLanes&=b,a.entangledLanes&=b,b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-tc(c),f=1<<e;b[e]=0,d[e]=-1,a[e]=-1,c&=~f}}(a,f),a===N&&(X=N=null,Z=0),!(2064&c.subtreeFlags)&&!(2064&c.flags)||Ch||(Ch=!0,Mh(Pc,(function(){return Oh(),null}))),f=!!(15990&c.flags),!!(15990&c.subtreeFlags)||f){f=W.transition,W.transition=null;var g=C;C=1;var h=H;H|=4,uh.current=null,function Lg(a,b){for(Ha(a.containerInfo),T=b;null!==T;)if(b=(a=T).child,1028&a.subtreeFlags&&null!==b)b.return=a,T=b;else for(;null!==T;){a=T;try{var c=a.alternate;if(1024&a.flags)switch(a.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==c){var d=c.memoizedProps,e=c.memoizedState,f=a.stateNode,g=f.getSnapshotBeforeUpdate(a.elementType===a.type?d:xf(a.type,d),e);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:Ta&&xb(a.stateNode.containerInfo);break;default:throw Error(n(163))}}catch(h){U(a,a.return,h)}if(null!==(b=a.sibling)){b.return=a.return,T=b;break}T=a.return}return c=Kg,Kg=!1,c}(a,c),$g(c,a),Ia(a.containerInfo),a.current=c,dh(c,a,e),Mc(),H=h,C=g,W.transition=f}else a.current=c;if(Ch&&(Ch=!1,Dh=a,Eh=e),f=a.pendingLanes,0===f&&(Mf=null),function Tc(a){if(Sc&&"function"==typeof Sc.onCommitFiberRoot)try{Sc.onCommitFiberRoot(Rc,a,void 0,!(128&~a.current.flags))}catch(b){}}(c.stateNode),Kh(a,D()),null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Jf)throw Jf=!1,a=Kf,Kf=null,a;return!!(1&Eh)&&0!==a.tag&&Oh(),f=a.pendingLanes,1&f?a===Gh?Fh++:(Fh=0,Gh=a):Fh=0,ad(),null}(a,b,c,d)}finally{W.transition=e,C=d}return null}function Oh(){if(null!==Dh){var a=Ic(Eh),b=W.transition,c=C;try{if(W.transition=null,C=16>a?16:a,null===Dh)var d=!1;else{if(a=Dh,Dh=null,Eh=0,6&H)throw Error(n(331));var e=H;for(H|=4,T=a.current;null!==T;){var f=T,g=f.child;if(16&T.flags){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(T=l;null!==T;){var m=T;switch(m.tag){case 0:case 11:case 15:Mg(8,m,f)}var r=m.child;if(null!==r)r.return=m,T=r;else for(;null!==T;){var p=(m=T).sibling,B=m.return;if(Pg(m),m===l){T=null;break}if(null!==p){p.return=B,T=p;break}T=B}}}var w=f.alternate;if(null!==w){var Y=w.child;if(null!==Y){w.child=null;do{var ya=Y.sibling;Y.sibling=null,Y=ya}while(null!==Y)}}T=f}}if(2064&f.subtreeFlags&&null!==g)g.return=f,T=g;else b:for(;null!==T;){if(2048&(f=T).flags)switch(f.tag){case 0:case 11:case 15:Mg(9,f,f.return)}var E=f.sibling;if(null!==E){E.return=f.return,T=E;break b}T=f.return}}var u=a.current;for(T=u;null!==T;){var t=(g=T).child;if(2064&g.subtreeFlags&&null!==t)t.return=g,T=t;else b:for(g=u;null!==T;){if(2048&(h=T).flags)try{switch(h.tag){case 0:case 11:case 15:Ng(9,h)}}catch(lc){U(h,h.return,lc)}if(h===g){T=null;break b}var Db=h.sibling;if(null!==Db){Db.return=h.return,T=Db;break b}T=h.return}}if(H=e,ad(),Sc&&"function"==typeof Sc.onPostCommitFiberRoot)try{Sc.onPostCommitFiberRoot(Rc,a)}catch(lc){}d=!0}return d}finally{C=c,W.transition=b}}return!1}function ci(a,b,c){a=he(a,b=If(0,b=Ef(c,b),1),1),b=O(),null!==a&&(Fc(a,1,b),Kh(a,b))}function U(a,b,c){if(3===a.tag)ci(a,a,c);else for(;null!==b;){if(3===b.tag){ci(b,a,c);break}if(1===b.tag){var d=b.stateNode;if("function"==typeof b.type.getDerivedStateFromError||"function"==typeof d.componentDidCatch&&(null===Mf||!Mf.has(d))){b=he(b,a=Lf(b,a=Ef(c,a),1),1),a=O(),null!==b&&(Fc(b,1,a),Kh(b,a));break}}b=b.return}}function Of(a,b,c){var d=a.pingCache;null!==d&&d.delete(b),b=O(),a.pingedLanes|=a.suspendedLanes&c,N===a&&(Z&c)===c&&(4===R||3===R&&(130023424&Z)===Z&&500>D()-bh?Rh(a,0):xh|=c),Kh(a,b)}function di(a,b){0===b&&(1&a.mode?(b=xc,!(130023424&(xc<<=1))&&(xc=4194304)):b=1);var c=O();null!==(a=ce(a,b))&&(Fc(a,b,c),Kh(a,c))}function og(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane),di(a,c)}function Yg(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode,e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(n(314))}null!==d&&d.delete(b),di(a,c)}function Mh(a,b){return Jc(a,b)}function fi(a,b,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function td(a,b,c,d){return new fi(a,b,c,d)}function Vf(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Jd(a,b){var c=a.alternate;return null===c?((c=td(a.tag,b,a.key,a.mode)).elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=14680064&a.flags,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,b=a.dependencies,c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function Ld(a,b,c,d,e,f){var g=2;if(d=a,"function"==typeof a)Vf(a)&&(g=1);else if("string"==typeof a)g=5;else a:switch(a){case ha:return Nd(c.children,e,f,b);case ia:g=8,e|=8;break;case ja:return(a=td(12,c,b,2|e)).elementType=ja,a.lanes=f,a;case na:return(a=td(13,c,b,e)).elementType=na,a.lanes=f,a;case oa:return(a=td(19,c,b,e)).elementType=oa,a.lanes=f,a;case ra:return jg(c,e,f,b);default:if("object"==typeof a&&null!==a)switch(a.$$typeof){case ka:g=10;break a;case la:g=9;break a;case ma:g=11;break a;case pa:g=14;break a;case qa:g=16,d=null;break a}throw Error(n(130,null==a?a:typeof a,""))}return(b=td(g,c,b,e)).elementType=a,b.type=d,b.lanes=f,b}function Nd(a,b,c,d){return(a=td(7,a,d,b)).lanes=c,a}function jg(a,b,c,d){return(a=td(22,a,d,b)).elementType=ra,a.lanes=c,a.stateNode={isHidden:!1},a}function Kd(a,b,c){return(a=td(6,a,null,b)).lanes=c,a}function Md(a,b,c){return(b=td(4,null!==a.children?a.children:[],a.key,b)).lanes=c,b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},b}function gi(a,b,c,d,e){this.tag=b,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ra,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ec(0),this.expirationTimes=Ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.identifierPrefix=d,this.onRecoverableError=e,Va&&(this.mutableSourceEagerHydrationData=null)}function hi(a,b,c,d,e,f,g,h,k){return a=new gi(a,b,c,h,k),1===b?(b=1,!0===f&&(b|=8)):b=0,f=td(3,null,null,b),a.current=f,f.stateNode=a,f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},ee(f),a}function ii(a){if(!a)return jc;a:{if(wa(a=a._reactInternals)!==a||1!==a.tag)throw Error(n(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(A(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(n(171))}if(1===a.tag){var c=a.type;if(A(c))return pc(a,c,b)}return b}function ji(a){var b=a._reactInternals;if(void 0===b){if("function"==typeof a.render)throw Error(n(188));throw a=Object.keys(a).join(","),Error(n(268,a))}return null===(a=Aa(b))?null:a.stateNode}function ki(a,b){if(null!==(a=a.memoizedState)&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function li(a,b){ki(a,b),(a=a.alternate)&&ki(a,b)}function mi(a){return null===(a=Aa(a))?null:a.stateNode}function ni(){return null}return ai=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||z.current)G=!0;else{if(!(a.lanes&c||128&b.flags))return G=!1,function sg(a,b,c){switch(b.tag){case 3:eg(b),Ad();break;case 5:ue(b);break;case 1:A(b.type)&&qc(b);break;case 4:se(b,b.stateNode.containerInfo);break;case 10:Vd(0,b.type._context,b.memoizedProps.value);break;case 13:var d=b.memoizedState;if(null!==d)return null!==d.dehydrated?(v(I,1&I.current),b.flags|=128,null):c&b.child.childLanes?ig(a,b,c):(v(I,1&I.current),null!==(a=Tf(a,b,c))?a.sibling:null);v(I,1&I.current);break;case 19:if(d=!!(c&b.childLanes),128&a.flags){if(d)return rg(a,b,c);b.flags|=128}var e=b.memoizedState;if(null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null),v(I,I.current),d)break;return null;case 22:case 23:return b.lanes=0,Yf(a,b,c)}return Tf(a,b,c)}(a,b,c);G=!!(131072&a.flags)}else G=!1,F&&1048576&b.flags&&ld(b,ed,b.index);switch(b.lanes=0,b.tag){case 2:var d=b.type;cg(a,b),a=b.pendingProps;var e=mc(b,x.current);Yd(b,c),e=He(null,b,d,a,e,c);var f=Me();return b.flags|=1,"object"==typeof e&&null!==e&&"function"==typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=null,A(d)?(f=!0,qc(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,ee(b),e.updater=zf,b.stateNode=e,e._reactInternals=b,Df(b,d,a,c),b=dg(null,b,d,!0,f,c)):(b.tag=0,F&&f&&md(b),P(null,b,e,c),b=b.child),b;case 16:d=b.elementType;a:{switch(cg(a,b),a=b.pendingProps,d=(e=d._init)(d._payload),b.type=d,e=b.tag=function ei(a){if("function"==typeof a)return Vf(a)?1:0;if(null!=a){if((a=a.$$typeof)===ma)return 11;if(a===pa)return 14}return 2}(d),a=xf(d,a),e){case 0:b=Xf(null,b,d,a,c);break a;case 1:b=bg(null,b,d,a,c);break a;case 11:b=Sf(null,b,d,a,c);break a;case 14:b=Uf(null,b,d,xf(d.type,a),c);break a}throw Error(n(306,d,""))}return b;case 0:return d=b.type,e=b.pendingProps,Xf(a,b,d,e=b.elementType===d?e:xf(d,e),c);case 1:return d=b.type,e=b.pendingProps,bg(a,b,d,e=b.elementType===d?e:xf(d,e),c);case 3:a:{if(eg(b),null===a)throw Error(n(387));d=b.pendingProps,e=(f=b.memoizedState).element,fe(a,b),ke(b,d,null,c);var g=b.memoizedState;if(d=g.element,Va&&f.isDehydrated){if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=f,b.memoizedState=f,256&b.flags){b=fg(a,b,d,c,e=Ef(Error(n(423)),b));break a}if(d!==e){b=fg(a,b,d,c,e=Ef(Error(n(424)),b));break a}for(Va&&(pd=Pb(b.stateNode.containerInfo),od=b,F=!0,rd=null,qd=!1),c=Pd(b,null,d,c),b.child=c;c;)c.flags=-3&c.flags|4096,c=c.sibling}else{if(Ad(),d===e){b=Tf(a,b,c);break a}P(a,b,d,c)}b=b.child}return b;case 5:return ue(b),null===a&&wd(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Na(d,e)?g=null:null!==f&&Na(d,f)&&(b.flags|=32),ag(a,b),P(a,b,g,c),b.child;case 6:return null===a&&wd(b),null;case 13:return ig(a,b,c);case 4:return se(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Od(b,null,d,c):P(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,Sf(a,b,d,e=b.elementType===d?e:xf(d,e),c);case 7:return P(a,b,b.pendingProps,c),b.child;case 8:case 12:return P(a,b,b.pendingProps.children,c),b.child;case 10:a:{if(d=b.type._context,e=b.pendingProps,f=b.memoizedProps,Vd(0,d,g=e.value),null!==f)if(Vc(f.value,g)){if(f.children===e.children&&!z.current){b=Tf(a,b,c);break a}}else for(null!==(f=b.child)&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){(k=ge(-1,c&-c)).tag=2;var l=f.updateQueue;if(null!==l){var m=(l=l.shared).pending;null===m?k.next=k:(k.next=m.next,m.next=k),l.pending=k}}f.lanes|=c,null!==(k=f.alternate)&&(k.lanes|=c),Xd(f.return,c,b),h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){if(null===(g=f.return))throw Error(n(341));g.lanes|=c,null!==(h=g.alternate)&&(h.lanes|=c),Xd(g,c,b),g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}if(null!==(f=g.sibling)){f.return=g.return,g=f;break}g=g.return}f=g}P(a,b,e.children,c),b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,Yd(b,c),d=d(e=Zd(e)),b.flags|=1,P(a,b,d,c),b.child;case 14:return e=xf(d=b.type,b.pendingProps),Uf(a,b,d,e=xf(d.type,e),c);case 15:return Wf(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:xf(d,e),cg(a,b),b.tag=1,A(d)?(a=!0,qc(b)):a=!1,Yd(b,c),Bf(b,d,e),Df(b,d,e,c),dg(null,b,d,!0,a,c);case 19:return rg(a,b,c);case 22:return Yf(a,b,c)}throw Error(n(156,b.tag))},exports.attemptContinuousHydration=function(a){if(13===a.tag){var b=ce(a,134217728);if(null!==b)af(b,a,134217728,O());li(a,134217728)}},exports.attemptDiscreteHydration=function(a){if(13===a.tag){var b=ce(a,1);if(null!==b)af(b,a,1,O());li(a,1)}},exports.attemptHydrationAtCurrentPriority=function(a){if(13===a.tag){var b=tf(a),c=ce(a,b);if(null!==c)af(c,a,b,O());li(a,b)}},exports.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=yc(b.pendingLanes);0!==c&&(Hc(b,1|c),Kh(b,D()),!(6&H)&&(Bh(),ad()))}break;case 13:Xh((function(){var b=ce(a,1);if(null!==b){var c=O();af(b,a,1,c)}})),li(a,1)}},exports.batchedUpdates=function(a,b){var c=H;H|=1;try{return a(b)}finally{0===(H=c)&&(Bh(),Xc&&ad())}},exports.createComponentSelector=function(a){return{$$typeof:hh,value:a}},exports.createContainer=function(a,b,c,d,e,f,g){return hi(a,b,!1,null,0,d,0,f,g)},exports.createHasPseudoClassSelector=function(a){return{$$typeof:ih,value:a}},exports.createHydrationContainer=function(a,b,c,d,e,f,g,h,k){return(a=hi(c,d,!0,a,0,f,0,h,k)).context=ii(null),c=a.current,(f=ge(d=O(),e=tf(c))).callback=null!=b?b:null,he(c,f,e),a.current.lanes=e,Fc(a,e,d),Kh(a,d),a},exports.createPortal=function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:fa,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}},exports.createRoleSelector=function(a){return{$$typeof:jh,value:a}},exports.createTestNameSelector=function(a){return{$$typeof:kh,value:a}},exports.createTextSelector=function(a){return{$$typeof:lh,value:a}},exports.deferredUpdates=function(a){var b=C,c=W.transition;try{return W.transition=null,C=16,a()}finally{C=b,W.transition=c}},exports.discreteUpdates=function(a,b,c,d,e){var f=C,g=W.transition;try{return W.transition=null,C=1,a(b,c,d,e)}finally{C=f,W.transition=g,0===H&&Bh()}},exports.findAllNodes=rh,exports.findBoundingRects=function(a,b){if(!bb)throw Error(n(363));b=rh(a,b),a=[];for(var c=0;c<b.length;c++)a.push(db(b[c]));for(b=a.length-1;0<b;b--)for(var d=(c=a[b]).x,e=d+c.width,f=c.y,g=f+c.height,h=b-1;0<=h;h--)if(b!==h){var k=a[h],l=k.x,m=l+k.width,r=k.y,p=r+k.height;if(d>=l&&f>=r&&e<=m&&g<=p){a.splice(b,1);break}if(!(d!==l||c.width!==k.width||p<f||r>g)){r>f&&(k.height+=r-f,k.y=f),p<g&&(k.height=g-r),a.splice(b,1);break}if(!(f!==r||c.height!==k.height||m<d||l>e)){l>d&&(k.width+=l-d,k.x=d),m<e&&(k.width=e-l),a.splice(b,1);break}}return a},exports.findHostInstance=ji,exports.findHostInstanceWithNoPortals=function(a){return null===(a=null!==(a=za(a))?Ca(a):null)?null:a.stateNode},exports.findHostInstanceWithWarning=function(a){return ji(a)},exports.flushControlled=function(a){var b=H;H|=1;var c=W.transition,d=C;try{W.transition=null,C=1,a()}finally{C=d,W.transition=c,0===(H=b)&&(Bh(),ad())}},exports.flushPassiveEffects=Oh,exports.flushSync=Xh,exports.focusWithin=function(a,b){if(!bb)throw Error(n(363));for(b=qh(a=nh(a),b),b=Array.from(b),a=0;a<b.length;){var c=b[a++];if(!fb(c)){if(5===c.tag&&hb(c.stateNode))return!0;for(c=c.child;null!==c;)b.push(c),c=c.sibling}}return!1},exports.getCurrentUpdatePriority=function(){return C},exports.getFindAllNodesFailureDescription=function(a,b){if(!bb)throw Error(n(363));var c=0,d=[];a=[nh(a),0];for(var e=0;e<a.length;){var f=a[e++],g=a[e++],h=b[g];if((5!==f.tag||!fb(f))&&(oh(f,h)&&(d.push(ph(h)),++g>c&&(c=g)),g<b.length))for(f=f.child;null!==f;)a.push(f,g),f=f.sibling}if(c<b.length){for(a=[];c<b.length;c++)a.push(ph(b[c]));return"findAllNodes was able to match part of the selector:\n  "+d.join(" > ")+"\n\nNo matching component was found for:\n  "+a.join(" > ")}return null},exports.getPublicRootInstance=function(a){return(a=a.current).child?5===a.child.tag?Ea(a.child.stateNode):a.child.stateNode:null},exports.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:da.ReactCurrentDispatcher,findHostInstanceByFiber:mi,findFiberByHostInstance:a.findFiberByHostInstance||ni,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)a=!1;else{var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)a=!0;else{try{Rc=b.inject(a),Sc=b}catch(c){}a=!!b.checkDCE}}return a},exports.isAlreadyRendering=function(){return!1},exports.observeVisibleRects=function(a,b,c,d){if(!bb)throw Error(n(363));a=rh(a,b);var e=ib(a,c,d).disconnect;return{disconnect:function(){e()}}},exports.registerMutableSourceForHydration=function(a,b){var c=b._getVersion;c=c(b._source),null==a.mutableSourceEagerHydrationData?a.mutableSourceEagerHydrationData=[b,c]:a.mutableSourceEagerHydrationData.push(b,c)},exports.runWithPriority=function(a,b){var c=C;try{return C=a,b()}finally{C=c}},exports.shouldError=function(){return null},exports.shouldSuspend=function(){return!1},exports.updateContainer=function(a,b,c,d){var e=b.current,f=O(),g=tf(e);return c=ii(c),null===b.context?b.context=c:b.pendingContext=c,(b=ge(f,g)).payload={element:a},null!==(d=void 0===d?null:d)&&(b.callback=d),null!==(a=he(e,b,g))&&(af(a,e,g,f),ie(a,e,g)),g},exports}},"./node_modules/react-reconciler/constants.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react-reconciler/cjs/react-reconciler-constants.production.min.js")},"./node_modules/react-reconciler/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react-reconciler/cjs/react-reconciler.production.min.js")},"./node_modules/scheduler/cjs/scheduler.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__("./node_modules/console-browserify/index.js");function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(!(0<g(e,b)))break a;a[d]=b,a[c]=e,c=d}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else{if(!(n<e&&0>g(x,c)))break a;a[d]=x,a[n]=c,d=n}}}return b}function g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if("object"==typeof performance&&"function"==typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D="function"==typeof setTimeout?setTimeout:null,E="function"==typeof clearTimeout?clearTimeout:null,F="undefined"!=typeof setImmediate?setImmediate:null;function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else{if(!(b.startTime<=a))break;k(t),b.sortIndex=b.expirationTime,f(r,b)}b=h(t)}}function H(a){if(B=!1,G(a),!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}function J(a,b){A=!1,B&&(B=!1,E(L),L=-1),z=!0;var c=y;try{for(G(b),v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if("function"==typeof d){v.callback=null,y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now(),"function"==typeof e?v.callback=e:v===h(r)&&k(r),G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b),w=!1}return w}finally{v=null,y=c,z=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,N=!1,O=null,L=-1,P=5,Q=-1;function M(){return!(exports.unstable_now()-Q<P)}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}if("function"==typeof F)S=function(){F(R)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R,S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a,N||(N=!0,S())}function K(a,b){L=D((function(){a(exports.unstable_now())}),b)}exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(a){a.callback=null},exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))},exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<a?Math.floor(1e3/a):5},exports.unstable_getCurrentPriorityLevel=function(){return y},exports.unstable_getFirstCallbackNode=function(){return h(r)},exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}},exports.unstable_pauseExecution=function(){},exports.unstable_requestPaint=function(){},exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}},exports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();switch("object"==typeof c&&null!==c?c="number"==typeof(c=c.delay)&&0<c?d+c:d:c=d,a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1e4;break;default:e=5e3}return a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e=c+e,sortIndex:-1},c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J))),a},exports.unstable_shouldYield=M,exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}}},"./node_modules/scheduler/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/scheduler/cjs/scheduler.production.min.js")},"./node_modules/use-immer/dist/use-immer.module.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>i});var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(error,...args){throw new Error(`[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(value){return!!value&&!!value[DRAFT_STATE]}function isDraftable(value){return!!value&&(isPlainObject(value)||Array.isArray(value)||!!value[DRAFTABLE]||!!value.constructor?.[DRAFTABLE]||isMap(value)||isSet(value))}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject(value){if(!value||"object"!=typeof value)return!1;const proto=getPrototypeOf(value);if(null===proto)return!0;const Ctor=Object.hasOwnProperty.call(proto,"constructor")&&proto.constructor;return Ctor===Object||"function"==typeof Ctor&&Function.toString.call(Ctor)===objectCtorString}function each(obj,iter){0===getArchtype(obj)?Reflect.ownKeys(obj).forEach((key=>{iter(key,obj[key],obj)})):obj.forEach(((entry,index)=>iter(index,entry,obj)))}function getArchtype(thing){const state=thing[DRAFT_STATE];return state?state.type_:Array.isArray(thing)?1:isMap(thing)?2:isSet(thing)?3:0}function has(thing,prop){return 2===getArchtype(thing)?thing.has(prop):Object.prototype.hasOwnProperty.call(thing,prop)}function set(thing,propOrOldValue,value){const t=getArchtype(thing);2===t?thing.set(propOrOldValue,value):3===t?thing.add(value):thing[propOrOldValue]=value}function isMap(target){return target instanceof Map}function isSet(target){return target instanceof Set}function latest(state){return state.copy_||state.base_}function shallowCopy(base,strict){if(isMap(base))return new Map(base);if(isSet(base))return new Set(base);if(Array.isArray(base))return Array.prototype.slice.call(base);const isPlain=isPlainObject(base);if(!0===strict||"class_only"===strict&&!isPlain){const descriptors=Object.getOwnPropertyDescriptors(base);delete descriptors[DRAFT_STATE];let keys=Reflect.ownKeys(descriptors);for(let i=0;i<keys.length;i++){const key=keys[i],desc=descriptors[key];!1===desc.writable&&(desc.writable=!0,desc.configurable=!0),(desc.get||desc.set)&&(descriptors[key]={configurable:!0,writable:!0,enumerable:desc.enumerable,value:base[key]})}return Object.create(getPrototypeOf(base),descriptors)}{const proto=getPrototypeOf(base);if(null!==proto&&isPlain)return{...base};const obj=Object.create(proto);return Object.assign(obj,base)}}function freeze(obj,deep=!1){return isFrozen(obj)||isDraft(obj)||!isDraftable(obj)||(getArchtype(obj)>1&&(obj.set=obj.add=obj.clear=obj.delete=dontMutateFrozenCollections),Object.freeze(obj),deep&&Object.entries(obj).forEach((([key,value])=>freeze(value,!0)))),obj}function dontMutateFrozenCollections(){die(2)}function isFrozen(obj){return Object.isFrozen(obj)}var currentScope,plugins={};function getPlugin(pluginKey){const plugin=plugins[pluginKey];return plugin||die(0),plugin}function getCurrentScope(){return currentScope}function usePatchesInScope(scope,patchListener){patchListener&&(getPlugin("Patches"),scope.patches_=[],scope.inversePatches_=[],scope.patchListener_=patchListener)}function revokeScope(scope){leaveScope(scope),scope.drafts_.forEach(revokeDraft),scope.drafts_=null}function leaveScope(scope){scope===currentScope&&(currentScope=scope.parent_)}function enterScope(immer2){return currentScope=function createScope(parent_,immer_){return{drafts_:[],parent_,immer_,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(currentScope,immer2)}function revokeDraft(draft){const state=draft[DRAFT_STATE];0===state.type_||1===state.type_?state.revoke_():state.revoked_=!0}function processResult(result,scope){scope.unfinalizedDrafts_=scope.drafts_.length;const baseDraft=scope.drafts_[0];return void 0!==result&&result!==baseDraft?(baseDraft[DRAFT_STATE].modified_&&(revokeScope(scope),die(4)),isDraftable(result)&&(result=finalize(scope,result),scope.parent_||maybeFreeze(scope,result)),scope.patches_&&getPlugin("Patches").generateReplacementPatches_(baseDraft[DRAFT_STATE].base_,result,scope.patches_,scope.inversePatches_)):result=finalize(scope,baseDraft,[]),revokeScope(scope),scope.patches_&&scope.patchListener_(scope.patches_,scope.inversePatches_),result!==NOTHING?result:void 0}function finalize(rootScope,value,path){if(isFrozen(value))return value;const state=value[DRAFT_STATE];if(!state)return each(value,((key,childValue)=>finalizeProperty(rootScope,state,value,key,childValue,path))),value;if(state.scope_!==rootScope)return value;if(!state.modified_)return maybeFreeze(rootScope,state.base_,!0),state.base_;if(!state.finalized_){state.finalized_=!0,state.scope_.unfinalizedDrafts_--;const result=state.copy_;let resultEach=result,isSet2=!1;3===state.type_&&(resultEach=new Set(result),result.clear(),isSet2=!0),each(resultEach,((key,childValue)=>finalizeProperty(rootScope,state,result,key,childValue,path,isSet2))),maybeFreeze(rootScope,result,!1),path&&rootScope.patches_&&getPlugin("Patches").generatePatches_(state,path,rootScope.patches_,rootScope.inversePatches_)}return state.copy_}function finalizeProperty(rootScope,parentState,targetObject,prop,childValue,rootPath,targetIsSet){if(isDraft(childValue)){const res=finalize(rootScope,childValue,rootPath&&parentState&&3!==parentState.type_&&!has(parentState.assigned_,prop)?rootPath.concat(prop):void 0);if(set(targetObject,prop,res),!isDraft(res))return;rootScope.canAutoFreeze_=!1}else targetIsSet&&targetObject.add(childValue);if(isDraftable(childValue)&&!isFrozen(childValue)){if(!rootScope.immer_.autoFreeze_&&rootScope.unfinalizedDrafts_<1)return;finalize(rootScope,childValue),parentState&&parentState.scope_.parent_||"symbol"==typeof prop||!Object.prototype.propertyIsEnumerable.call(targetObject,prop)||maybeFreeze(rootScope,childValue)}}function maybeFreeze(scope,value,deep=!1){!scope.parent_&&scope.immer_.autoFreeze_&&scope.canAutoFreeze_&&freeze(value,deep)}var objectTraps={get(state,prop){if(prop===DRAFT_STATE)return state;const source=latest(state);if(!has(source,prop))return function readPropFromProto(state,source,prop){const desc=getDescriptorFromProto(source,prop);return desc?"value"in desc?desc.value:desc.get?.call(state.draft_):void 0}(state,source,prop);const value=source[prop];return state.finalized_||!isDraftable(value)?value:value===peek(state.base_,prop)?(prepareCopy(state),state.copy_[prop]=createProxy(value,state)):value},has:(state,prop)=>prop in latest(state),ownKeys:state=>Reflect.ownKeys(latest(state)),set(state,prop,value){const desc=getDescriptorFromProto(latest(state),prop);if(desc?.set)return desc.set.call(state.draft_,value),!0;if(!state.modified_){const current2=peek(latest(state),prop),currentState=current2?.[DRAFT_STATE];if(currentState&&currentState.base_===value)return state.copy_[prop]=value,state.assigned_[prop]=!1,!0;if(function is(x,y){return x===y?0!==x||1/x==1/y:x!=x&&y!=y}(value,current2)&&(void 0!==value||has(state.base_,prop)))return!0;prepareCopy(state),markChanged(state)}return state.copy_[prop]===value&&(void 0!==value||prop in state.copy_)||Number.isNaN(value)&&Number.isNaN(state.copy_[prop])||(state.copy_[prop]=value,state.assigned_[prop]=!0),!0},deleteProperty:(state,prop)=>(void 0!==peek(state.base_,prop)||prop in state.base_?(state.assigned_[prop]=!1,prepareCopy(state),markChanged(state)):delete state.assigned_[prop],state.copy_&&delete state.copy_[prop],!0),getOwnPropertyDescriptor(state,prop){const owner=latest(state),desc=Reflect.getOwnPropertyDescriptor(owner,prop);return desc?{writable:!0,configurable:1!==state.type_||"length"!==prop,enumerable:desc.enumerable,value:owner[prop]}:desc},defineProperty(){die(11)},getPrototypeOf:state=>getPrototypeOf(state.base_),setPrototypeOf(){die(12)}},arrayTraps={};function peek(draft,prop){const state=draft[DRAFT_STATE];return(state?latest(state):draft)[prop]}function getDescriptorFromProto(source,prop){if(!(prop in source))return;let proto=getPrototypeOf(source);for(;proto;){const desc=Object.getOwnPropertyDescriptor(proto,prop);if(desc)return desc;proto=getPrototypeOf(proto)}}function markChanged(state){state.modified_||(state.modified_=!0,state.parent_&&markChanged(state.parent_))}function prepareCopy(state){state.copy_||(state.copy_=shallowCopy(state.base_,state.scope_.immer_.useStrictShallowCopy_))}each(objectTraps,((key,fn)=>{arrayTraps[key]=function(){return arguments[0]=arguments[0][0],fn.apply(this,arguments)}})),arrayTraps.deleteProperty=function(state,prop){return arrayTraps.set.call(this,state,prop,void 0)},arrayTraps.set=function(state,prop,value){return objectTraps.set.call(this,state[0],prop,value,state[0])};function createProxy(value,parent){const draft=isMap(value)?getPlugin("MapSet").proxyMap_(value,parent):isSet(value)?getPlugin("MapSet").proxySet_(value,parent):function createProxyProxy(base,parent){const isArray=Array.isArray(base),state={type_:isArray?1:0,scope_:parent?parent.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:parent,base_:base,draft_:null,copy_:null,revoke_:null,isManual_:!1};let target=state,traps=objectTraps;isArray&&(target=[state],traps=arrayTraps);const{revoke,proxy}=Proxy.revocable(target,traps);return state.draft_=proxy,state.revoke_=revoke,proxy}(value,parent);return(parent?parent.scope_:getCurrentScope()).drafts_.push(draft),draft}function currentImpl(value){if(!isDraftable(value)||isFrozen(value))return value;const state=value[DRAFT_STATE];let copy;if(state){if(!state.modified_)return state.base_;state.finalized_=!0,copy=shallowCopy(value,state.scope_.immer_.useStrictShallowCopy_)}else copy=shallowCopy(value,!0);return each(copy,((key,childValue)=>{set(copy,key,currentImpl(childValue))})),state&&(state.finalized_=!1),copy}var immer=new class{constructor(config){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(base,recipe,patchListener)=>{if("function"==typeof base&&"function"!=typeof recipe){const defaultBase=recipe;recipe=base;const self=this;return function curriedProduce(base2=defaultBase,...args){return self.produce(base2,(draft=>recipe.call(this,draft,...args)))}}let result;if("function"!=typeof recipe&&die(6),void 0!==patchListener&&"function"!=typeof patchListener&&die(7),isDraftable(base)){const scope=enterScope(this),proxy=createProxy(base,void 0);let hasError=!0;try{result=recipe(proxy),hasError=!1}finally{hasError?revokeScope(scope):leaveScope(scope)}return usePatchesInScope(scope,patchListener),processResult(result,scope)}if(!base||"object"!=typeof base){if(result=recipe(base),void 0===result&&(result=base),result===NOTHING&&(result=void 0),this.autoFreeze_&&freeze(result,!0),patchListener){const p=[],ip=[];getPlugin("Patches").generateReplacementPatches_(base,result,p,ip),patchListener(p,ip)}return result}die(1)},this.produceWithPatches=(base,recipe)=>{if("function"==typeof base)return(state,...args)=>this.produceWithPatches(state,(draft=>base(draft,...args)));let patches,inversePatches;return[this.produce(base,recipe,((p,ip)=>{patches=p,inversePatches=ip})),patches,inversePatches]},"boolean"==typeof config?.autoFreeze&&this.setAutoFreeze(config.autoFreeze),"boolean"==typeof config?.useStrictShallowCopy&&this.setUseStrictShallowCopy(config.useStrictShallowCopy)}createDraft(base){isDraftable(base)||die(8),isDraft(base)&&(base=function current(value){isDraft(value)||die(10);return currentImpl(value)}(base));const scope=enterScope(this),proxy=createProxy(base,void 0);return proxy[DRAFT_STATE].isManual_=!0,leaveScope(scope),proxy}finishDraft(draft,patchListener){const state=draft&&draft[DRAFT_STATE];state&&state.isManual_||die(9);const{scope_:scope}=state;return usePatchesInScope(scope,patchListener),processResult(void 0,scope)}setAutoFreeze(value){this.autoFreeze_=value}setUseStrictShallowCopy(value){this.useStrictShallowCopy_=value}applyPatches(base,patches){let i;for(i=patches.length-1;i>=0;i--){const patch=patches[i];if(0===patch.path.length&&"replace"===patch.op){base=patch.value;break}}i>-1&&(patches=patches.slice(i+1));const applyPatchesImpl=getPlugin("Patches").applyPatches_;return isDraft(base)?applyPatchesImpl(base,patches):this.produce(base,(draft=>applyPatchesImpl(draft,patches)))}},produce=immer.produce;immer.produceWithPatches.bind(immer),immer.setAutoFreeze.bind(immer),immer.setUseStrictShallowCopy.bind(immer),immer.applyPatches.bind(immer),immer.createDraft.bind(immer),immer.finishDraft.bind(immer);var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function i(f){var u=(0,react.useState)((function(){return freeze("function"==typeof f?f():f,!0)})),i=u[1];return[u[0],(0,react.useCallback)((function(t){i("function"==typeof t?produce(t):freeze(t))}),[])]}}}]);